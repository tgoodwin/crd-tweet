var ay=Object.defineProperty;var ly=(e,t,n)=>t in e?ay(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>(ly(e,typeof t!="symbol"?t+"":t,n),n),za=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var O=(e,t,n)=>(za(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ye=(e,t,n,r)=>(za(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qf=(e,t,n,r)=>({set _(i){ye(e,t,i,n)},get _(){return O(e,t,r)}}),Ce=(e,t,n)=>(za(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ws={},uy={get exports(){return ws},set exports(e){ws=e}},aa={},Ie={},cy={get exports(){return Ie},set exports(e){Ie=e}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),fy=Symbol.for("react.portal"),dy=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),gy=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),_y=Symbol.for("react.memo"),Sy=Symbol.for("react.lazy"),Kf=Symbol.iterator;function Cy(e){return e===null||typeof e!="object"?null:(e=Kf&&e[Kf]||e["@@iterator"],typeof e=="function"?e:null)}var Fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Up={};function ai(e,t,n){this.props=e,this.context=t,this.refs=Up,this.updater=n||Fp}ai.prototype.isReactComponent={};ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bp(){}Bp.prototype=ai.prototype;function _u(e,t,n){this.props=e,this.context=t,this.refs=Up,this.updater=n||Fp}var Su=_u.prototype=new Bp;Su.constructor=_u;jp(Su,ai.prototype);Su.isPureReactComponent=!0;var Jf=Array.isArray,$p=Object.prototype.hasOwnProperty,Cu={current:null},qp={key:!0,ref:!0,__self:!0,__source:!0};function Vp(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)$p.call(t,r)&&!qp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:mo,type:e,key:o,ref:s,props:i,_owner:Cu.current}}function Ey(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function wy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yf=/\/+/g;function Fa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wy(""+e.key):t.toString(36)}function rs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case mo:case fy:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Fa(s,0):r,Jf(i)?(n="",e!=null&&(n=e.replace(Yf,"$&/")+"/"),rs(i,t,n,"",function(c){return c})):i!=null&&(Eu(i)&&(i=Ey(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Jf(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Fa(o,l);s+=rs(o,t,n,a,i)}else if(a=Cy(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Fa(o,l++),s+=rs(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Mo(e,t,n){if(e==null)return e;var r=[],i=0;return rs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ky(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},is={transition:null},Ty={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:is,ReactCurrentOwner:Cu};te.Children={map:Mo,forEach:function(e,t,n){Mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!Eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ai;te.Fragment=dy;te.Profiler=hy;te.PureComponent=_u;te.StrictMode=py;te.Suspense=vy;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Cu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)$p.call(t,a)&&!qp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:mo,type:e.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(e){return e={$$typeof:gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:my,_context:e},e.Consumer=e};te.createElement=Vp;te.createFactory=function(e){var t=Vp.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:yy,render:e}};te.isValidElement=Eu;te.lazy=function(e){return{$$typeof:Sy,_payload:{_status:-1,_result:e},_init:ky}};te.memo=function(e,t){return{$$typeof:_y,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=is.transition;is.transition={};try{e()}finally{is.transition=t}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(e,t){return st.current.useCallback(e,t)};te.useContext=function(e){return st.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return st.current.useDeferredValue(e)};te.useEffect=function(e,t){return st.current.useEffect(e,t)};te.useId=function(){return st.current.useId()};te.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return st.current.useMemo(e,t)};te.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};te.useRef=function(e){return st.current.useRef(e)};te.useState=function(e){return st.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return st.current.useTransition()};te.version="18.2.0";(function(e){e.exports=te})(cy);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=Ie,by=Symbol.for("react.element"),Ry=Symbol.for("react.fragment"),Py=Object.prototype.hasOwnProperty,Iy=xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dy={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Py.call(t,r)&&!Dy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:by,type:e,key:o,ref:s,props:i,_owner:Iy.current}}aa.Fragment=Ry;aa.jsx=Hp;aa.jsxs=Hp;(function(e){e.exports=aa})(uy);const fe=ws.jsx,xe=ws.jsxs;var hl={},ml={},Oy={get exports(){return ml},set exports(e){ml=e}},Tt={},gl={},Ly={get exports(){return gl},set exports(e){gl=e}},Wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var Y=U.length;U.push(K);e:for(;0<Y;){var ue=Y-1>>>1,oe=U[ue];if(0<i(oe,K))U[ue]=K,U[Y]=oe,Y=ue;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Y=U.pop();if(Y!==K){U[0]=Y;e:for(var ue=0,oe=U.length,vt=oe>>>1;ue<vt;){var ce=2*(ue+1)-1,Ht=U[ce],pe=ce+1,nn=U[pe];if(0>i(Ht,Y))pe<oe&&0>i(nn,Ht)?(U[ue]=nn,U[pe]=Y,ue=pe):(U[ue]=Ht,U[ce]=Y,ue=ce);else if(pe<oe&&0>i(nn,Y))U[ue]=nn,U[pe]=Y,ue=pe;else break e}}return K}function i(U,K){var Y=U.sortIndex-K.sortIndex;return Y!==0?Y:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],d=1,m=null,v=3,k=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=U)r(c),K.sortIndex=K.expirationTime,t(a,K);else break;K=n(c)}}function T(U){if(y=!1,S(U),!w)if(n(a)!==null)w=!0,Vt(P);else{var K=n(c);K!==null&&bt(T,K.startTime-U)}}function P(U,K){w=!1,y&&(y=!1,h(B),B=-1),k=!0;var Y=v;try{for(S(K),m=n(a);m!==null&&(!(m.expirationTime>K)||U&&!Ne());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var oe=ue(m.expirationTime<=K);K=e.unstable_now(),typeof oe=="function"?m.callback=oe:m===n(a)&&r(a),S(K)}else r(a);m=n(a)}if(m!==null)var vt=!0;else{var ce=n(c);ce!==null&&bt(T,ce.startTime-K),vt=!1}return vt}finally{m=null,v=Y,k=!1}}var M=!1,z=null,B=-1,G=5,j=-1;function Ne(){return!(e.unstable_now()-j<G)}function W(){if(z!==null){var U=e.unstable_now();j=U;var K=!0;try{K=z(!0,U)}finally{K?ne():(M=!1,z=null)}}else M=!1}var ne;if(typeof g=="function")ne=function(){g(W)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,tn=Ge.port2;Ge.port1.onmessage=W,ne=function(){tn.postMessage(null)}}else ne=function(){C(W,0)};function Vt(U){z=U,M||(M=!0,ne())}function bt(U,K){B=C(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||k||(w=!0,Vt(P))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Y=v;v=K;try{return U()}finally{v=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=v;v=U;try{return K()}finally{v=Y}},e.unstable_scheduleCallback=function(U,K,Y){var ue=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ue+Y:ue):Y=ue,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,U={id:d++,callback:K,priorityLevel:U,startTime:Y,expirationTime:oe,sortIndex:-1},Y>ue?(U.sortIndex=Y,t(c,U),n(a)===null&&U===n(c)&&(y?(h(B),B=-1):y=!0,bt(T,Y-ue))):(U.sortIndex=oe,t(a,U),w||k||(w=!0,Vt(P))),U},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(U){var K=v;return function(){var Y=v;v=K;try{return U.apply(this,arguments)}finally{v=Y}}}})(Wp);(function(e){e.exports=Wp})(Ly);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=Ie,kt=gl;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,qi={};function Sr(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(qi[e]=t,e=0;e<t.length;e++)Qp.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=Object.prototype.hasOwnProperty,Ny=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Zf={};function Ay(e){return yl.call(Zf,e)?!0:yl.call(Xf,e)?!1:Ny.test(e)?Zf[e]=!0:(Xf[e]=!0,!1)}function My(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zy(e,t,n,r){if(t===null||typeof t>"u"||My(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var wu=/[\-:]([a-z])/g;function ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wu,ku);Ve[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wu,ku);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wu,ku);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,r){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zy(t,n,i,r)&&(n=null),r||i===null?Ay(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cn=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),xu=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),_l=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),ed=Symbol.iterator;function pi(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,ja;function Ti(e){if(ja===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ja=t&&t[1]||""}return`
`+ja+e}var Ua=!1;function Ba(e,t){if(!e||Ua)return"";Ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ua=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ti(e):""}function Fy(e){switch(e.tag){case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return e=Ba(e.type,!1),e;case 11:return e=Ba(e.type.render,!1),e;case 1:return e=Ba(e.type,!0),e;default:return""}}function Cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Pr:return"Portal";case vl:return"Profiler";case xu:return"StrictMode";case _l:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jp:return(e.displayName||"Context")+".Consumer";case Kp:return(e._context.displayName||"Context")+".Provider";case bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:Cl(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return Cl(e(t))}catch{}}return null}function jy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(t);case 8:return t===xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uy(e){var t=Xp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=Uy(e))}function Zp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function td(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eh(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function wl(e,t){eh(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&kl(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kl(e,t,n){(t!=="number"||ks(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xi=Array.isArray;function Br(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(xi(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function th(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,rh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},By=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(e){By.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Li[t]=Li[e]})});function ih(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Li.hasOwnProperty(e)&&Li[e]?(""+t).trim():t+"px"}function oh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ih(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $y=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if($y[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,$r=null,qr=null;function od(e){if(e=vo(e)){if(typeof Il!="function")throw Error(A(280));var t=e.stateNode;t&&(t=da(t),Il(e.stateNode,e.type,t))}}function sh(e){$r?qr?qr.push(e):qr=[e]:$r=e}function ah(){if($r){var e=$r,t=qr;if(qr=$r=null,od(e),t)for(e=0;e<t.length;e++)od(t[e])}}function lh(e,t){return e(t)}function uh(){}var $a=!1;function ch(e,t,n){if($a)return e(t,n);$a=!0;try{return lh(e,t,n)}finally{$a=!1,($r!==null||qr!==null)&&(uh(),ah())}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var r=da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Dl=!1;if(yn)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Dl=!1}function qy(e,t,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ni=!1,Ts=null,xs=!1,Ol=null,Vy={onError:function(e){Ni=!0,Ts=e}};function Hy(e,t,n,r,i,o,s,l,a){Ni=!1,Ts=null,qy.apply(Vy,arguments)}function Wy(e,t,n,r,i,o,s,l,a){if(Hy.apply(this,arguments),Ni){if(Ni){var c=Ts;Ni=!1,Ts=null}else throw Error(A(198));xs||(xs=!0,Ol=c)}}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sd(e){if(Cr(e)!==e)throw Error(A(188))}function Gy(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sd(i),e;if(o===r)return sd(i),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function dh(e){return e=Gy(e),e!==null?ph(e):null}function ph(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ph(e);if(t!==null)return t;e=e.sibling}return null}var hh=kt.unstable_scheduleCallback,ad=kt.unstable_cancelCallback,Qy=kt.unstable_shouldYield,Ky=kt.unstable_requestPaint,Pe=kt.unstable_now,Jy=kt.unstable_getCurrentPriorityLevel,Iu=kt.unstable_ImmediatePriority,mh=kt.unstable_UserBlockingPriority,bs=kt.unstable_NormalPriority,Yy=kt.unstable_LowPriority,gh=kt.unstable_IdlePriority,la=null,Xt=null;function Xy(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(la,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:t0,Zy=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(Zy(e)/e0|0)|0}var Uo=64,Bo=4194304;function bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=bi(l):(o&=s,o!==0&&(r=bi(o)))}else s=n&~i,s!==0?r=bi(s):o!==0&&(r=bi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function n0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Bt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=n0(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yh(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function i0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function vh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _h,Ou,Sh,Ch,Eh,Nl=!1,$o=[],Fn=null,jn=null,Un=null,Wi=new Map,Gi=new Map,In=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(t.pointerId)}}function mi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=vo(t),t!==null&&Ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function s0(e,t,n,r,i){switch(t){case"focusin":return Fn=mi(Fn,e,t,n,r,i),!0;case"dragenter":return jn=mi(jn,e,t,n,r,i),!0;case"mouseover":return Un=mi(Un,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wi.set(o,mi(Wi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gi.set(o,mi(Gi.get(o)||null,e,t,n,r,i)),!0}return!1}function wh(e){var t=or(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=fh(n),t!==null){e.blockedOn=t,Eh(e.priority,function(){Sh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pl=r,n.target.dispatchEvent(r),Pl=null}else return t=vo(n),t!==null&&Ou(t),e.blockedOn=n,!1;t.shift()}return!0}function ud(e,t,n){os(e)&&n.delete(t)}function a0(){Nl=!1,Fn!==null&&os(Fn)&&(Fn=null),jn!==null&&os(jn)&&(jn=null),Un!==null&&os(Un)&&(Un=null),Wi.forEach(ud),Gi.forEach(ud)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,a0)))}function Qi(e){function t(i){return gi(i,e)}if(0<$o.length){gi($o[0],e);for(var n=1;n<$o.length;n++){var r=$o[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&gi(Fn,e),jn!==null&&gi(jn,e),Un!==null&&gi(Un,e),Wi.forEach(t),Gi.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)wh(n),n.blockedOn===null&&In.shift()}var Vr=Cn.ReactCurrentBatchConfig,Ps=!0;function l0(e,t,n,r){var i=le,o=Vr.transition;Vr.transition=null;try{le=1,Lu(e,t,n,r)}finally{le=i,Vr.transition=o}}function u0(e,t,n,r){var i=le,o=Vr.transition;Vr.transition=null;try{le=4,Lu(e,t,n,r)}finally{le=i,Vr.transition=o}}function Lu(e,t,n,r){if(Ps){var i=Al(e,t,n,r);if(i===null)Za(e,t,r,Is,n),ld(e,r);else if(s0(i,e,t,n,r))r.stopPropagation();else if(ld(e,r),t&4&&-1<o0.indexOf(e)){for(;i!==null;){var o=vo(i);if(o!==null&&_h(o),o=Al(e,t,n,r),o===null&&Za(e,t,r,Is,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Za(e,t,r,null,n)}}var Is=null;function Al(e,t,n,r){if(Is=null,e=Pu(r),e=or(e),e!==null)if(t=Cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Is=e,null}function kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jy()){case Iu:return 1;case mh:return 4;case bs:case Yy:return 16;case gh:return 536870912;default:return 16}default:return 16}}var Mn=null,Nu=null,ss=null;function Th(){if(ss)return ss;var e,t=Nu,n=t.length,r,i="value"in Mn?Mn.value:Mn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ss=i.slice(e,1<r?1-r:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function cd(){return!1}function xt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qo:cd,this.isPropagationStopped=cd,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=xt(li),yo=ke({},li,{view:0,detail:0}),c0=xt(yo),Va,Ha,yi,ua=ke({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(Va=e.screenX-yi.screenX,Ha=e.screenY-yi.screenY):Ha=Va=0,yi=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),fd=xt(ua),f0=ke({},ua,{dataTransfer:0}),d0=xt(f0),p0=ke({},yo,{relatedTarget:0}),Wa=xt(p0),h0=ke({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=xt(h0),g0=ke({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y0=xt(g0),v0=ke({},li,{data:0}),dd=xt(v0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C0[e])?!!t[e]:!1}function Mu(){return E0}var w0=ke({},yo,{key:function(e){if(e.key){var t=_0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k0=xt(w0),T0=ke({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=xt(T0),x0=ke({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),b0=xt(x0),R0=ke({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=xt(R0),I0=ke({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=xt(I0),O0=[9,13,27,32],zu=yn&&"CompositionEvent"in window,Ai=null;yn&&"documentMode"in document&&(Ai=document.documentMode);var L0=yn&&"TextEvent"in window&&!Ai,xh=yn&&(!zu||Ai&&8<Ai&&11>=Ai),hd=String.fromCharCode(32),md=!1;function bh(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function N0(e,t){switch(e){case"compositionend":return Rh(t);case"keypress":return t.which!==32?null:(md=!0,hd);case"textInput":return e=t.data,e===hd&&md?null:e;default:return null}}function A0(e,t){if(Dr)return e==="compositionend"||!zu&&bh(e,t)?(e=Th(),ss=Nu=Mn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M0[e.type]:t==="textarea"}function Ph(e,t,n,r){sh(r),t=Ds(t,"onChange"),0<t.length&&(n=new Au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mi=null,Ki=null;function z0(e){Uh(e,0)}function ca(e){var t=Nr(e);if(Zp(t))return e}function F0(e,t){if(e==="change")return t}var Ih=!1;if(yn){var Ga;if(yn){var Qa="oninput"in document;if(!Qa){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Qa=typeof yd.oninput=="function"}Ga=Qa}else Ga=!1;Ih=Ga&&(!document.documentMode||9<document.documentMode)}function vd(){Mi&&(Mi.detachEvent("onpropertychange",Dh),Ki=Mi=null)}function Dh(e){if(e.propertyName==="value"&&ca(Ki)){var t=[];Ph(t,Ki,e,Pu(e)),ch(z0,t)}}function j0(e,t,n){e==="focusin"?(vd(),Mi=t,Ki=n,Mi.attachEvent("onpropertychange",Dh)):e==="focusout"&&vd()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(Ki)}function B0(e,t){if(e==="click")return ca(t)}function $0(e,t){if(e==="input"||e==="change")return ca(t)}function q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:q0;function Ji(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yl.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var n=_d(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_d(n)}}function Oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lh(){for(var e=window,t=ks();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ks(e.document)}return t}function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V0(e){var t=Lh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Oh(n.ownerDocument.documentElement,n)){if(r!==null&&Fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Sd(n,o);var s=Sd(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H0=yn&&"documentMode"in document&&11>=document.documentMode,Or=null,Ml=null,zi=null,zl=!1;function Cd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zl||Or==null||Or!==ks(r)||(r=Or,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zi&&Ji(zi,r)||(zi=r,r=Ds(Ml,"onSelect"),0<r.length&&(t=new Au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function Vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Ka={},Nh={};yn&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function fa(e){if(Ka[e])return Ka[e];if(!Lr[e])return e;var t=Lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nh)return Ka[e]=t[n];return e}var Ah=fa("animationend"),Mh=fa("animationiteration"),zh=fa("animationstart"),Fh=fa("transitionend"),jh=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){jh.set(e,t),Sr(t,[e])}for(var Ja=0;Ja<Ed.length;Ja++){var Ya=Ed[Ja],W0=Ya.toLowerCase(),G0=Ya[0].toUpperCase()+Ya.slice(1);Qn(W0,"on"+G0)}Qn(Ah,"onAnimationEnd");Qn(Mh,"onAnimationIteration");Qn(zh,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Fh,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function wd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wy(r,t,void 0,e),e.currentTarget=null}function Uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;wd(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;wd(i,l,c),o=a}}}if(xs)throw e=Ol,xs=!1,Ol=null,e}function me(e,t){var n=t[$l];n===void 0&&(n=t[$l]=new Set);var r=e+"__bubble";n.has(r)||(Bh(t,e,2,!1),n.add(r))}function Xa(e,t,n){var r=0;t&&(r|=4),Bh(n,e,r,t)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function Yi(e){if(!e[Ho]){e[Ho]=!0,Qp.forEach(function(n){n!=="selectionchange"&&(Q0.has(n)||Xa(n,!1,e),Xa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ho]||(t[Ho]=!0,Xa("selectionchange",!1,t))}}function Bh(e,t,n,r){switch(kh(t)){case 1:var i=l0;break;case 4:i=u0;break;default:i=Lu}n=i.bind(null,t,n,e),i=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Za(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=or(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}ch(function(){var c=o,d=Pu(n),m=[];e:{var v=jh.get(e);if(v!==void 0){var k=Au,w=e;switch(e){case"keypress":if(as(n)===0)break e;case"keydown":case"keyup":k=k0;break;case"focusin":w="focus",k=Wa;break;case"focusout":w="blur",k=Wa;break;case"beforeblur":case"afterblur":k=Wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=d0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=b0;break;case Ah:case Mh:case zh:k=m0;break;case Fh:k=P0;break;case"scroll":k=c0;break;case"wheel":k=D0;break;case"copy":case"cut":case"paste":k=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=pd}var y=(t&4)!==0,C=!y&&e==="scroll",h=y?v!==null?v+"Capture":null:v;y=[];for(var g=c,S;g!==null;){S=g;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,h!==null&&(T=Hi(g,h),T!=null&&y.push(Xi(g,T,S)))),C)break;g=g.return}0<y.length&&(v=new k(v,w,null,n,d),m.push({event:v,listeners:y}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",v&&n!==Pl&&(w=n.relatedTarget||n.fromElement)&&(or(w)||w[vn]))break e;if((k||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,k?(w=n.relatedTarget||n.toElement,k=c,w=w?or(w):null,w!==null&&(C=Cr(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(k=null,w=c),k!==w)){if(y=fd,T="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=pd,T="onPointerLeave",h="onPointerEnter",g="pointer"),C=k==null?v:Nr(k),S=w==null?v:Nr(w),v=new y(T,g+"leave",k,n,d),v.target=C,v.relatedTarget=S,T=null,or(d)===c&&(y=new y(h,g+"enter",w,n,d),y.target=S,y.relatedTarget=C,T=y),C=T,k&&w)t:{for(y=k,h=w,g=0,S=y;S;S=kr(S))g++;for(S=0,T=h;T;T=kr(T))S++;for(;0<g-S;)y=kr(y),g--;for(;0<S-g;)h=kr(h),S--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=kr(y),h=kr(h)}y=null}else y=null;k!==null&&kd(m,v,k,y,!1),w!==null&&C!==null&&kd(m,C,w,y,!0)}}e:{if(v=c?Nr(c):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var P=F0;else if(gd(v))if(Ih)P=$0;else{P=U0;var M=j0}else(k=v.nodeName)&&k.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=B0);if(P&&(P=P(e,c))){Ph(m,P,n,d);break e}M&&M(e,v,c),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&kl(v,"number",v.value)}switch(M=c?Nr(c):window,e){case"focusin":(gd(M)||M.contentEditable==="true")&&(Or=M,Ml=c,zi=null);break;case"focusout":zi=Ml=Or=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Cd(m,n,d);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":Cd(m,n,d)}var z;if(zu)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Dr?bh(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(xh&&n.locale!=="ko"&&(Dr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Dr&&(z=Th()):(Mn=d,Nu="value"in Mn?Mn.value:Mn.textContent,Dr=!0)),M=Ds(c,B),0<M.length&&(B=new dd(B,e,null,n,d),m.push({event:B,listeners:M}),z?B.data=z:(z=Rh(n),z!==null&&(B.data=z)))),(z=L0?N0(e,n):A0(e,n))&&(c=Ds(c,"onBeforeInput"),0<c.length&&(d=new dd("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=z))}Uh(m,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hi(e,n),o!=null&&r.unshift(Xi(e,o,i)),o=Hi(e,t),o!=null&&r.push(Xi(e,o,i))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kd(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Hi(n,o),a!=null&&s.unshift(Xi(n,a,l))):i||(a=Hi(n,o),a!=null&&s.push(Xi(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var K0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Td(e){return(typeof e=="string"?e:""+e).replace(K0,`
`).replace(J0,"")}function Wo(e,t,n){if(t=Td(t),Td(e)!==t&&n)throw Error(A(425))}function Os(){}var Fl=null,jl=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(Z0)}:Bl;function Z0(e){setTimeout(function(){throw e})}function el(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qi(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ui,Zi="__reactProps$"+ui,vn="__reactContainer$"+ui,$l="__reactEvents$"+ui,ev="__reactListeners$"+ui,tv="__reactHandles$"+ui;function or(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bd(e);e!==null;){if(n=e[Yt])return n;e=bd(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[Yt]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function da(e){return e[Zi]||null}var ql=[],Ar=-1;function Kn(e){return{current:e}}function ge(e){0>Ar||(e.current=ql[Ar],ql[Ar]=null,Ar--)}function de(e,t){Ar++,ql[Ar]=e.current,e.current=t}var Gn={},et=Kn(Gn),mt=Kn(!1),mr=Gn;function ti(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function Ls(){ge(mt),ge(et)}function Rd(e,t,n){if(et.current!==Gn)throw Error(A(168));de(et,t),de(mt,n)}function $h(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(A(108,jy(e)||"Unknown",i));return ke({},n,r)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,mr=et.current,de(et,e),de(mt,mt.current),!0}function Pd(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=$h(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,ge(mt),ge(et),de(et,e)):ge(mt),de(mt,n)}var un=null,pa=!1,tl=!1;function qh(e){un===null?un=[e]:un.push(e)}function nv(e){pa=!0,qh(e)}function Jn(){if(!tl&&un!==null){tl=!0;var e=0,t=le;try{var n=un;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,pa=!1}catch(i){throw un!==null&&(un=un.slice(e+1)),hh(Iu,Jn),i}finally{le=t,tl=!1}}return null}var Mr=[],zr=0,As=null,Ms=0,Pt=[],It=0,gr=null,pn=1,hn="";function tr(e,t){Mr[zr++]=Ms,Mr[zr++]=As,As=e,Ms=t}function Vh(e,t,n){Pt[It++]=pn,Pt[It++]=hn,Pt[It++]=gr,gr=e;var r=pn;e=hn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var o=32-Bt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pn=1<<32-Bt(t)+i|n<<i|r,hn=o+e}else pn=1<<o|n<<i|r,hn=e}function ju(e){e.return!==null&&(tr(e,1),Vh(e,1,0))}function Uu(e){for(;e===As;)As=Mr[--zr],Mr[zr]=null,Ms=Mr[--zr],Mr[zr]=null;for(;e===gr;)gr=Pt[--It],Pt[It]=null,hn=Pt[--It],Pt[It]=null,pn=Pt[--It],Pt[It]=null}var wt=null,Et=null,_e=!1,jt=null;function Hh(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Id(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,Et=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:pn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,Et=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(_e){var t=Et;if(t){var n=t;if(!Id(e,t)){if(Vl(e))throw Error(A(418));t=Bn(n.nextSibling);var r=wt;t&&Id(e,t)?Hh(r,n):(e.flags=e.flags&-4097|2,_e=!1,wt=e)}}else{if(Vl(e))throw Error(A(418));e.flags=e.flags&-4097|2,_e=!1,wt=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Go(e){if(e!==wt)return!1;if(!_e)return Dd(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=Et)){if(Vl(e))throw Wh(),Error(A(418));for(;t;)Hh(e,t),t=Bn(t.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=wt?Bn(e.stateNode.nextSibling):null;return!0}function Wh(){for(var e=Et;e;)e=Bn(e.nextSibling)}function ni(){Et=wt=null,_e=!1}function Bu(e){jt===null?jt=[e]:jt.push(e)}var rv=Cn.ReactCurrentBatchConfig;function zt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var zs=Kn(null),Fs=null,Fr=null,$u=null;function qu(){$u=Fr=Fs=null}function Vu(e){var t=zs.current;ge(zs),e._currentValue=t}function Wl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){Fs=e,$u=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if($u!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(Fs===null)throw Error(A(308));Fr=e,Fs.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var sr=null;function Hu(e){sr===null?sr=[e]:sr.push(e)}function Gh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hu(t)):(n.next=i.next,i.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function Wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_n(e,n)}return i=r.interleaved,i===null?(t.next=t,Hu(r)):(t.next=i.next,i.next=t),r.interleaved=t,_n(e,n)}function ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}function Od(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Pn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(o!==null){var m=i.baseState;s=0,d=c=a=null,l=o;do{var v=l.lane,k=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:k,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(v=t,k=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){m=w.call(k,m,v);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,v=typeof w=="function"?w.call(k,m,v):w,v==null)break e;m=ke({},m,v);break e;case 2:Pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else k={eventTime:k,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=k,a=m):d=d.next=k,s|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(d===null&&(a=m),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);vr|=s,e.lanes=s,e.memoizedState=m}}function Ld(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Kh=new Gp.Component().refs;function Gl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=Vn(e),o=gn(r,i);o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,i),t!==null&&($t(t,e,i,r),ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=Vn(e),o=gn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,i),t!==null&&($t(t,e,i,r),ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Vn(e),i=gn(n,r);i.tag=2,t!=null&&(i.callback=t),t=$n(e,i,r),t!==null&&($t(t,e,r,n),ls(t,e,r))}};function Nd(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ji(n,r)||!Ji(i,o):!0}function Jh(e,t,n){var r=!1,i=Gn,o=t.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(i=gt(t)?mr:et.current,r=t.contextTypes,o=(r=r!=null)?ti(e,i):Gn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ad(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function Ql(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Kh,Wu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Lt(o):(o=gt(t)?mr:et.current,i.context=ti(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Gl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===Kh&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Md(e){var t=e._init;return t(e._payload)}function Yh(e){function t(h,g){if(e){var S=h.deletions;S===null?(h.deletions=[g],h.flags|=16):S.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=Hn(h,g),h.index=0,h.sibling=null,h}function o(h,g,S){return h.index=S,e?(S=h.alternate,S!==null?(S=S.index,S<g?(h.flags|=2,g):S):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,S,T){return g===null||g.tag!==6?(g=ll(S,h.mode,T),g.return=h,g):(g=i(g,S),g.return=h,g)}function a(h,g,S,T){var P=S.type;return P===Ir?d(h,g,S.props.children,T,S.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Rn&&Md(P)===g.type)?(T=i(g,S.props),T.ref=vi(h,g,S),T.return=h,T):(T=hs(S.type,S.key,S.props,null,h.mode,T),T.ref=vi(h,g,S),T.return=h,T)}function c(h,g,S,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=ul(S,h.mode,T),g.return=h,g):(g=i(g,S.children||[]),g.return=h,g)}function d(h,g,S,T,P){return g===null||g.tag!==7?(g=hr(S,h.mode,T,P),g.return=h,g):(g=i(g,S),g.return=h,g)}function m(h,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ll(""+g,h.mode,S),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zo:return S=hs(g.type,g.key,g.props,null,h.mode,S),S.ref=vi(h,null,g),S.return=h,S;case Pr:return g=ul(g,h.mode,S),g.return=h,g;case Rn:var T=g._init;return m(h,T(g._payload),S)}if(xi(g)||pi(g))return g=hr(g,h.mode,S,null),g.return=h,g;Qo(h,g)}return null}function v(h,g,S,T){var P=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(h,g,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zo:return S.key===P?a(h,g,S,T):null;case Pr:return S.key===P?c(h,g,S,T):null;case Rn:return P=S._init,v(h,g,P(S._payload),T)}if(xi(S)||pi(S))return P!==null?null:d(h,g,S,T,null);Qo(h,S)}return null}function k(h,g,S,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return h=h.get(S)||null,l(g,h,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zo:return h=h.get(T.key===null?S:T.key)||null,a(g,h,T,P);case Pr:return h=h.get(T.key===null?S:T.key)||null,c(g,h,T,P);case Rn:var M=T._init;return k(h,g,S,M(T._payload),P)}if(xi(T)||pi(T))return h=h.get(S)||null,d(g,h,T,P,null);Qo(g,T)}return null}function w(h,g,S,T){for(var P=null,M=null,z=g,B=g=0,G=null;z!==null&&B<S.length;B++){z.index>B?(G=z,z=null):G=z.sibling;var j=v(h,z,S[B],T);if(j===null){z===null&&(z=G);break}e&&z&&j.alternate===null&&t(h,z),g=o(j,g,B),M===null?P=j:M.sibling=j,M=j,z=G}if(B===S.length)return n(h,z),_e&&tr(h,B),P;if(z===null){for(;B<S.length;B++)z=m(h,S[B],T),z!==null&&(g=o(z,g,B),M===null?P=z:M.sibling=z,M=z);return _e&&tr(h,B),P}for(z=r(h,z);B<S.length;B++)G=k(z,h,B,S[B],T),G!==null&&(e&&G.alternate!==null&&z.delete(G.key===null?B:G.key),g=o(G,g,B),M===null?P=G:M.sibling=G,M=G);return e&&z.forEach(function(Ne){return t(h,Ne)}),_e&&tr(h,B),P}function y(h,g,S,T){var P=pi(S);if(typeof P!="function")throw Error(A(150));if(S=P.call(S),S==null)throw Error(A(151));for(var M=P=null,z=g,B=g=0,G=null,j=S.next();z!==null&&!j.done;B++,j=S.next()){z.index>B?(G=z,z=null):G=z.sibling;var Ne=v(h,z,j.value,T);if(Ne===null){z===null&&(z=G);break}e&&z&&Ne.alternate===null&&t(h,z),g=o(Ne,g,B),M===null?P=Ne:M.sibling=Ne,M=Ne,z=G}if(j.done)return n(h,z),_e&&tr(h,B),P;if(z===null){for(;!j.done;B++,j=S.next())j=m(h,j.value,T),j!==null&&(g=o(j,g,B),M===null?P=j:M.sibling=j,M=j);return _e&&tr(h,B),P}for(z=r(h,z);!j.done;B++,j=S.next())j=k(z,h,B,j.value,T),j!==null&&(e&&j.alternate!==null&&z.delete(j.key===null?B:j.key),g=o(j,g,B),M===null?P=j:M.sibling=j,M=j);return e&&z.forEach(function(W){return t(h,W)}),_e&&tr(h,B),P}function C(h,g,S,T){if(typeof S=="object"&&S!==null&&S.type===Ir&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zo:e:{for(var P=S.key,M=g;M!==null;){if(M.key===P){if(P=S.type,P===Ir){if(M.tag===7){n(h,M.sibling),g=i(M,S.props.children),g.return=h,h=g;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Rn&&Md(P)===M.type){n(h,M.sibling),g=i(M,S.props),g.ref=vi(h,M,S),g.return=h,h=g;break e}n(h,M);break}else t(h,M);M=M.sibling}S.type===Ir?(g=hr(S.props.children,h.mode,T,S.key),g.return=h,h=g):(T=hs(S.type,S.key,S.props,null,h.mode,T),T.ref=vi(h,g,S),T.return=h,h=T)}return s(h);case Pr:e:{for(M=S.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(h,g.sibling),g=i(g,S.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=ul(S,h.mode,T),g.return=h,h=g}return s(h);case Rn:return M=S._init,C(h,g,M(S._payload),T)}if(xi(S))return w(h,g,S,T);if(pi(S))return y(h,g,S,T);Qo(h,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(h,g.sibling),g=i(g,S),g.return=h,h=g):(n(h,g),g=ll(S,h.mode,T),g.return=h,h=g),s(h)):n(h,g)}return C}var ri=Yh(!0),Xh=Yh(!1),_o={},Zt=Kn(_o),eo=Kn(_o),to=Kn(_o);function ar(e){if(e===_o)throw Error(A(174));return e}function Gu(e,t){switch(de(to,t),de(eo,e),de(Zt,_o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ge(Zt),de(Zt,t)}function ii(){ge(Zt),ge(eo),ge(to)}function Zh(e){ar(to.current);var t=ar(Zt.current),n=xl(t,e.type);t!==n&&(de(eo,e),de(Zt,n))}function Qu(e){eo.current===e&&(ge(Zt),ge(eo))}var Ee=Kn(0);function Us(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function Ku(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var us=Cn.ReactCurrentDispatcher,rl=Cn.ReactCurrentBatchConfig,yr=0,we=null,Ae=null,ze=null,Bs=!1,Fi=!1,no=0,iv=0;function Je(){throw Error(A(321))}function Ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function Yu(e,t,n,r,i,o){if(yr=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=e===null||e.memoizedState===null?lv:uv,e=n(r,i),Fi){o=0;do{if(Fi=!1,no=0,25<=o)throw Error(A(301));o+=1,ze=Ae=null,t.updateQueue=null,us.current=cv,e=n(r,i)}while(Fi)}if(us.current=$s,t=Ae!==null&&Ae.next!==null,yr=0,ze=Ae=we=null,Bs=!1,t)throw Error(A(300));return e}function Xu(){var e=no!==0;return no=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?we.memoizedState=ze=e:ze=ze.next=e,ze}function Nt(){if(Ae===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=ze===null?we.memoizedState:ze.next;if(t!==null)ze=t,Ae=e;else{if(e===null)throw Error(A(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},ze===null?we.memoizedState=ze=e:ze=ze.next=e}return ze}function ro(e,t){return typeof t=="function"?t(e):t}function il(e){var t=Nt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Ae,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var d=c.lane;if((yr&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=m,s=r):a=a.next=m,we.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,qt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,we.lanes|=o,vr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ol(e){var t=Nt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);qt(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function em(){}function tm(e,t){var n=we,r=Nt(),i=t(),o=!qt(r.memoizedState,i);if(o&&(r.memoizedState=i,ht=!0),r=r.queue,Zu(im.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,io(9,rm.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(A(349));yr&30||nm(n,t,i)}return i}function nm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,r){t.value=n,t.getSnapshot=r,om(t)&&sm(e)}function im(e,t,n){return n(function(){om(t)&&sm(e)})}function om(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function sm(e){var t=_n(e,1);t!==null&&$t(t,e,1,-1)}function zd(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=av.bind(null,we,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function am(){return Nt().memoizedState}function cs(e,t,n,r){var i=Jt();we.flags|=e,i.memoizedState=io(1|t,n,void 0,r===void 0?null:r)}function ma(e,t,n,r){var i=Nt();r=r===void 0?null:r;var o=void 0;if(Ae!==null){var s=Ae.memoizedState;if(o=s.destroy,r!==null&&Ju(r,s.deps)){i.memoizedState=io(t,n,o,r);return}}we.flags|=e,i.memoizedState=io(1|t,n,o,r)}function Fd(e,t){return cs(8390656,8,e,t)}function Zu(e,t){return ma(2048,8,e,t)}function lm(e,t){return ma(4,2,e,t)}function um(e,t){return ma(4,4,e,t)}function cm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fm(e,t,n){return n=n!=null?n.concat([e]):null,ma(4,4,cm.bind(null,t,e),n)}function ec(){}function dm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hm(e,t,n){return yr&21?(qt(n,t)||(n=yh(),we.lanes|=n,vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function ov(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=rl.transition;rl.transition={};try{e(!1),t()}finally{le=n,rl.transition=r}}function mm(){return Nt().memoizedState}function sv(e,t,n){var r=Vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(e))ym(t,n);else if(n=Gh(e,t,n,r),n!==null){var i=it();$t(n,e,r,i),vm(n,t,r)}}function av(e,t,n){var r=Vn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(e))ym(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,qt(l,s)){var a=t.interleaved;a===null?(i.next=i,Hu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Gh(e,t,i,r),n!==null&&(i=it(),$t(n,e,r,i),vm(n,t,r))}}function gm(e){var t=e.alternate;return e===we||t!==null&&t===we}function ym(e,t){Fi=Bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}var $s={readContext:Lt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},lv={readContext:Lt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Fd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cs(4194308,4,cm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return cs(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sv.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:ec,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=ov.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,i=Jt();if(_e){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Fe===null)throw Error(A(349));yr&30||nm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fd(im.bind(null,r,o,e),[e]),r.flags|=2048,io(9,rm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Fe.identifierPrefix;if(_e){var n=hn,r=pn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uv={readContext:Lt,useCallback:dm,useContext:Lt,useEffect:Zu,useImperativeHandle:fm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:pm,useReducer:il,useRef:am,useState:function(){return il(ro)},useDebugValue:ec,useDeferredValue:function(e){var t=Nt();return hm(t,Ae.memoizedState,e)},useTransition:function(){var e=il(ro)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1},cv={readContext:Lt,useCallback:dm,useContext:Lt,useEffect:Zu,useImperativeHandle:fm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:pm,useReducer:ol,useRef:am,useState:function(){return ol(ro)},useDebugValue:ec,useDeferredValue:function(e){var t=Nt();return Ae===null?t.memoizedState=e:hm(t,Ae.memoizedState,e)},useTransition:function(){var e=ol(ro)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1};function oi(e,t){try{var n="",r=t;do n+=Fy(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function _m(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,ou=r),Kl(e,t)},n}function Sm(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tv.bind(null,e,t,n),t.then(e,e))}function Ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var dv=Cn.ReactCurrentOwner,ht=!1;function rt(e,t,n,r){t.child=e===null?Xh(t,null,n,r):ri(t,e.child,n,r)}function $d(e,t,n,r,i){n=n.render;var o=t.ref;return Hr(t,i),r=Yu(e,t,n,r,o,i),n=Xu(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(_e&&n&&ju(t),t.flags|=1,rt(e,t,r,i),t.child)}function qd(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!lc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cm(e,t,o,r,i)):(e=hs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(s,r)&&e.ref===t.ref)return Sn(e,t,i)}return t.flags|=1,e=Hn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ji(o,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Sn(e,t,i)}return Jl(e,t,n,r,i)}function Em(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Ur,St),St|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Ur,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Ur,St),St|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(Ur,St),St|=r;return rt(e,t,i,n),t.child}function wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jl(e,t,n,r,i){var o=gt(n)?mr:et.current;return o=ti(t,o),Hr(t,i),n=Yu(e,t,n,r,o,i),r=Xu(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(_e&&r&&ju(t),t.flags|=1,rt(e,t,n,i),t.child)}function Vd(e,t,n,r,i){if(gt(n)){var o=!0;Ns(t)}else o=!1;if(Hr(t,i),t.stateNode===null)fs(e,t),Jh(t,n,r),Ql(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=gt(n)?mr:et.current,c=ti(t,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Ad(t,s,r,c),Pn=!1;var v=t.memoizedState;s.state=v,js(t,r,s,i),a=t.memoizedState,l!==r||v!==a||mt.current||Pn?(typeof d=="function"&&(Gl(t,n,d,r),a=t.memoizedState),(l=Pn||Nd(t,n,l,r,v,a,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Qh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:zt(t.type,l),s.props=c,m=t.pendingProps,v=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=gt(n)?mr:et.current,a=ti(t,a));var k=n.getDerivedStateFromProps;(d=typeof k=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||v!==a)&&Ad(t,s,r,a),Pn=!1,v=t.memoizedState,s.state=v,js(t,r,s,i);var w=t.memoizedState;l!==m||v!==w||mt.current||Pn?(typeof k=="function"&&(Gl(t,n,k,r),w=t.memoizedState),(c=Pn||Nd(t,n,c,r,v,w,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Yl(e,t,n,r,o,i)}function Yl(e,t,n,r,i,o){wm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Pd(t,n,!1),Sn(e,t,o);r=t.stateNode,dv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,l,o)):rt(e,t,l,o),t.memoizedState=r.state,i&&Pd(t,n,!0),t.child}function km(e){var t=e.stateNode;t.pendingContext?Rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rd(e,t.context,!1),Gu(e,t.containerInfo)}function Hd(e,t,n,r,i){return ni(),Bu(i),t.flags|=256,rt(e,t,n,r),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tm(e,t,n){var r=t.pendingProps,i=Ee.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(Ee,i&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=va(s,r,0,null),e=hr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zl(n),t.memoizedState=Xl,e):tc(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pv(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Hn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Hn(l,o):(o=hr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Zl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Xl,r}return o=e.child,e=o.sibling,r=Hn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tc(e,t){return t=va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ko(e,t,n,r){return r!==null&&Bu(r),ri(t,e.child,null,n),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pv(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=sl(Error(A(422))),Ko(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=va({mode:"visible",children:r.children},i,0,null),o=hr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ri(t,e.child,null,s),t.child.memoizedState=Zl(s),t.memoizedState=Xl,o);if(!(t.mode&1))return Ko(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(A(419)),r=sl(o,r,void 0),Ko(e,t,s,r)}if(l=(s&e.childLanes)!==0,ht||l){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_n(e,i),$t(r,e,i,-1))}return ac(),r=sl(Error(A(421))),Ko(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Et=Bn(i.nextSibling),wt=t,_e=!0,jt=null,e!==null&&(Pt[It++]=pn,Pt[It++]=hn,Pt[It++]=gr,pn=e.id,hn=e.overflow,gr=t),t=tc(t,r.children),t.flags|=4096,t)}function Wd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wl(e.return,t,n)}function al(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(rt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,n,t);else if(e.tag===19)Wd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Us(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),al(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Us(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}al(t,!0,n,null,o);break;case"together":al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hv(e,t,n){switch(t.tag){case 3:km(t),ni();break;case 5:Zh(t);break;case 1:gt(t.type)&&Ns(t);break;case 4:Gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(zs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?Tm(e,t,n):(de(Ee,Ee.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);de(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,n)}return Sn(e,t,n)}var bm,eu,Rm,Pm;bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};Rm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ar(Zt.current);var o=null;switch(n){case"input":i=El(e,i),r=El(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=Tl(e,i),r=Tl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Os)}bl(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&me("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Pm=function(e,t,n,r){n!==r&&(t.flags|=4)};function _i(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mv(e,t,n){var r=t.pendingProps;switch(Uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return gt(t.type)&&Ls(),Ye(t),null;case 3:return r=t.stateNode,ii(),ge(mt),ge(et),Ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(lu(jt),jt=null))),eu(e,t),Ye(t),null;case 5:Qu(t);var i=ar(to.current);if(n=t.type,e!==null&&t.stateNode!=null)Rm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Ye(t),null}if(e=ar(Zt.current),Go(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yt]=t,r[Zi]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Ri.length;i++)me(Ri[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":td(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":rd(r,o),me("invalid",r)}bl(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,l,e),i=["children",""+l]):qi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":Fo(r),nd(r,o,!0);break;case"textarea":Fo(r),id(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Os)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Yt]=t,e[Zi]=r,bm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Rl(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ri.length;i++)me(Ri[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":td(e,r),i=El(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),me("invalid",e);break;case"textarea":rd(e,r),i=Tl(e,r),me("invalid",e);break;default:i=r}bl(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?oh(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&rh(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Vi(e,a):typeof a=="number"&&Vi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&me("scroll",e):a!=null&&Tu(e,o,a,s))}switch(n){case"input":Fo(e),nd(e,r,!1);break;case"textarea":Fo(e),id(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Br(e,!!r.multiple,o,!1):r.defaultValue!=null&&Br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Os)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Pm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=ar(to.current),ar(Zt.current),Go(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(o=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ge(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&Et!==null&&t.mode&1&&!(t.flags&128))Wh(),ni(),t.flags|=98560,o=!1;else if(o=Go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Yt]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else jt!==null&&(lu(jt),jt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Me===0&&(Me=3):ac())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ii(),eu(e,t),e===null&&Yi(t.stateNode.containerInfo),Ye(t),null;case 10:return Vu(t.type._context),Ye(t),null;case 17:return gt(t.type)&&Ls(),Ye(t),null;case 19:if(ge(Ee),o=t.memoizedState,o===null)return Ye(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)_i(o,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Us(e),s!==null){for(t.flags|=128,_i(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>si&&(t.flags|=128,r=!0,_i(o,!1),t.lanes=4194304)}else{if(!r)if(e=Us(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!_e)return Ye(t),null}else 2*Pe()-o.renderingStartTime>si&&n!==1073741824&&(t.flags|=128,r=!0,_i(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=Ee.current,de(Ee,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function gv(e,t){switch(Uu(t),t.tag){case 1:return gt(t.type)&&Ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),ge(mt),ge(et),Ku(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qu(t),null;case 13:if(ge(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Ee),null;case 4:return ii(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var Jo=!1,Ze=!1,yv=typeof WeakSet=="function"?WeakSet:Set,$=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){be(e,t,r)}}var Gd=!1;function vv(e,t){if(Fl=Ps,e=Lh(),Fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,d=0,m=e,v=null;t:for(;;){for(var k;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==o||r!==0&&m.nodeType!==3||(a=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(k=m.firstChild)!==null;)v=m,m=k;for(;;){if(m===e)break t;if(v===n&&++c===i&&(l=s),v===o&&++d===r&&(a=s),(k=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=k}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(jl={focusedElem:e,selectionRange:n},Ps=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,C=w.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:zt(t.type,y),C);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(T){be(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=Gd,Gd=!1,w}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&tu(t,n,o)}i=i.next}while(i!==r)}}function ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Zi],delete t[$l],delete t[ev],delete t[tv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dm(e){return e.tag===5||e.tag===3||e.tag===4}function Qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Os));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}var Be=null,Ft=!1;function bn(e,t,n){for(n=n.child;n!==null;)Om(e,t,n),n=n.sibling}function Om(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(la,n)}catch{}switch(n.tag){case 5:Ze||jr(n,t);case 6:var r=Be,i=Ft;Be=null,bn(e,t,n),Be=r,Ft=i,Be!==null&&(Ft?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Ft?(e=Be,n=n.stateNode,e.nodeType===8?el(e.parentNode,n):e.nodeType===1&&el(e,n),Qi(e)):el(Be,n.stateNode));break;case 4:r=Be,i=Ft,Be=n.stateNode.containerInfo,Ft=!0,bn(e,t,n),Be=r,Ft=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&tu(n,t,s),i=i.next}while(i!==r)}bn(e,t,n);break;case 1:if(!Ze&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,t,l)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,bn(e,t,n),Ze=r):bn(e,t,n);break;default:bn(e,t,n)}}function Kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yv),t.forEach(function(r){var i=bv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Ft=!1;break e;case 3:Be=l.stateNode.containerInfo,Ft=!0;break e;case 4:Be=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(Be===null)throw Error(A(160));Om(o,s,i),Be=null,Ft=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){be(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}function Lm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Kt(e),r&4){try{ji(3,e,e.return),ga(3,e)}catch(y){be(e,e.return,y)}try{ji(5,e,e.return)}catch(y){be(e,e.return,y)}}break;case 1:Mt(t,e),Kt(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(Mt(t,e),Kt(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var i=e.stateNode;try{Vi(i,"")}catch(y){be(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&eh(i,o),Rl(l,s);var c=Rl(l,o);for(s=0;s<a.length;s+=2){var d=a[s],m=a[s+1];d==="style"?oh(i,m):d==="dangerouslySetInnerHTML"?rh(i,m):d==="children"?Vi(i,m):Tu(i,d,m,c)}switch(l){case"input":wl(i,o);break;case"textarea":th(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?Br(i,!!o.multiple,k,!1):v!==!!o.multiple&&(o.defaultValue!=null?Br(i,!!o.multiple,o.defaultValue,!0):Br(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zi]=o}catch(y){be(e,e.return,y)}}break;case 6:if(Mt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){be(e,e.return,y)}}break;case 3:if(Mt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(y){be(e,e.return,y)}break;case 4:Mt(t,e),Kt(e);break;case 13:Mt(t,e),Kt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ic=Pe())),r&4&&Kd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(c=Ze)||d,Mt(t,e),Ze=c):Mt(t,e),Kt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(m=$=d;$!==null;){switch(v=$,k=v.child,v.tag){case 0:case 11:case 14:case 15:ji(4,v,v.return);break;case 1:jr(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){be(r,n,y)}}break;case 5:jr(v,v.return);break;case 22:if(v.memoizedState!==null){Yd(m);continue}}k!==null?(k.return=v,$=k):Yd(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,a=m.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ih("display",s))}catch(y){be(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(y){be(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Mt(t,e),Kt(e),r&4&&Kd(e);break;case 21:break;default:Mt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dm(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vi(i,""),r.flags&=-33);var o=Qd(e);iu(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Qd(e);ru(e,l,s);break;default:throw Error(A(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _v(e,t,n){$=e,Nm(e)}function Nm(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Jo;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ze;l=Jo;var c=Ze;if(Jo=s,(Ze=a)&&!c)for($=i;$!==null;)s=$,a=s.child,s.tag===22&&s.memoizedState!==null?Xd(i):a!==null?(a.return=s,$=a):Xd(i);for(;o!==null;)$=o,Nm(o),o=o.sibling;$=i,Jo=l,Ze=c}Jd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):Jd(e)}}function Jd(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||ga(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ld(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ld(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Qi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ze||t.flags&512&&nu(t)}catch(v){be(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Yd(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Xd(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ga(4,t)}catch(a){be(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){be(t,i,a)}}var o=t.return;try{nu(t)}catch(a){be(t,o,a)}break;case 5:var s=t.return;try{nu(t)}catch(a){be(t,s,a)}}}catch(a){be(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Sv=Math.ceil,qs=Cn.ReactCurrentDispatcher,nc=Cn.ReactCurrentOwner,Ot=Cn.ReactCurrentBatchConfig,re=0,Fe=null,Le=null,qe=0,St=0,Ur=Kn(0),Me=0,oo=null,vr=0,ya=0,rc=0,Ui=null,pt=null,ic=0,si=1/0,sn=null,Vs=!1,ou=null,qn=null,Yo=!1,zn=null,Hs=0,Bi=0,su=null,ds=-1,ps=0;function it(){return re&6?Pe():ds!==-1?ds:ds=Pe()}function Vn(e){return e.mode&1?re&2&&qe!==0?qe&-qe:rv.transition!==null?(ps===0&&(ps=yh()),ps):(e=le,e!==0||(e=window.event,e=e===void 0?16:kh(e.type)),e):1}function $t(e,t,n,r){if(50<Bi)throw Bi=0,su=null,Error(A(185));go(e,n,r),(!(re&2)||e!==Fe)&&(e===Fe&&(!(re&2)&&(ya|=n),Me===4&&Dn(e,qe)),yt(e,r),n===1&&re===0&&!(t.mode&1)&&(si=Pe()+500,pa&&Jn()))}function yt(e,t){var n=e.callbackNode;r0(e,t);var r=Rs(e,e===Fe?qe:0);if(r===0)n!==null&&ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ad(n),t===1)e.tag===0?nv(Zd.bind(null,e)):qh(Zd.bind(null,e)),X0(function(){!(re&6)&&Jn()}),n=null;else{switch(vh(r)){case 1:n=Iu;break;case 4:n=mh;break;case 16:n=bs;break;case 536870912:n=gh;break;default:n=bs}n=$m(n,Am.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Am(e,t){if(ds=-1,ps=0,re&6)throw Error(A(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=Rs(e,e===Fe?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ws(e,r);else{t=r;var i=re;re|=2;var o=zm();(Fe!==e||qe!==t)&&(sn=null,si=Pe()+500,pr(e,t));do try{wv();break}catch(l){Mm(e,l)}while(1);qu(),qs.current=o,re=i,Le!==null?t=0:(Fe=null,qe=0,t=Me)}if(t!==0){if(t===2&&(i=Ll(e),i!==0&&(r=i,t=au(e,i))),t===1)throw n=oo,pr(e,0),Dn(e,r),yt(e,Pe()),n;if(t===6)Dn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cv(i)&&(t=Ws(e,r),t===2&&(o=Ll(e),o!==0&&(r=o,t=au(e,o))),t===1))throw n=oo,pr(e,0),Dn(e,r),yt(e,Pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:nr(e,pt,sn);break;case 3:if(Dn(e,r),(r&130023424)===r&&(t=ic+500-Pe(),10<t)){if(Rs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bl(nr.bind(null,e,pt,sn),t);break}nr(e,pt,sn);break;case 4:if(Dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Bt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sv(r/1960))-r,10<r){e.timeoutHandle=Bl(nr.bind(null,e,pt,sn),r);break}nr(e,pt,sn);break;case 5:nr(e,pt,sn);break;default:throw Error(A(329))}}}return yt(e,Pe()),e.callbackNode===n?Am.bind(null,e):null}function au(e,t){var n=Ui;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=Ws(e,t),e!==2&&(t=pt,pt=n,t!==null&&lu(t)),e}function lu(e){pt===null?pt=e:pt.push.apply(pt,e)}function Cv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~rc,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function Zd(e){if(re&6)throw Error(A(327));Wr();var t=Rs(e,0);if(!(t&1))return yt(e,Pe()),null;var n=Ws(e,t);if(e.tag!==0&&n===2){var r=Ll(e);r!==0&&(t=r,n=au(e,r))}if(n===1)throw n=oo,pr(e,0),Dn(e,t),yt(e,Pe()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,pt,sn),yt(e,Pe()),null}function oc(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(si=Pe()+500,pa&&Jn())}}function _r(e){zn!==null&&zn.tag===0&&!(re&6)&&Wr();var t=re;re|=1;var n=Ot.transition,r=le;try{if(Ot.transition=null,le=1,e)return e()}finally{le=r,Ot.transition=n,re=t,!(re&6)&&Jn()}}function sc(){St=Ur.current,ge(Ur)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Y0(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ls();break;case 3:ii(),ge(mt),ge(et),Ku();break;case 5:Qu(r);break;case 4:ii();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:Vu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Fe=e,Le=e=Hn(e.current,null),qe=St=t,Me=0,oo=null,rc=ya=vr=0,pt=Ui=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}sr=null}return e}function Mm(e,t){do{var n=Le;try{if(qu(),us.current=$s,Bs){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bs=!1}if(yr=0,ze=Ae=we=null,Fi=!1,no=0,nc.current=null,n===null||n.return===null){Me=1,oo=t,Le=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var k=Ud(s);if(k!==null){k.flags&=-257,Bd(k,s,l,o,t),k.mode&1&&jd(o,c,t),t=k,a=c;var w=t.updateQueue;if(w===null){var y=new Set;y.add(a),t.updateQueue=y}else w.add(a);break e}else{if(!(t&1)){jd(o,c,t),ac();break e}a=Error(A(426))}}else if(_e&&l.mode&1){var C=Ud(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Bd(C,s,l,o,t),Bu(oi(a,l));break e}}o=a=oi(a,l),Me!==4&&(Me=2),Ui===null?Ui=[o]:Ui.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=_m(o,a,t);Od(o,h);break e;case 1:l=a;var g=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qn===null||!qn.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=Sm(o,l,t);Od(o,T);break e}}o=o.return}while(o!==null)}jm(n)}catch(P){t=P,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function zm(){var e=qs.current;return qs.current=$s,e===null?$s:e}function ac(){(Me===0||Me===3||Me===2)&&(Me=4),Fe===null||!(vr&268435455)&&!(ya&268435455)||Dn(Fe,qe)}function Ws(e,t){var n=re;re|=2;var r=zm();(Fe!==e||qe!==t)&&(sn=null,pr(e,t));do try{Ev();break}catch(i){Mm(e,i)}while(1);if(qu(),re=n,qs.current=r,Le!==null)throw Error(A(261));return Fe=null,qe=0,Me}function Ev(){for(;Le!==null;)Fm(Le)}function wv(){for(;Le!==null&&!Qy();)Fm(Le)}function Fm(e){var t=Bm(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?jm(e):Le=t,nc.current=null}function jm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gv(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Le=null;return}}else if(n=mv(n,t,St),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Me===0&&(Me=5)}function nr(e,t,n){var r=le,i=Ot.transition;try{Ot.transition=null,le=1,kv(e,t,n,r)}finally{Ot.transition=i,le=r}return null}function kv(e,t,n,r){do Wr();while(zn!==null);if(re&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(i0(e,o),e===Fe&&(Le=Fe=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yo||(Yo=!0,$m(bs,function(){return Wr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var s=le;le=1;var l=re;re|=4,nc.current=null,vv(e,n),Lm(n,e),V0(jl),Ps=!!Fl,jl=Fl=null,e.current=n,_v(n),Ky(),re=l,le=s,Ot.transition=o}else e.current=n;if(Yo&&(Yo=!1,zn=e,Hs=i),o=e.pendingLanes,o===0&&(qn=null),Xy(n.stateNode),yt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vs)throw Vs=!1,e=ou,ou=null,e;return Hs&1&&e.tag!==0&&Wr(),o=e.pendingLanes,o&1?e===su?Bi++:(Bi=0,su=e):Bi=0,Jn(),null}function Wr(){if(zn!==null){var e=vh(Hs),t=Ot.transition,n=le;try{if(Ot.transition=null,le=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,Hs=0,re&6)throw Error(A(331));var i=re;for(re|=4,$=e.current;$!==null;){var o=$,s=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ji(8,d,o)}var m=d.child;if(m!==null)m.return=d,$=m;else for(;$!==null;){d=$;var v=d.sibling,k=d.return;if(Im(d),d===c){$=null;break}if(v!==null){v.return=k,$=v;break}$=k}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}$=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$=s;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ji(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,$=h;break e}$=o.return}}var g=e.current;for($=g;$!==null;){s=$;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,$=S;else e:for(s=g;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ga(9,l)}}catch(P){be(l,l.return,P)}if(l===s){$=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,$=T;break e}$=l.return}}if(re=i,Jn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(la,e)}catch{}r=!0}return r}finally{le=n,Ot.transition=t}}return!1}function ep(e,t,n){t=oi(n,t),t=_m(e,t,1),e=$n(e,t,1),t=it(),e!==null&&(go(e,1,t),yt(e,t))}function be(e,t,n){if(e.tag===3)ep(e,e,n);else for(;t!==null;){if(t.tag===3){ep(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=oi(n,e),e=Sm(t,e,1),t=$n(t,e,1),e=it(),t!==null&&(go(t,1,e),yt(t,e));break}}t=t.return}}function Tv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(qe&n)===n&&(Me===4||Me===3&&(qe&130023424)===qe&&500>Pe()-ic?pr(e,0):rc|=n),yt(e,t)}function Um(e,t){t===0&&(e.mode&1?(t=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):t=1);var n=it();e=_n(e,t),e!==null&&(go(e,t,n),yt(e,n))}function xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Um(e,n)}function bv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Um(e,n)}var Bm;Bm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,hv(e,t,n);ht=!!(e.flags&131072)}else ht=!1,_e&&t.flags&1048576&&Vh(t,Ms,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fs(e,t),e=t.pendingProps;var i=ti(t,et.current);Hr(t,n),i=Yu(null,t,r,e,i,n);var o=Xu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(o=!0,Ns(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wu(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,Ql(t,r,e,n),t=Yl(null,t,r,!0,o,n)):(t.tag=0,_e&&o&&ju(t),rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Pv(r),e=zt(r,e),i){case 0:t=Jl(null,t,r,e,n);break e;case 1:t=Vd(null,t,r,e,n);break e;case 11:t=$d(null,t,r,e,n);break e;case 14:t=qd(null,t,r,zt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Jl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Vd(e,t,r,i,n);case 3:e:{if(km(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Qh(e,t),js(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=oi(Error(A(423)),t),t=Hd(e,t,r,n,i);break e}else if(r!==i){i=oi(Error(A(424)),t),t=Hd(e,t,r,n,i);break e}else for(Et=Bn(t.stateNode.containerInfo.firstChild),wt=t,_e=!0,jt=null,n=Xh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===i){t=Sn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Zh(t),e===null&&Hl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ul(r,i)?s=null:o!==null&&Ul(r,o)&&(t.flags|=32),wm(e,t),rt(e,t,s,n),t.child;case 6:return e===null&&Hl(t),null;case 13:return Tm(e,t,n);case 4:return Gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),$d(e,t,r,i,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,de(zs,r._currentValue),r._currentValue=s,o!==null)if(qt(o.value,s)){if(o.children===i.children&&!mt.current){t=Sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=gn(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wl(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wl(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hr(t,n),i=Lt(i),r=r(i),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),qd(e,t,r,i,n);case 15:return Cm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),fs(e,t),t.tag=1,gt(r)?(e=!0,Ns(t)):e=!1,Hr(t,n),Jh(t,r,i),Ql(t,r,i,n),Yl(null,t,r,!0,e,n);case 19:return xm(e,t,n);case 22:return Em(e,t,n)}throw Error(A(156,t.tag))};function $m(e,t){return hh(e,t)}function Rv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new Rv(e,t,n,r)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pv(e){if(typeof e=="function")return lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bu)return 11;if(e===Ru)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hs(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")lc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ir:return hr(n.children,i,o,t);case xu:s=8,i|=8;break;case vl:return e=Dt(12,n,t,i|2),e.elementType=vl,e.lanes=o,e;case _l:return e=Dt(13,n,t,i),e.elementType=_l,e.lanes=o,e;case Sl:return e=Dt(19,n,t,i),e.elementType=Sl,e.lanes=o,e;case Yp:return va(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kp:s=10;break e;case Jp:s=9;break e;case bu:s=11;break e;case Ru:s=14;break e;case Rn:s=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Dt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function hr(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function va(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=Yp,e.lanes=n,e.stateNode={isHidden:!1},e}function ll(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function ul(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qa(0),this.expirationTimes=qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uc(e,t,n,r,i,o,s,l,a){return e=new Iv(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(o),e}function Dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qm(e){if(!e)return Gn;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(gt(n))return $h(e,n,t)}return t}function Vm(e,t,n,r,i,o,s,l,a){return e=uc(n,r,!0,e,i,o,s,l,a),e.context=qm(null),n=e.current,r=it(),i=Vn(n),o=gn(r,i),o.callback=t??null,$n(n,o,i),e.current.lanes=i,go(e,i,r),yt(e,r),e}function _a(e,t,n,r){var i=t.current,o=it(),s=Vn(i);return n=qm(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(i,t,s),e!==null&&($t(e,i,s,o),ls(e,i,s)),s}function Gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cc(e,t){tp(e,t),(e=e.alternate)&&tp(e,t)}function Ov(){return null}var Hm=typeof reportError=="function"?reportError:function(e){console.error(e)};function fc(e){this._internalRoot=e}Sa.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));_a(e,t,null,null)};Sa.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){_a(null,e,null,null)}),t[vn]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&wh(e)}};function dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function np(){}function Lv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Gs(s);o.call(c)}}var s=Vm(t,r,e,0,null,!1,!1,"",np);return e._reactRootContainer=s,e[vn]=s.current,Yi(e.nodeType===8?e.parentNode:e),_r(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Gs(a);l.call(c)}}var a=uc(e,0,!1,null,null,!1,!1,"",np);return e._reactRootContainer=a,e[vn]=a.current,Yi(e.nodeType===8?e.parentNode:e),_r(function(){_a(t,a,n,r)}),a}function Ea(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Gs(s);l.call(a)}}_a(t,s,e,i)}else s=Lv(n,t,e,i,r);return Gs(s)}_h=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bi(t.pendingLanes);n!==0&&(Du(t,n|1),yt(t,Pe()),!(re&6)&&(si=Pe()+500,Jn()))}break;case 13:_r(function(){var r=_n(e,1);if(r!==null){var i=it();$t(r,e,1,i)}}),cc(e,1)}};Ou=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=it();$t(t,e,134217728,n)}cc(e,134217728)}};Sh=function(e){if(e.tag===13){var t=Vn(e),n=_n(e,t);if(n!==null){var r=it();$t(n,e,t,r)}cc(e,t)}};Ch=function(){return le};Eh=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Il=function(e,t,n){switch(t){case"input":if(wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=da(r);if(!i)throw Error(A(90));Zp(r),wl(r,i)}}}break;case"textarea":th(e,n);break;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}};lh=oc;uh=_r;var Nv={usingClientEntryPoint:!1,Events:[vo,Nr,da,sh,ah,oc]},Si={findFiberByHostInstance:or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Av={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dh(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{la=Xo.inject(Av),Xt=Xo}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nv;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(t))throw Error(A(200));return Dv(e,t,null,n)};Tt.createRoot=function(e,t){if(!dc(e))throw Error(A(299));var n=!1,r="",i=Hm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uc(e,1,!1,null,null,n,!1,r,i),e[vn]=t.current,Yi(e.nodeType===8?e.parentNode:e),new fc(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=dh(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return _r(e)};Tt.hydrate=function(e,t,n){if(!Ca(t))throw Error(A(200));return Ea(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!dc(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Hm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Vm(t,null,e,1,n??null,i,!1,o,s),e[vn]=t.current,Yi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Sa(t)};Tt.render=function(e,t,n){if(!Ca(t))throw Error(A(200));return Ea(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(A(40));return e._reactRootContainer?(_r(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};Tt.unstable_batchedUpdates=oc;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ca(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ea(e,t,n,!1,r)};Tt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Tt})(Oy);var rp=ml;hl.createRoot=rp.createRoot,hl.hydrateRoot=rp.hydrateRoot;let ms=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const cl={DELETE:9,INSERT:18,UPDATE:23},lr=Object.freeze([]),Wm=[cl.INSERT,cl.UPDATE,cl.DELETE];function Pi(e,t,n,r,i=Wm,o){const s=Ie.useRef(null);return s.current==null&&(s.current=new Mv(e,t,n,r,i,o)),Ie.useEffect(()=>()=>{var l;(l=s.current)==null||l.dispose()},[]),Ie.useEffect(()=>{var l;(l=s.current)==null||l.respondToBindingsChange(n||lr)},o==null?n||lr:[...n||lr,o]),Ie.useEffect(()=>{var l;(l=s.current)==null||l.respondToQueryChange(t)},[t]),Ie.useSyncExternalStore(s.current.subscribeReactInternals,s.current.getSnapshot)}class Mv{constructor(t,n,r,i,o=Wm,s){q(this,"ctx");q(this,"query");q(this,"bindings");q(this,"postProcess");q(this,"updateTypes");q(this,"_rowid_");q(this,"pendingFetchPromise",null);q(this,"pendingPreparePromise",null);q(this,"stmt",null);q(this,"queriedTables",null);q(this,"data",null);q(this,"reactInternals",null);q(this,"error");q(this,"disposed",!1);q(this,"disposedState");q(this,"fetchingState");q(this,"dbSubscriptionDisposer");q(this,"subscribeReactInternals",t=>(this.reactInternals=t,this.unsubscribeReactInternals));q(this,"unsubscribeReactInternals",()=>{this.dbSubscriptionDisposer&&(this.dbSubscriptionDisposer(),this.dbSubscriptionDisposer=null)});q(this,"respondToQueryChange",t=>{this.disposed||this.query!==t&&(this.query=t,this.pendingPreparePromise=null,this.pendingFetchPromise=null,this.queriedTables=null,this.error=void 0,this.data=null,this.getSnapshot(!0))});q(this,"respondToBindingsChange",t=>{var r,i;if(this.disposed)return;let n=0;for(n=0;n<t.length&&t[n]===((r=this.bindings)==null?void 0:r[n]);++n);n===t.length&&n===((i=this.bindings)==null?void 0:i.length)||(this.bindings=t,this.pendingFetchPromise=null,this.error=void 0,this.data=null,this.getSnapshot(!0))});q(this,"respondToDatabaseChange",t=>{this.disposed||t.some(n=>this.updateTypes.includes(n))&&(this.pendingFetchPromise=null,this.error=void 0,this.data!=null&&(this.fetchingState={...this.data,loading:!0}),this.data=null,this.getSnapshot())});q(this,"getSnapshot",(t=!1)=>this.disposed?this.disposedState:this.data!=null?this.data:this.error!=null?this.error:(this.pendingPreparePromise==null&&this.prepare(),this.pendingFetchPromise==null&&this.fetch(t),this.fetchingState));this.ctx=t,this.query=n,this.bindings=r,this.postProcess=i,this.updateTypes=o,this._rowid_=s,this.dbSubscriptionDisposer=null,this.disposedState={loading:!1,data:this.postProcess?this.postProcess(lr):lr,error:new Error("useAsyncQuery was disposed")},this.fetchingState={...this.disposedState,loading:!0,error:void 0}}prepare(){this.queriedTables=null,this.error=void 0,this.data=null,this.pendingFetchPromise=null,this.stmt&&this.stmt.finalize(),this.stmt=null;const t=this.prepareAndGetUsedTables().then(([n,r])=>this.pendingPreparePromise!==t?(n.finalize(),null):(this.stmt=n,this.queriedTables=r,this.unsubscribeReactInternals(),this._rowid_!=null?(this.queriedTables.length>1&&console.warn("usePointQuery should only be used on a single table"),this.dbSubscriptionDisposer=this.ctx.rx.onPoint(this.queriedTables[0],this._rowid_,this.respondToDatabaseChange)):this.dbSubscriptionDisposer=this.ctx.rx.onRange(r,this.respondToDatabaseChange),n));this.pendingPreparePromise=t}fetch(t){this.stmt==null&&(t=!0),this.error=void 0,this.data=null;let n=null;const r=()=>{if(n!=null&&this.pendingFetchPromise!==n)return;const i=this.stmt;if(i!=null)return t&&i.bind(this.bindings||[]),n=i.raw(!1).all().then(o=>{this.pendingFetchPromise===n&&(this.data={loading:!1,data:this.postProcess?this.postProcess(o):o,error:void 0},this.reactInternals&&this.reactInternals())},o=>{var s;this.error={loading:!1,data:((s=this.data)==null?void 0:s.data)||(this.postProcess?this.postProcess(lr):lr),error:o},this.reactInternals&&this.reactInternals()}),this.pendingFetchPromise=n,n};if(this.stmt==null)n=this.pendingPreparePromise.then(i=>{if(i!=null)return r()}),this.pendingFetchPromise=n;else{r();return}}prepareAndGetUsedTables(){return Promise.all([this.ctx.db.prepare(this.query),zv(this.ctx.db,this.query)])}dispose(){var t;this.disposed=!0,(t=this.stmt)==null||t.finalize(),this.stmt=null,this.unsubscribeReactInternals()}}function zv(e,t){return e.execA(`SELECT tbl_name FROM tables_used('${t.replaceAll("'","''")}') AS u JOIN sqlite_master ON sqlite_master.name = u.name WHERE u.schema = 'main';`).then(n=>n.map(r=>r[0]))}function Fv({ctx:e}){const[t,n]=Ie.useState(""),[r,i]=Ie.useState([]),[o,s]=Ie.useState([]),l=Ie.useContext(pc);return Pi(e,`SELECT site_id
    FROM users WHERE id IN (
      SELECT user_id
      FROM follows
      WHERE follower_id = ? AND is_deleted=0
    )`,[l]).data.map(c=>c.site_id).filter(c=>!(r.includes(c)||o.includes(c)||c==e.siteid)).map(c=>e.rtc.connectTo(c)),Ie.useEffect(()=>{const c=e.rtc.onConnectionsChanged((d,m)=>{console.log("conns changes"),i(d),s(m)});return()=>{c()}},[e.rtc]),xe("div",{className:"tweet-container",children:[xe("p",{children:["Local Peer ID: ",e.siteid]}),xe("div",{className:"tweet-header",children:[fe("input",{size:30,type:"text",placeholder:"Remote Peer ID",onChange:c=>n(c.target.value),value:t}),fe("button",{disabled:t.length==0,onClick:()=>{e.rtc.connectTo(t)},children:"Connect"})]}),xe("div",{className:"peers",children:[xe("ul",{className:"pending",children:["Pending",r.map(c=>fe("li",{id:c,children:c.substring(0,8)},c))]}),xe("ul",{className:"established",children:["Established",o.map(c=>fe("li",{id:c,children:c.substring(0,8)},c))]})]})]})}const jv=({ctx:e})=>{const t=Ie.useContext(pc),[n,r]=Ie.useState(""),[i,o]=Ie.useState("all"),s=C=>{const h=new Date;e.db.exec("INSERT INTO tweets VALUES (?, ?, ?, ?)",[ms(),C,n,h.toISOString()]),r("")},l=C=>{e.db.exec("DELETE FROM tweets WHERE id = ?",[C])},a=(C,h)=>{e.db.exec("INSERT OR REPLACE INTO follows VALUES (?, ?, ?, 0)",[ms(),C,h])},c=(C,h)=>{e.db.exec("UPDATE follows SET is_deleted=1 WHERE user_id = ? and follower_id = ?",[C,h])},d=(C,h)=>{e.db.exec("INSERT OR REPLACE INTO likes VALUES (?, ?, ?, ?)",[ms(),C,h,0])},m=(C,h)=>{e.db.exec("UPDATE likes SET is_deleted=1 WHERE user_id = ? and tweet_id = ?",[C,h])},v=Pi(e,"SELECT t.*, u.username FROM tweets t JOIN users u on t.user_id = u.id ORDER BY created_at DESC").data,k=Pi(e,`SELECT t.*, u.username
    FROM tweets t
    JOIN users u on t.user_id = u.id
    WHERE user_id in (
      SELECT user_id
      FROM follows
      WHERE follower_id = ? AND is_deleted=0
    )
    ORDER BY t.created_at DESC`,[t]).data,w=Pi(e,"SELECT DISTINCT user_id FROM follows where follower_id = ? and is_deleted=0",[t]).data.map(C=>C.user_id),y=({tweet:C})=>{const h=w.includes(C.user_id),g=h?c:a,S=Pi(e,"SELECT user_id FROM likes WHERE tweet_id = ? and is_deleted=0",[C.id]).data.map(B=>B.user_id),T=S.includes(t),P=T?m:d,M=xe("a",{onClick:()=>g(C.user_id,t),children:["(",h?"following":"follow",")"]}),z=new Date(C.created_at).toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return xe("div",{className:"tweet",children:[xe("div",{className:"tweet-header",children:[xe("span",{children:[fe("b",{children:C.username})," ",t!==C.user_id&&M]}),fe("span",{children:z})]}),xe("div",{className:"tweet-header",children:[fe("p",{className:"tweet-text",children:C.text}),t===C.user_id&&fe("a",{onClick:()=>l(C.id),children:"[x]"})]}),xe("div",{className:"tweet-header",children:["Likes: ",S.length,fe("a",{onClick:()=>P(t,C.id),children:T?"unlike":"like"})]})]})};return xe("div",{className:"tweet-container",children:[xe("div",{className:"tweet-header",children:["These are the tweets",xe("button",{onClick:()=>o(i==="all"?"following":"all"),children:["Viewing: ",i]})]}),xe("p",{className:"tweet-header",children:[fe("input",{size:30,type:"text",className:"tweet-input",placeholder:"Whats your tweet?",autoFocus:!0,value:n,onChange:C=>r(C.target.value)}),fe("button",{className:"submit-btn",onClick:()=>s(t),children:"Tweet it"})]}),fe("div",{children:(i=="all"?v:k).map(C=>fe(y,{tweet:C},C.id))})]})};const pc=Ie.createContext("");function ip({btnText:e,onClick:t}){const[n,r]=Ie.useState("");return xe("div",{className:"tweet-header",children:[fe("input",{type:"text",placeholder:"username",value:n,onChange:o=>r(o.target.value)}),fe("button",{onClick:()=>{t(n),r("")},children:e})]})}function Uv({ctx:e}){const[t,n]=Ie.useState(""),[r,i]=Ie.useState(""),l=xe("div",{className:"session",children:[fe("h2",{children:"sign up"}),fe(ip,{onClick:async c=>{await e.db.exec("INSERT INTO users VALUES (?, ?, ?)",[ms(),c,e.siteid]);const d=await e.db.execA("select id, username from users where username = ?",[c]);n(d[0][0]),i(d[0][1])},btnText:"Sign up"}),fe("h2",{children:"or log in"}),fe(ip,{onClick:async c=>{const d=await e.db.execA("select id, username from users where username = ?",[c]);d.length==0&&alert(`username ${c} not found`),await e.db.exec("UPDATE users SET site_id = ? WHERE username = ?",[e.siteid,c]),n(d[0][0]),i(d[0][1])},btnText:"Log in"})]}),a=xe("div",{children:[xe("div",{className:"tweet-container",children:[xe("p",{children:["Current user: ",fe("b",{children:r})," (",t,")"]}),fe("button",{onClick:()=>n(""),children:"Log out"})]}),fe(jv,{ctx:e})]});return fe("div",{className:"App",children:xe(pc.Provider,{value:t,children:[fe("h1",{children:"CRDTWEET"}),t!==""&&fe(Fv,{ctx:e}),t===""?l:a]})})}var Bv=(()=>{var e=import.meta.url;return function(t){t=t||{};var n;n||(n=typeof t<"u"?t:{});var r,i;n.ready=new Promise(function(u,f){r=u,i=f});var o=Object.assign({},n),s="./this.program",l=(u,f)=>{throw f},a=typeof window=="object",c=typeof importScripts=="function",d="",m;(a||c)&&(c?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",c&&(m=u=>{var f=new XMLHttpRequest;return f.open("GET",u,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}));var v=n.print||console.log.bind(console),k=n.printErr||console.warn.bind(console);Object.assign(n,o),o=null,n.thisProgram&&(s=n.thisProgram),n.quit&&(l=n.quit);var w;n.wasmBinary&&(w=n.wasmBinary);var y=n.noExitRuntime||!0;typeof WebAssembly!="object"&&ce("no native wasm support detected");var C,h=!1,g=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function S(u,f,p){var _=f+p;for(p=f;u[p]&&!(p>=_);)++p;if(16<p-f&&u.buffer&&g)return g.decode(u.subarray(f,p));for(_="";f<p;){var E=u[f++];if(E&128){var b=u[f++]&63;if((E&224)==192)_+=String.fromCharCode((E&31)<<6|b);else{var x=u[f++]&63;E=(E&240)==224?(E&15)<<12|b<<6|x:(E&7)<<18|b<<12|x<<6|u[f++]&63,65536>E?_+=String.fromCharCode(E):(E-=65536,_+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else _+=String.fromCharCode(E)}return _}function T(u,f){return u?S(j,u,f):""}function P(u,f,p,_){if(!(0<_))return 0;var E=p;_=p+_-1;for(var b=0;b<u.length;++b){var x=u.charCodeAt(b);if(55296<=x&&57343>=x){var L=u.charCodeAt(++b);x=65536+((x&1023)<<10)|L&1023}if(127>=x){if(p>=_)break;f[p++]=x}else{if(2047>=x){if(p+1>=_)break;f[p++]=192|x>>6}else{if(65535>=x){if(p+2>=_)break;f[p++]=224|x>>12}else{if(p+3>=_)break;f[p++]=240|x>>18,f[p++]=128|x>>12&63}f[p++]=128|x>>6&63}f[p++]=128|x&63}}return f[p]=0,p-E}function M(u,f,p){return P(u,j,f,p)}function z(u){for(var f=0,p=0;p<u.length;++p){var _=u.charCodeAt(p);127>=_?f++:2047>=_?f+=2:55296<=_&&57343>=_?(f+=4,++p):f+=3}return f}var B,G,j,Ne,W,ne,Ge,tn;function Vt(){var u=C.buffer;B=u,n.HEAP8=G=new Int8Array(u),n.HEAP16=Ne=new Int16Array(u),n.HEAP32=W=new Int32Array(u),n.HEAPU8=j=new Uint8Array(u),n.HEAPU16=new Uint16Array(u),n.HEAPU32=ne=new Uint32Array(u),n.HEAPF32=Ge=new Float32Array(u),n.HEAPF64=tn=new Float64Array(u)}var bt=[],U=[],K=[],Y=[];function ue(){var u=n.preRun.shift();bt.unshift(u)}var oe=0,vt=null;function ce(u){throw n.onAbort&&n.onAbort(u),u="Aborted("+u+")",k(u),h=!0,u=new WebAssembly.RuntimeError(u+". Build with -sASSERTIONS for more info."),i(u),u}function Ht(){return pe.startsWith("data:application/octet-stream;base64,")}var pe;if(n.locateFile){if(pe="wa-sqlite-async.wasm",!Ht()){var nn=pe;pe=n.locateFile?n.locateFile(nn,d):d+nn}}else pe=new URL("/assets/wa-sqlite-async-de4a6e2a.wasm",self.location).href;function Co(){var u=pe;try{if(u==pe&&w)return new Uint8Array(w);if(m)return m(u);throw"both async and sync fetching of the wasm failed"}catch(f){ce(f)}}function Qe(){return w||!a&&!c||typeof fetch!="function"?Promise.resolve().then(function(){return Co()}):fetch(pe,{credentials:"same-origin"}).then(function(u){if(!u.ok)throw"failed to load wasm binary file at '"+pe+"'";return u.arrayBuffer()}).catch(function(){return Co()})}var J,Se;function _c(u){this.name="ExitStatus",this.message="Program terminated with exit("+u+")",this.status=u}function Eo(u){for(;0<u.length;)u.shift()(n)}function Te(u,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":return G[u>>0];case"i8":return G[u>>0];case"i16":return Ne[u>>1];case"i32":return W[u>>2];case"i64":return W[u>>2];case"float":return Ge[u>>2];case"double":return tn[u>>3];case"*":return ne[u>>2];default:ce("invalid type for getValue: "+f)}return null}function _t(u,f,p="i8"){switch(p.endsWith("*")&&(p="*"),p){case"i1":G[u>>0]=f;break;case"i8":G[u>>0]=f;break;case"i16":Ne[u>>1]=f;break;case"i32":W[u>>2]=f;break;case"i64":Se=[f>>>0,(J=f,1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[u>>2]=Se[0],W[u+4>>2]=Se[1];break;case"float":Ge[u>>2]=f;break;case"double":tn[u>>3]=f;break;case"*":ne[u>>2]=f;break;default:ce("invalid type for setValue: "+p)}}var Sc=(u,f)=>{for(var p=0,_=u.length-1;0<=_;_--){var E=u[_];E==="."?u.splice(_,1):E===".."?(u.splice(_,1),p++):p&&(u.splice(_,1),p--)}if(f)for(;p;p--)u.unshift("..");return u},En=u=>{var f=u.charAt(0)==="/",p=u.substr(-1)==="/";return(u=Sc(u.split("/").filter(_=>!!_),!f).join("/"))||f||(u="."),u&&p&&(u+="/"),(f?"/":"")+u},Vg=u=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1);return u=f[0],f=f[1],!u&&!f?".":(f&&(f=f.substr(0,f.length-1)),u+f)},wo=u=>{if(u==="/")return"/";u=En(u),u=u.replace(/\/$/,"");var f=u.lastIndexOf("/");return f===-1?u:u.substr(f+1)};function Hg(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var u=new Uint8Array(1);return()=>(crypto.getRandomValues(u),u[0])}return()=>ce("randomDevice")}function ko(){for(var u="",f=!1,p=arguments.length-1;-1<=p&&!f;p--){if(f=0<=p?arguments[p]:"/",typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";u=f+"/"+u,f=f.charAt(0)==="/"}return u=Sc(u.split("/").filter(_=>!!_),!f).join("/"),(f?"/":"")+u||"."}var Cc=[];function Ec(u,f){Cc[u]={input:[],Nb:[],Zb:f},ba(u,Wg)}var Wg={open:function(u){var f=Cc[u.node.bc];if(!f)throw new I(43);u.Ob=f,u.seekable=!1},close:function(u){u.Ob.Zb.dc(u.Ob)},dc:function(u){u.Ob.Zb.dc(u.Ob)},read:function(u,f,p,_){if(!u.Ob||!u.Ob.Zb.vc)throw new I(60);for(var E=0,b=0;b<_;b++){try{var x=u.Ob.Zb.vc(u.Ob)}catch{throw new I(29)}if(x===void 0&&E===0)throw new I(6);if(x==null)break;E++,f[p+b]=x}return E&&(u.node.timestamp=Date.now()),E},write:function(u,f,p,_){if(!u.Ob||!u.Ob.Zb.pc)throw new I(60);try{for(var E=0;E<_;E++)u.Ob.Zb.pc(u.Ob,f[p+E])}catch{throw new I(29)}return _&&(u.node.timestamp=Date.now()),E}},Gg={vc:function(u){if(!u.input.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`)),!f)return null;var p=Array(z(f)+1);f=P(f,p,0,p.length),p.length=f,u.input=p}return u.input.shift()},pc:function(u,f){f===null||f===10?(v(S(u.Nb,0)),u.Nb=[]):f!=0&&u.Nb.push(f)},dc:function(u){u.Nb&&0<u.Nb.length&&(v(S(u.Nb,0)),u.Nb=[])}},Qg={pc:function(u,f){f===null||f===10?(k(S(u.Nb,0)),u.Nb=[]):f!=0&&u.Nb.push(f)},dc:function(u){u.Nb&&0<u.Nb.length&&(k(S(u.Nb,0)),u.Nb=[])}},Z={Rb:null,Qb:function(){return Z.createNode(null,"/",16895,0)},createNode:function(u,f,p,_){if((p&61440)===24576||(p&61440)===4096)throw new I(63);return Z.Rb||(Z.Rb={dir:{node:{Pb:Z.zb.Pb,Mb:Z.zb.Mb,$b:Z.zb.$b,ec:Z.zb.ec,yc:Z.zb.yc,kc:Z.zb.kc,ic:Z.zb.ic,xc:Z.zb.xc,jc:Z.zb.jc},stream:{Wb:Z.Ib.Wb}},file:{node:{Pb:Z.zb.Pb,Mb:Z.zb.Mb},stream:{Wb:Z.Ib.Wb,read:Z.Ib.read,write:Z.Ib.write,rc:Z.Ib.rc,fc:Z.Ib.fc,hc:Z.Ib.hc}},link:{node:{Pb:Z.zb.Pb,Mb:Z.zb.Mb,cc:Z.zb.cc},stream:{}},sc:{node:{Pb:Z.zb.Pb,Mb:Z.zb.Mb},stream:Xg}}),p=xc(u,f,p,_),(p.mode&61440)===16384?(p.zb=Z.Rb.dir.node,p.Ib=Z.Rb.dir.stream,p.Jb={}):(p.mode&61440)===32768?(p.zb=Z.Rb.file.node,p.Ib=Z.Rb.file.stream,p.Lb=0,p.Jb=null):(p.mode&61440)===40960?(p.zb=Z.Rb.link.node,p.Ib=Z.Rb.link.stream):(p.mode&61440)===8192&&(p.zb=Z.Rb.sc.node,p.Ib=Z.Rb.sc.stream),p.timestamp=Date.now(),u&&(u.Jb[f]=p,u.timestamp=p.timestamp),p},Pc:function(u){return u.Jb?u.Jb.subarray?u.Jb.subarray(0,u.Lb):new Uint8Array(u.Jb):new Uint8Array(0)},tc:function(u,f){var p=u.Jb?u.Jb.length:0;p>=f||(f=Math.max(f,p*(1048576>p?2:1.125)>>>0),p!=0&&(f=Math.max(f,256)),p=u.Jb,u.Jb=new Uint8Array(f),0<u.Lb&&u.Jb.set(p.subarray(0,u.Lb),0))},Lc:function(u,f){if(u.Lb!=f)if(f==0)u.Jb=null,u.Lb=0;else{var p=u.Jb;u.Jb=new Uint8Array(f),p&&u.Jb.set(p.subarray(0,Math.min(f,u.Lb))),u.Lb=f}},zb:{Pb:function(u){var f={};return f.Ec=(u.mode&61440)===8192?u.id:1,f.nc=u.id,f.mode=u.mode,f.Kc=1,f.uid=0,f.Hc=0,f.bc=u.bc,(u.mode&61440)===16384?f.size=4096:(u.mode&61440)===32768?f.size=u.Lb:(u.mode&61440)===40960?f.size=u.link.length:f.size=0,f.Ac=new Date(u.timestamp),f.Jc=new Date(u.timestamp),f.Dc=new Date(u.timestamp),f.Bc=4096,f.Cc=Math.ceil(f.size/f.Bc),f},Mb:function(u,f){f.mode!==void 0&&(u.mode=f.mode),f.timestamp!==void 0&&(u.timestamp=f.timestamp),f.size!==void 0&&Z.Lc(u,f.size)},$b:function(){throw Ta[44]},ec:function(u,f,p,_){return Z.createNode(u,f,p,_)},yc:function(u,f,p){if((u.mode&61440)===16384){try{var _=Yn(f,p)}catch{}if(_)for(var E in _.Jb)throw new I(55)}delete u.parent.Jb[u.name],u.parent.timestamp=Date.now(),u.name=p,f.Jb[p]=u,f.timestamp=u.parent.timestamp,u.parent=f},kc:function(u,f){delete u.Jb[f],u.timestamp=Date.now()},ic:function(u,f){var p=Yn(u,f),_;for(_ in p.Jb)throw new I(55);delete u.Jb[f],u.timestamp=Date.now()},xc:function(u){var f=[".",".."],p;for(p in u.Jb)u.Jb.hasOwnProperty(p)&&f.push(p);return f},jc:function(u,f,p){return u=Z.createNode(u,f,41471,0),u.link=p,u},cc:function(u){if((u.mode&61440)!==40960)throw new I(28);return u.link}},Ib:{read:function(u,f,p,_,E){var b=u.node.Jb;if(E>=u.node.Lb)return 0;if(u=Math.min(u.node.Lb-E,_),8<u&&b.subarray)f.set(b.subarray(E,E+u),p);else for(_=0;_<u;_++)f[p+_]=b[E+_];return u},write:function(u,f,p,_,E,b){if(f.buffer===G.buffer&&(b=!1),!_)return 0;if(u=u.node,u.timestamp=Date.now(),f.subarray&&(!u.Jb||u.Jb.subarray)){if(b)return u.Jb=f.subarray(p,p+_),u.Lb=_;if(u.Lb===0&&E===0)return u.Jb=f.slice(p,p+_),u.Lb=_;if(E+_<=u.Lb)return u.Jb.set(f.subarray(p,p+_),E),_}if(Z.tc(u,E+_),u.Jb.subarray&&f.subarray)u.Jb.set(f.subarray(p,p+_),E);else for(b=0;b<_;b++)u.Jb[E+b]=f[p+b];return u.Lb=Math.max(u.Lb,E+_),_},Wb:function(u,f,p){if(p===1?f+=u.position:p===2&&(u.node.mode&61440)===32768&&(f+=u.node.Lb),0>f)throw new I(28);return f},rc:function(u,f,p){Z.tc(u.node,f+p),u.node.Lb=Math.max(u.node.Lb,f+p)},fc:function(u,f,p,_,E){if((u.node.mode&61440)!==32768)throw new I(43);if(u=u.node.Jb,E&2||u.buffer!==B){if((0<p||p+f<u.length)&&(u.subarray?u=u.subarray(p,p+f):u=Array.prototype.slice.call(u,p,p+f)),p=!0,f=65536*Math.ceil(f/65536),(E=Ff(65536,f))?(j.fill(0,E,E+f),f=E):f=0,!f)throw new I(48);G.set(u,f)}else p=!1,f=u.byteOffset;return{Sb:f,zc:p}},hc:function(u,f,p,_){return Z.Ib.write(u,f,0,_,p,!1),0}}},ka=null,wc={},wn=[],Kg=1,kn=null,kc=!0,I=null,Ta={},lt=(u,f={})=>{if(u=ko(u),!u)return{path:"",node:null};if(f=Object.assign({uc:!0,qc:0},f),8<f.qc)throw new I(32);u=u.split("/").filter(x=>!!x);for(var p=ka,_="/",E=0;E<u.length;E++){var b=E===u.length-1;if(b&&f.parent)break;if(p=Yn(p,u[E]),_=En(_+"/"+u[E]),p.Xb&&(!b||b&&f.uc)&&(p=p.Xb.root),!b||f.Vb){for(b=0;(p.mode&61440)===40960;)if(p=Lc(_),_=ko(Vg(_),p),p=lt(_,{qc:f.qc+1}).node,40<b++)throw new I(32)}}return{path:_,node:p}},To=u=>{for(var f;;){if(u===u.parent)return u=u.Qb.wc,f?u[u.length-1]!=="/"?u+"/"+f:u+f:u;f=f?u.name+"/"+f:u.name,u=u.parent}},xa=(u,f)=>{for(var p=0,_=0;_<f.length;_++)p=(p<<5)-p+f.charCodeAt(_)|0;return(u+p>>>0)%kn.length},Tc=u=>{var f=xa(u.parent.id,u.name);if(kn[f]===u)kn[f]=u.Yb;else for(f=kn[f];f;){if(f.Yb===u){f.Yb=u.Yb;break}f=f.Yb}},Yn=(u,f)=>{var p;if(p=(p=Er(u,"x"))?p:u.zb.$b?0:2)throw new I(p,u);for(p=kn[xa(u.id,f)];p;p=p.Yb){var _=p.name;if(p.parent.id===u.id&&_===f)return p}return u.zb.$b(u,f)},xc=(u,f,p,_)=>(u=new Af(u,f,p,_),f=xa(u.parent.id,u.name),u.Yb=kn[f],kn[f]=u),Jg={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},bc=u=>{var f=["r","w","rw"][u&3];return u&512&&(f+="w"),f},Er=(u,f)=>{if(kc)return 0;if(!f.includes("r")||u.mode&292){if(f.includes("w")&&!(u.mode&146)||f.includes("x")&&!(u.mode&73))return 2}else return 2;return 0},Rc=(u,f)=>{try{return Yn(u,f),20}catch{}return Er(u,"wx")},Pc=(u,f,p)=>{try{var _=Yn(u,f)}catch(E){return E.Kb}if(u=Er(u,"wx"))return u;if(p){if((_.mode&61440)!==16384)return 54;if(_===_.parent||To(_)==="/")return 10}else if((_.mode&61440)===16384)return 31;return 0},Yg=(u=0)=>{for(;4096>=u;u++)if(!wn[u])return u;throw new I(33)},Ic=(u,f)=>(di||(di=function(){this.lc={}},di.prototype={},Object.defineProperties(di.prototype,{object:{get:function(){return this.node},set:function(p){this.node=p}},flags:{get:function(){return this.lc.flags},set:function(p){this.lc.flags=p}},position:{get:function(){return this.lc.position},set:function(p){this.lc.position=p}}})),u=Object.assign(new di,u),f=Yg(f),u.Tb=f,wn[f]=u),Xg={open:u=>{u.Ib=wc[u.node.bc].Ib,u.Ib.open&&u.Ib.open(u)},Wb:()=>{throw new I(70)}},ba=(u,f)=>{wc[u]={Ib:f}},Dc=(u,f)=>{var p=f==="/",_=!f;if(p&&ka)throw new I(10);if(!p&&!_){var E=lt(f,{uc:!1});if(f=E.path,E=E.node,E.Xb)throw new I(10);if((E.mode&61440)!==16384)throw new I(54)}f={type:u,Rc:{},wc:f,Ic:[]},u=u.Qb(f),u.Qb=f,f.root=u,p?ka=u:E&&(E.Xb=f,E.Qb&&E.Qb.Ic.push(f))},Ra=(u,f,p)=>{var _=lt(u,{parent:!0}).node;if(u=wo(u),!u||u==="."||u==="..")throw new I(28);var E=Rc(_,u);if(E)throw new I(E);if(!_.zb.ec)throw new I(63);return _.zb.ec(_,u,f,p)},Wt=(u,f)=>Ra(u,(f!==void 0?f:511)&1023|16384,0),xo=(u,f,p)=>{typeof p>"u"&&(p=f,f=438),Ra(u,f|8192,p)},Pa=(u,f)=>{if(!ko(u))throw new I(44);var p=lt(f,{parent:!0}).node;if(!p)throw new I(44);f=wo(f);var _=Rc(p,f);if(_)throw new I(_);if(!p.zb.jc)throw new I(63);p.zb.jc(p,f,u)},Oc=u=>{var f=lt(u,{parent:!0}).node;u=wo(u);var p=Yn(f,u),_=Pc(f,u,!0);if(_)throw new I(_);if(!f.zb.ic)throw new I(63);if(p.Xb)throw new I(10);f.zb.ic(f,u),Tc(p)},Lc=u=>{if(u=lt(u).node,!u)throw new I(44);if(!u.zb.cc)throw new I(28);return ko(To(u.parent),u.zb.cc(u))},bo=(u,f)=>{if(u=lt(u,{Vb:!f}).node,!u)throw new I(44);if(!u.zb.Pb)throw new I(63);return u.zb.Pb(u)},Nc=u=>bo(u,!0),Ac=(u,f)=>{if(u=typeof u=="string"?lt(u,{Vb:!0}).node:u,!u.zb.Mb)throw new I(63);u.zb.Mb(u,{mode:f&4095|u.mode&-4096,timestamp:Date.now()})},Mc=(u,f)=>{if(0>f)throw new I(28);if(u=typeof u=="string"?lt(u,{Vb:!0}).node:u,!u.zb.Mb)throw new I(63);if((u.mode&61440)===16384)throw new I(31);if((u.mode&61440)!==32768)throw new I(28);var p=Er(u,"w");if(p)throw new I(p);u.zb.Mb(u,{size:f,timestamp:Date.now()})},Ro=(u,f,p)=>{if(u==="")throw new I(44);if(typeof f=="string"){var _=Jg[f];if(typeof _>"u")throw Error("Unknown file open mode: "+f);f=_}if(p=f&64?(typeof p>"u"?438:p)&4095|32768:0,typeof u=="object")var E=u;else{u=En(u);try{E=lt(u,{Vb:!(f&131072)}).node}catch{}}if(_=!1,f&64)if(E){if(f&128)throw new I(20)}else E=Ra(u,p,0),_=!0;if(!E)throw new I(44);if((E.mode&61440)===8192&&(f&=-513),f&65536&&(E.mode&61440)!==16384)throw new I(54);if(!_&&(p=E?(E.mode&61440)===40960?32:(E.mode&61440)===16384&&(bc(f)!=="r"||f&512)?31:Er(E,bc(f)):44))throw new I(p);return f&512&&!_&&Mc(E,0),f&=-131713,E=Ic({node:E,path:To(E),flags:f,seekable:!0,position:0,Ib:E.Ib,Oc:[],error:!1}),E.Ib.open&&E.Ib.open(E),!n.logReadFiles||f&1||(Po||(Po={}),u in Po||(Po[u]=1)),E},zc=(u,f,p)=>{if(u.Tb===null)throw new I(8);if(!u.seekable||!u.Ib.Wb)throw new I(70);if(p!=0&&p!=1&&p!=2)throw new I(28);u.position=u.Ib.Wb(u,f,p),u.Oc=[]},Fc=()=>{I||(I=function(u,f){this.node=f,this.Mc=function(p){this.Kb=p},this.Mc(u),this.message="FS error"},I.prototype=Error(),I.prototype.constructor=I,[44].forEach(u=>{Ta[u]=new I(u),Ta[u].stack="<generic error, no stack>"}))},jc,Zg=(u,f)=>{var p=0;return u&&(p|=365),f&&(p|=146),p},fi=(u,f,p)=>{u=En("/dev/"+u);var _=Zg(!!f,!!p);Ia||(Ia=64);var E=Ia++<<8|0;ba(E,{open:b=>{b.seekable=!1},close:()=>{p&&p.buffer&&p.buffer.length&&p(10)},read:(b,x,L,R)=>{for(var D=0,F=0;F<R;F++){try{var N=f()}catch{throw new I(29)}if(N===void 0&&D===0)throw new I(6);if(N==null)break;D++,x[L+F]=N}return D&&(b.node.timestamp=Date.now()),D},write:(b,x,L,R)=>{for(var D=0;D<R;D++)try{p(x[L+D])}catch{throw new I(29)}return R&&(b.node.timestamp=Date.now()),D}}),xo(u,_,E)},Ia,he={},di,Po;function Xn(u,f,p){if(f.charAt(0)==="/")return f;if(u=u===-100?"/":At(u).path,f.length==0){if(!p)throw new I(44);return u}return En(u+"/"+f)}function Io(u,f,p){try{var _=u(f)}catch(b){if(b&&b.node&&En(f)!==En(To(b.node)))return-54;throw b}W[p>>2]=_.Ec,W[p+8>>2]=_.nc,W[p+12>>2]=_.mode,ne[p+16>>2]=_.Kc,W[p+20>>2]=_.uid,W[p+24>>2]=_.Hc,W[p+28>>2]=_.bc,Se=[_.size>>>0,(J=_.size,1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[p+40>>2]=Se[0],W[p+44>>2]=Se[1],W[p+48>>2]=4096,W[p+52>>2]=_.Cc,u=_.Ac.getTime(),f=_.Jc.getTime();var E=_.Dc.getTime();return Se=[Math.floor(u/1e3)>>>0,(J=Math.floor(u/1e3),1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[p+56>>2]=Se[0],W[p+60>>2]=Se[1],ne[p+64>>2]=u%1e3*1e3,Se=[Math.floor(f/1e3)>>>0,(J=Math.floor(f/1e3),1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[p+72>>2]=Se[0],W[p+76>>2]=Se[1],ne[p+80>>2]=f%1e3*1e3,Se=[Math.floor(E/1e3)>>>0,(J=Math.floor(E/1e3),1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[p+88>>2]=Se[0],W[p+92>>2]=Se[1],ne[p+96>>2]=E%1e3*1e3,Se=[_.nc>>>0,(J=_.nc,1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[p+104>>2]=Se[0],W[p+108>>2]=Se[1],0}var Do=void 0;function Oo(){return Do+=4,W[Do-4>>2]}function At(u){if(u=wn[u],!u)throw new I(8);return u}function Da(u){return ne[u>>2]+4294967296*W[u+4>>2]}var ey=[0,31,60,91,121,152,182,213,244,274,305,335],ty=[0,31,59,90,120,151,181,212,243,273,304,334];function Uc(u){var f=z(u)+1,p=Aa(f);return p&&P(u,G,p,f),p}var Oa={};function Bc(){if(!La){var u={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},f;for(f in Oa)Oa[f]===void 0?delete u[f]:u[f]=Oa[f];var p=[];for(f in u)p.push(f+"="+u[f]);La=p}return La}var La;function $c(){}function qc(){}function Vc(){}function Hc(){}function Wc(){}function Gc(){}function Qc(){}function Kc(){}function Jc(){}function Yc(){}function Xc(){}function Zc(){}function ef(){}function tf(){}function nf(){}function rf(){}function of(){}function sf(){}function af(){}function lf(){}function uf(){}function cf(){}function ff(){}function df(){}function pf(){}function hf(){}function mf(){}function gf(){}function yf(){}function vf(){}function _f(){}function Sf(){}function Cf(){}function Ef(){}function wf(){}function kf(){}function Tf(){}function xf(){}function bf(u){u instanceof _c||u=="unwind"||l(1,u)}function Lo(u){try{u()}catch(f){ce(f)}}function Rf(u){var f={},p;for(p in u)(function(_){var E=u[_];f[_]=typeof E=="function"?function(){No.push(_);try{return E.apply(null,arguments)}finally{h||(No.pop()===_||ce(),Gt&&Tn===1&&No.length===0&&(Tn=0,Lo(qf),typeof Fibers<"u"&&Fibers.Sc()))}}:E})(p);return f}var Tn=0,Gt=null,Pf=0,No=[],If={},Df={},ny=0,Na=null,ry=[];function iy(){return new Promise((u,f)=>{Na={resolve:u,reject:f}})}function oy(){var u=Aa(12300),f=u+12;W[u>>2]=f,W[u+4>>2]=f+12288,f=No[0];var p=If[f];return p===void 0&&(p=ny++,If[f]=p,Df[p]=f),W[u+8>>2]=p,u}function Of(u){if(!h){if(Tn===0){var f=!1,p=!1;u(_=>{if(!h&&(Pf=_||0,f=!0,p)){Tn=2,Lo(()=>Vf(Gt)),_=!1;try{var E=(0,n.asm[Df[W[Gt+8>>2]]])()}catch(L){E=L,_=!0}var b=!1;if(!Gt){var x=Na;x&&(Na=null,(_?x.reject:x.resolve)(E),b=!0)}if(_&&!b)throw E}}),p=!0,f||(Tn=1,Gt=oy(),Lo(()=>$f(Gt)))}else Tn===2?(Tn=0,Lo(Hf),Mf(Gt),Gt=null,ry.forEach(_=>{if(!h)try{_()}catch(E){bf(E)}})):ce("invalid state: "+Tn);return Pf}}function Lf(u){return Of(f=>{u().then(f)})}var Nf={};function Qt(u,f,p,_,E){function b(N){return R!==0&&Bf(R),f==="string"?T(N):f==="boolean"?!!N:N}var x={string:N=>{var H=0;if(N!=null&&N!==0){var se=(N.length<<2)+1;H=Ma(se),M(N,H,se)}return H},array:N=>{var H=Ma(N.length);return G.set(N,H),H}};u=n["_"+u];var L=[],R=0;if(_)for(var D=0;D<_.length;D++){var F=x[p[D]];F?(R===0&&(R=Uf()),L[D]=F(_[D])):L[D]=_[D]}return p=Gt,_=u.apply(null,L),E=E&&E.async,Gt!=p?iy().then(b):(_=b(_),E?Promise.resolve(_):_)}function Af(u,f,p,_){u||(u=this),this.parent=u,this.Qb=u.Qb,this.Xb=null,this.id=Kg++,this.name=f,this.mode=p,this.zb={},this.Ib={},this.bc=_}Object.defineProperties(Af.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(u){u?this.mode|=146:this.mode&=-147}}}),Fc(),kn=Array(4096),Dc(Z,"/"),Wt("/tmp"),Wt("/home"),Wt("/home/web_user"),(()=>{Wt("/dev"),ba(259,{read:()=>0,write:(f,p,_,E)=>E}),xo("/dev/null",259),Ec(1280,Gg),Ec(1536,Qg),xo("/dev/tty",1280),xo("/dev/tty1",1536);var u=Hg();fi("random",u),fi("urandom",u),Wt("/dev/shm"),Wt("/dev/shm/tmp")})(),(()=>{Wt("/proc");var u=Wt("/proc/self");Wt("/proc/self/fd"),Dc({Qb:()=>{var f=xc(u,"fd",16895,73);return f.zb={$b:(p,_)=>{var E=wn[+_];if(!E)throw new I(8);return p={parent:null,Qb:{wc:"fake"},zb:{cc:()=>E.path}},p.parent=p}},f}},"/proc/self/fd")})(),function(){function u(_,E){const b=[];for(let x=0;_[E+x]!=0;++x){if(1e3<x)throw Error("C-string never terminated after 1k characters");b.push(_[E+x])}return String.fromCharCode(...b)}const f=new Map,p=new Map;n.updateHook=function(_,E){const b=f.size;return f.set(b,E),Qt("update_hook","void",["number","number"],[_,b])},n.createFunction=function(_,E,b,x,L,R){const D=f.size;return f.set(D,{f:R,Ub:L}),Qt("create_function","number","number string number number number number".split(" "),[_,E,b,x,D,0])},n.createAggregate=function(_,E,b,x,L,R,D){const F=f.size;return f.set(F,{step:R,Fc:D,Ub:L}),Qt("create_function","number","number string number number number number".split(" "),[_,E,b,x,F,1])},n.getFunctionUserData=function(_){return p.get(_)},Hc=function(_,E,b,x,L,R){_=f.get(_);const D=G;L=BigInt(R)<<32n|BigInt(L)&4294967295n,_(E,u(D,b),u(D,x),L)},qc=function(_,E,b,x){_=f.get(_),p.set(E,_.Ub),_.f(E,new Uint32Array(G.buffer,x,b)),p.delete(E)},Vc=function(_,E,b,x){_=f.get(_),p.set(E,_.Ub),_.step(E,new Uint32Array(G.buffer,x,b)),p.delete(E)},$c=function(_,E){_=f.get(_),p.set(E,_.Ub),_.Fc(E),p.delete(E)}}(),function(){const u=typeof Nf=="object",f=new Map,p=new Map,_=new Map,E=u?new Set:null,b=u?new Set:null;class x{constructor(D,F){this.Sb=D,this.type=F}}x.prototype.allocate=function(R){let D=Te(this.Sb,"i32");return D||(D=Qt("sqlite3_malloc","number",["number"],[R]),_t(this.Sb,D,"i32")),D},x.prototype.set=function(R){switch(this.type){case"s":const D=z(R),F=this.allocate(D+1);M(R,F,D+1);break;default:_t(this.Sb,R,this.type)}};const L=new Map;uf=function(R,D,F,N){L.set(T(R),{size:D,ac:Array.from(new Uint32Array(G.buffer,N,F))})},n.createModule=function(R,D,F,N){u&&(F.handleAsync=Lf);const H=f.size;return f.set(H,{module:F,Ub:N}),N=0,F.xCreate&&(N|=1),F.xConnect&&(N|=2),F.xBestIndex&&(N|=4),F.xDisconnect&&(N|=8),F.xDestroy&&(N|=16),F.xOpen&&(N|=32),F.xClose&&(N|=64),F.xFilter&&(N|=128),F.xNext&&(N|=256),F.xEof&&(N|=512),F.xColumn&&(N|=1024),F.xRowid&&(N|=2048),F.xUpdate&&(N|=4096),F.xBegin&&(N|=8192),F.xSync&&(N|=16384),F.xCommit&&(N|=32768),F.xRollback&&(N|=65536),F.xFindFunction&&(N|=131072),F.xRename&&(N|=262144),Qt("create_module","number",["number","string","number","number"],[R,D,H,N])},Xc=function(R,D,F,N,H,se){if(D=f.get(D),p.set(H,D),u){E.delete(H);for(const De of E)p.delete(De)}return N=Array.from(new Uint32Array(G.buffer,N,F)).map(De=>T(De)),D.module.xCreate(R,D.Ub,N,H,new x(se,"s"))},Yc=function(R,D,F,N,H,se){if(D=f.get(D),p.set(H,D),u){E.delete(H);for(const De of E)p.delete(De)}return N=Array.from(new Uint32Array(G.buffer,N,F)).map(De=>T(De)),D.module.xConnect(R,D.Ub,N,H,new x(se,"s"))},Gc=function(R,D){var F=p.get(R),N=L.get("sqlite3_index_info").ac;const H={};H.nConstraint=Te(D+N[0],"i32"),H.aConstraint=[];for(var se=Te(D+N[1],"i32"),De=L.get("sqlite3_index_constraint").size,ut=0;ut<H.nConstraint;++ut){var ct=H.aConstraint,Ke=ct.push,rn=se+ut*De,wr=L.get("sqlite3_index_constraint").ac,xn={};xn.iColumn=Te(rn+wr[0],"i32"),xn.op=Te(rn+wr[1],"i8"),xn.usable=!!Te(rn+wr[2],"i8"),Ke.call(ct,xn)}for(H.nOrderBy=Te(D+N[2],"i32"),H.aOrderBy=[],se=Te(D+N[3],"i32"),De=L.get("sqlite3_index_orderby").size,ut=0;ut<H.nOrderBy;++ut)ct=H.aOrderBy,Ke=ct.push,rn=se+ut*De,wr=L.get("sqlite3_index_orderby").ac,xn={},xn.iColumn=Te(rn+wr[0],"i32"),xn.desc=!!Te(rn+wr[1],"i8"),Ke.call(ct,xn);for(H.aConstraintUsage=[],se=0;se<H.nConstraint;++se)H.aConstraintUsage.push({argvIndex:0,omit:!1});for(H.idxNum=Te(D+N[5],"i32"),H.idxStr=null,H.orderByConsumed=!!Te(D+N[8],"i8"),H.estimatedCost=Te(D+N[9],"double"),H.estimatedRows=Te(D+N[10],"i64"),H.idxFlags=Te(D+N[11],"i32"),H.colUsed=Te(D+N[12],"i64"),R=F.module.xBestIndex(R,H),F=L.get("sqlite3_index_info").ac,N=Te(D+F[4],"i32"),se=L.get("sqlite3_index_constraint_usage").size,Ke=0;Ke<H.nConstraint;++Ke)De=N+Ke*se,ct=H.aConstraintUsage[Ke],rn=L.get("sqlite3_index_constraint_usage").ac,_t(De+rn[0],ct.argvIndex,"i32"),_t(De+rn[1],ct.omit?1:0,"i8");return _t(D+F[5],H.idxNum,"i32"),typeof H.idxStr=="string"&&(N=z(H.idxStr),se=Qt("sqlite3_malloc","number",["number"],[N+1]),M(H.idxStr,se,N+1),_t(D+F[6],se,"i32"),_t(D+F[7],1,"i32")),_t(D+F[8],H.orderByConsumed,"i32"),_t(D+F[9],H.estimatedCost,"double"),_t(D+F[10],H.estimatedRows,"i64"),_t(D+F[11],H.idxFlags,"i32"),R},ef=function(R){const D=p.get(R);return u?E.add(R):p.delete(R),D.module.xDisconnect(R)},Zc=function(R){const D=p.get(R);return u?E.add(R):p.delete(R),D.module.xDestroy(R)},of=function(R,D){const F=p.get(R);if(_.set(D,F),u){b.delete(D);for(const N of b)_.delete(N)}return F.module.xOpen(R,D)},Qc=function(R){const D=_.get(R);return u?b.add(R):_.delete(R),D.module.xClose(R)},tf=function(R){return _.get(R).module.xEof(R)?1:0},nf=function(R,D,F,N,H){const se=_.get(R);return F=F?T(F):null,H=new Uint32Array(G.buffer,H,N),se.module.xFilter(R,D,F,H)},rf=function(R){return _.get(R).module.xNext(R)},Kc=function(R,D,F){return _.get(R).module.xColumn(R,D,F)},lf=function(R,D){return _.get(R).module.xRowid(R,new x(D,"i64"))},ff=function(R,D,F,N){const H=p.get(R);return F=new Uint32Array(G.buffer,F,D),H.module.xUpdate(R,F,new x(N,"i64"))},Wc=function(R){return p.get(R).module.xBegin(R)},cf=function(R){return p.get(R).module.xSync(R)},Jc=function(R){return p.get(R).module.xCommit(R)},af=function(R){return p.get(R).module.xRollback(R)},sf=function(R,D){const F=p.get(R);return D=T(D),F.module.xRename(R,D)}}(),function(){const u=typeof Nf=="object",f=new Map,p=new Map;n.registerVFS=function(x,L){if(Qt("sqlite3_vfs_find","number",["string"],[x.name]))throw Error(`VFS '${x}' already registered`);u&&(x.handleAsync=Lf);var R=x.Qc??64;const D=n._malloc(4);return L=Qt("register_vfs","number",["string","number","number","number"],[x.name,R,L?1:0,D]),L||(R=Te(D,"i32"),f.set(R,x)),n._free(D),L};const _=u?new Set:null;class E{constructor(L,R){this.Sb=L,this.type=R}set(L){_t(this.Sb,L,this.type)}}class b{constructor(L,R){this.Sb=L,this.size=R}get value(){return new Int8Array(G.buffer,this.Sb,this.size)}}hf=function(x){const L=p.get(x);return u?_.add(x):p.delete(x),L.xClose(x)},Cf=function(x,L,R,D){return p.get(x).xRead(x,new b(L,R),Te(D,"i64"))},xf=function(x,L,R,D){return p.get(x).xWrite(x,new b(L,R),Te(D,"i64"))},kf=function(x,L){return p.get(x).xTruncate(x,Te(L,"i64"))},wf=function(x,L){return p.get(x).xSync(x,L)},vf=function(x,L){return p.get(x).xFileSize(x,new E(L,"i64"))},_f=function(x,L){return p.get(x).xLock(x,L)},Tf=function(x,L){return p.get(x).xUnlock(x,L)},pf=function(x,L){return p.get(x).xCheckReservedLock(x,new E(L,"i32"))},yf=function(x,L,R){return p.get(x).xFileControl(x,L,new b(R))},Ef=function(x){return p.get(x).xSectorSize(x)},gf=function(x){return p.get(x).xDeviceCharacteristics(x)},Sf=function(x,L,R,D,F){if(x=f.get(x),p.set(R,x),u){_.delete(R);for(var N of _)p.delete(N)}if(N=null,D&64){N=1;const H=[];for(;N;){const se=G[L++];if(se)H.push(se);else switch(G[L]||(N=null),N){case 1:H.push(63),N=2;break;case 2:H.push(61),N=3;break;case 3:H.push(38),N=2}}N=new TextDecoder().decode(new Int8Array(H))}else L&&(N=T(L));return x.xOpen(N,R,D,new E(F,"i32"))},mf=function(x,L,R){return f.get(x).xDelete(T(L),R)},df=function(x,L,R,D){return f.get(x).xAccess(T(L),R,new E(D,"i32"))}}();var sy={a:function(u,f,p,_){ce("Assertion failed: "+T(u)+", at: "+[f?T(f):"unknown filename",p,_?T(_):"unknown function"])},I:function(u,f){try{return u=T(u),Ac(u,f),0}catch(p){if(typeof he>"u"||!(p instanceof I))throw p;return-p.Kb}},N:function(u,f,p){try{if(f=T(f),f=Xn(u,f),p&-8)return-28;var _=lt(f,{Vb:!0}).node;return _?(u="",p&4&&(u+="r"),p&2&&(u+="w"),p&1&&(u+="x"),u&&Er(_,u)?-2:0):-44}catch(E){if(typeof he>"u"||!(E instanceof I))throw E;return-E.Kb}},J:function(u,f){try{var p=wn[u];if(!p)throw new I(8);return Ac(p.node,f),0}catch(_){if(typeof he>"u"||!(_ instanceof I))throw _;return-_.Kb}},H:function(u){try{var f=wn[u];if(!f)throw new I(8);var p=f.node,_=typeof p=="string"?lt(p,{Vb:!0}).node:p;if(!_.zb.Mb)throw new I(63);return _.zb.Mb(_,{timestamp:Date.now()}),0}catch(E){if(typeof he>"u"||!(E instanceof I))throw E;return-E.Kb}},b:function(u,f,p){Do=p;try{var _=At(u);switch(f){case 0:var E=Oo();return 0>E?-28:Ic(_,E).Tb;case 1:case 2:return 0;case 3:return _.flags;case 4:return E=Oo(),_.flags|=E,0;case 5:return E=Oo(),Ne[E+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return W[zf()>>2]=28,-1;default:return-28}}catch(b){if(typeof he>"u"||!(b instanceof I))throw b;return-b.Kb}},G:function(u,f){try{var p=At(u);return Io(bo,p.path,f)}catch(_){if(typeof he>"u"||!(_ instanceof I))throw _;return-_.Kb}},k:function(u,f,p){try{if(f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,isNaN(f))return-61;var _=wn[u];if(!_)throw new I(8);if(!(_.flags&2097155))throw new I(28);return Mc(_.node,f),0}catch(E){if(typeof he>"u"||!(E instanceof I))throw E;return-E.Kb}},A:function(u,f){try{if(f===0)return-28;var p=z("/")+1;return f<p?-68:(M("/",u,f),p)}catch(_){if(typeof he>"u"||!(_ instanceof I))throw _;return-_.Kb}},D:function(u,f){try{return u=T(u),Io(Nc,u,f)}catch(p){if(typeof he>"u"||!(p instanceof I))throw p;return-p.Kb}},x:function(u,f,p){try{return f=T(f),f=Xn(u,f),f=En(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),Wt(f,p),0}catch(_){if(typeof he>"u"||!(_ instanceof I))throw _;return-_.Kb}},C:function(u,f,p,_){try{f=T(f);var E=_&256;return f=Xn(u,f,_&4096),Io(E?Nc:bo,f,p)}catch(b){if(typeof he>"u"||!(b instanceof I))throw b;return-b.Kb}},t:function(u,f,p,_){Do=_;try{f=T(f),f=Xn(u,f);var E=_?Oo():0;return Ro(f,p,E).Tb}catch(b){if(typeof he>"u"||!(b instanceof I))throw b;return-b.Kb}},r:function(u,f,p,_){try{if(f=T(f),f=Xn(u,f),0>=_)return-28;var E=Lc(f),b=Math.min(_,z(E)),x=G[p+b];return M(E,p,_+1),G[p+b]=x,b}catch(L){if(typeof he>"u"||!(L instanceof I))throw L;return-L.Kb}},q:function(u){try{return u=T(u),Oc(u),0}catch(f){if(typeof he>"u"||!(f instanceof I))throw f;return-f.Kb}},E:function(u,f){try{return u=T(u),Io(bo,u,f)}catch(p){if(typeof he>"u"||!(p instanceof I))throw p;return-p.Kb}},o:function(u,f,p){try{if(f=T(f),f=Xn(u,f),p===0){u=f;var _=lt(u,{parent:!0}).node;if(!_)throw new I(44);var E=wo(u),b=Yn(_,E),x=Pc(_,E,!1);if(x)throw new I(x);if(!_.zb.kc)throw new I(63);if(b.Xb)throw new I(10);_.zb.kc(_,E),Tc(b)}else p===512?Oc(f):ce("Invalid flags passed to unlinkat");return 0}catch(L){if(typeof he>"u"||!(L instanceof I))throw L;return-L.Kb}},n:function(u,f,p){try{if(f=T(f),f=Xn(u,f,!0),p){var _=Da(p),E=W[p+8>>2];b=1e3*_+E/1e6,p+=16,_=Da(p),E=W[p+8>>2],x=1e3*_+E/1e6}else var b=Date.now(),x=b;u=b;var L=lt(f,{Vb:!0}).node;return L.zb.Mb(L,{timestamp:Math.max(u,x)}),0}catch(R){if(typeof he>"u"||!(R instanceof I))throw R;return-R.Kb}},K:function(u,f){u=new Date(1e3*Da(u)),W[f>>2]=u.getSeconds(),W[f+4>>2]=u.getMinutes(),W[f+8>>2]=u.getHours(),W[f+12>>2]=u.getDate(),W[f+16>>2]=u.getMonth(),W[f+20>>2]=u.getFullYear()-1900,W[f+24>>2]=u.getDay();var p=u.getFullYear();W[f+28>>2]=(p%4!==0||p%100===0&&p%400!==0?ty:ey)[u.getMonth()]+u.getDate()-1|0,W[f+36>>2]=-(60*u.getTimezoneOffset()),p=new Date(u.getFullYear(),6,1).getTimezoneOffset();var _=new Date(u.getFullYear(),0,1).getTimezoneOffset();W[f+32>>2]=(p!=_&&u.getTimezoneOffset()==Math.min(_,p))|0},v:function(u,f,p,_,E,b,x){try{var L=At(_);if(f&2&&!(p&2)&&(L.flags&2097155)!==2)throw new I(2);if((L.flags&2097155)===1)throw new I(2);if(!L.Ib.fc)throw new I(43);var R=L.Ib.fc(L,u,E,f,p),D=R.Sb;return W[b>>2]=R.zc,ne[x>>2]=D,0}catch(F){if(typeof he>"u"||!(F instanceof I))throw F;return-F.Kb}},w:function(u,f,p,_,E,b){try{var x=At(E);if(p&2){if((x.node.mode&61440)!==32768)throw new I(43);_&2||x.Ib.hc&&x.Ib.hc(x,j.slice(u,u+f),b,f,_)}}catch(L){if(typeof he>"u"||!(L instanceof I))throw L;return-L.Kb}},L:function(u,f,p){function _(R){return(R=R.toTimeString().match(/\(([A-Za-z ]+)\)$/))?R[1]:"GMT"}var E=new Date().getFullYear(),b=new Date(E,0,1),x=new Date(E,6,1);E=b.getTimezoneOffset();var L=x.getTimezoneOffset();ne[u>>2]=60*Math.max(E,L),W[f>>2]=Number(E!=L),u=_(b),f=_(x),u=Uc(u),f=Uc(f),L<E?(ne[p>>2]=u,ne[p+4>>2]=f):(ne[p>>2]=f,ne[p+4>>2]=u)},e:function(){return Date.now()},d:()=>performance.now(),l:function(u){var f=j.length;if(u>>>=0,2147483648<u)return!1;for(var p=1;4>=p;p*=2){var _=f*(1+.2/p);_=Math.min(_,u+100663296);var E=Math;_=Math.max(u,_),E=E.min.call(E,2147483648,_+(65536-_%65536)%65536);e:{try{C.grow(E-B.byteLength+65535>>>16),Vt();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},y:function(u,f){var p=0;return Bc().forEach(function(_,E){var b=f+p;for(E=ne[u+4*E>>2]=b,b=0;b<_.length;++b)G[E++>>0]=_.charCodeAt(b);G[E>>0]=0,p+=_.length+1}),0},z:function(u,f){var p=Bc();ne[u>>2]=p.length;var _=0;return p.forEach(function(E){_+=E.length+1}),ne[f>>2]=_,0},f:function(u){try{var f=At(u);if(f.Tb===null)throw new I(8);f.mc&&(f.mc=null);try{f.Ib.close&&f.Ib.close(f)}catch(p){throw p}finally{wn[f.Tb]=null}return f.Tb=null,0}catch(p){if(typeof he>"u"||!(p instanceof I))throw p;return p.Kb}},m:function(u,f){try{var p=At(u);return G[f>>0]=p.Ob?2:(p.mode&61440)===16384?3:(p.mode&61440)===40960?7:4,0}catch(_){if(typeof he>"u"||!(_ instanceof I))throw _;return _.Kb}},s:function(u,f,p,_){try{e:{var E=At(u);u=f;for(var b=f=0;b<p;b++){var x=ne[u>>2],L=ne[u+4>>2];u+=8;var R=E,D=x,F=L,N=void 0,H=G;if(0>F||0>N)throw new I(28);if(R.Tb===null)throw new I(8);if((R.flags&2097155)===1)throw new I(8);if((R.node.mode&61440)===16384)throw new I(31);if(!R.Ib.read)throw new I(28);var se=typeof N<"u";if(!se)N=R.position;else if(!R.seekable)throw new I(70);var De=R.Ib.read(R,H,D,F,N);se||(R.position+=De);var ut=De;if(0>ut){var ct=-1;break e}if(f+=ut,ut<L)break}ct=f}return ne[_>>2]=ct,0}catch(Ke){if(typeof he>"u"||!(Ke instanceof I))throw Ke;return Ke.Kb}},i:function(u,f,p,_,E){try{if(f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,isNaN(f))return 61;var b=At(u);return zc(b,f,_),Se=[b.position>>>0,(J=b.position,1<=+Math.abs(J)?0<J?(Math.min(+Math.floor(J/4294967296),4294967295)|0)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)],W[E>>2]=Se[0],W[E+4>>2]=Se[1],b.mc&&f===0&&_===0&&(b.mc=null),0}catch(x){if(typeof he>"u"||!(x instanceof I))throw x;return x.Kb}},B:function(u){try{var f=At(u);return Of(function(p){var _=f.node.Qb;_.type.Nc?_.type.Nc(_,!1,function(E){p(E?function(){return 29}:0)}):p(0)})}catch(p){if(typeof he>"u"||!(p instanceof I))throw p;return p.Kb}},p:function(u,f,p,_){try{e:{var E=At(u);u=f;for(var b=f=0;b<p;b++){var x=ne[u>>2],L=ne[u+4>>2];u+=8;var R=E,D=x,F=L,N=void 0,H=G;if(0>F||0>N)throw new I(28);if(R.Tb===null)throw new I(8);if(!(R.flags&2097155))throw new I(8);if((R.node.mode&61440)===16384)throw new I(31);if(!R.Ib.write)throw new I(28);R.seekable&&R.flags&1024&&zc(R,0,2);var se=typeof N<"u";if(!se)N=R.position;else if(!R.seekable)throw new I(70);var De=R.Ib.write(R,H,D,F,N,void 0);se||(R.position+=De);var ut=De;if(0>ut){var ct=-1;break e}f+=ut}ct=f}return ne[_>>2]=ct,0}catch(Ke){if(typeof he>"u"||!(Ke instanceof I))throw Ke;return Ke.Kb}},X:$c,qa:qc,fa:Vc,M:Hc,ka:Wc,F:Gc,h:Qc,na:Kc,ia:Jc,da:Yc,ea:Xc,j:Zc,u:ef,oa:tf,g:nf,pa:rf,ca:of,ga:sf,ha:af,ma:lf,c:uf,ja:cf,la:ff,aa:df,V:pf,$:hf,ba:mf,S:gf,U:yf,Z:vf,Y:_f,R:Sf,Q:Cf,T:Ef,_:wf,O:kf,W:Tf,P:xf};(function(){function u(b){b=b.exports,b=Rf(b),n.asm=b,C=n.asm.ra,Vt(),U.unshift(n.asm.sa),oe--,n.monitorRunDependencies&&n.monitorRunDependencies(oe),oe==0&&vt&&(b=vt,vt=null,b())}function f(b){u(b.instance)}function p(b){return Qe().then(function(x){return WebAssembly.instantiate(x,_)}).then(function(x){return x}).then(b,function(x){k("failed to asynchronously prepare wasm: "+x),ce(x)})}var _={a:sy};if(oe++,n.monitorRunDependencies&&n.monitorRunDependencies(oe),n.instantiateWasm)try{var E=n.instantiateWasm(_,u);return E=Rf(E)}catch(b){k("Module.instantiateWasm callback failed with error: "+b),i(b)}return function(){return w||typeof WebAssembly.instantiateStreaming!="function"||Ht()||typeof fetch!="function"?p(f):fetch(pe,{credentials:"same-origin"}).then(function(b){return WebAssembly.instantiateStreaming(b,_).then(f,function(x){return k("wasm streaming compile failed: "+x),k("falling back to ArrayBuffer instantiation"),p(f)})})}().catch(i),{}})(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.sa).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.ta).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.ua).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm.va).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.wa).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.xa).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.ya).apply(null,arguments)},n._sqlite3_close=function(){return(n._sqlite3_close=n.asm.za).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.Aa).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.Ba).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.Ca).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.Da).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.Ea).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.Fa).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.Ga).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.Ha).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.Ia).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.Ja).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.Ka).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.La).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.Ma).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.Na).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.Oa).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.Pa).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.Qa).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.Ra).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.Sa).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.Ta).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.Ua).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.Va).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.Wa).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.Xa).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.Ya).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.Za).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm._a).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.$a).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.ab).apply(null,arguments)},n._RegisterExtensionFunctions=function(){return(n._RegisterExtensionFunctions=n.asm.bb).apply(null,arguments)};var Mf=n._free=function(){return(Mf=n._free=n.asm.cb).apply(null,arguments)},zf=n.___errno_location=function(){return(zf=n.___errno_location=n.asm.db).apply(null,arguments)};n._create_function=function(){return(n._create_function=n.asm.eb).apply(null,arguments)},n._update_hook=function(){return(n._update_hook=n.asm.fb).apply(null,arguments)},n._create_module=function(){return(n._create_module=n.asm.gb).apply(null,arguments)},n._register_vfs=function(){return(n._register_vfs=n.asm.hb).apply(null,arguments)},n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.ib).apply(null,arguments)},n._getSqliteFree=function(){return(n._getSqliteFree=n.asm.jb).apply(null,arguments)},n._main=function(){return(n._main=n.asm.kb).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.lb).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.mb).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.nb).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.ob).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.pb).apply(null,arguments)},n._sqlite3_bind_parameter_name=function(){return(n._sqlite3_bind_parameter_name=n.asm.qb).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.rb).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.sb).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.tb).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.ub).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.vb).apply(null,arguments)},n._sqlite3_get_autocommit=function(){return(n._sqlite3_get_autocommit=n.asm.wb).apply(null,arguments)};var Aa=n._malloc=function(){return(Aa=n._malloc=n.asm.xb).apply(null,arguments)},Ff=n._emscripten_builtin_memalign=function(){return(Ff=n._emscripten_builtin_memalign=n.asm.yb).apply(null,arguments)},jf=n.getTempRet0=function(){return(jf=n.getTempRet0=n.asm.Ab).apply(null,arguments)},Uf=n.stackSave=function(){return(Uf=n.stackSave=n.asm.Bb).apply(null,arguments)},Bf=n.stackRestore=function(){return(Bf=n.stackRestore=n.asm.Cb).apply(null,arguments)},Ma=n.stackAlloc=function(){return(Ma=n.stackAlloc=n.asm.Db).apply(null,arguments)},$f=n._asyncify_start_unwind=function(){return($f=n._asyncify_start_unwind=n.asm.Eb).apply(null,arguments)},qf=n._asyncify_stop_unwind=function(){return(qf=n._asyncify_stop_unwind=n.asm.Fb).apply(null,arguments)},Vf=n._asyncify_start_rewind=function(){return(Vf=n._asyncify_start_rewind=n.asm.Gb).apply(null,arguments)},Hf=n._asyncify_stop_rewind=function(){return(Hf=n._asyncify_stop_rewind=n.asm.Hb).apply(null,arguments)};n.UTF8ToString=T,n.stringToUTF8=M,n.lengthBytesUTF8=z,n.getTempRet0=jf,n.ccall=Qt,n.cwrap=function(u,f,p,_){p=p||[];var E=p.every(b=>b==="number"||b==="boolean");return f!=="string"&&E&&!_?n["_"+u]:function(){return Qt(u,f,p,arguments,_)}},n.setValue=_t,n.getValue=Te;var Ao;vt=function u(){Ao||Wf(),Ao||(vt=u)};function Wf(){function u(){if(!Ao&&(Ao=!0,n.calledRun=!0,!h)){if(n.noFSInit||jc||(jc=!0,Fc(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?fi("stdin",n.stdin):Pa("/dev/tty","/dev/stdin"),n.stdout?fi("stdout",null,n.stdout):Pa("/dev/tty","/dev/stdout"),n.stderr?fi("stderr",null,n.stderr):Pa("/dev/tty1","/dev/stderr"),Ro("/dev/stdin",0),Ro("/dev/stdout",1),Ro("/dev/stderr",1)),kc=!1,Eo(U),Eo(K),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Gf){var f=n._main;try{var p=f(0,0);y||(n.onExit&&n.onExit(p),h=!0),l(p,new _c(p))}catch(_){bf(_)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)f=n.postRun.shift(),Y.unshift(f);Eo(Y)}}if(!(0<oe)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ue();Eo(bt),0<oe||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Gf=!0;return n.noInitialRun&&(Gf=!1),Wf(),t.ready}})();const $v=Bv,ae=0,qv=5,Oe=10,Gm=12,Qm=14,Tr=21,fl=25,Vv=27,Gr=100,Hv=101,Wv=3850,Gv=522,Qv=1,Km=2,hc=4,Kv=8,Jv=64,br=0,ir=1,gs=2,Yv=3,ys=4,Xv=512,Zv=1024,e_=2048,t_=16384,op=1,sp=2,ap=3,lp=4,up=5,n_=1,cp=0x7fffffffffffffffn,fp=-0x8000000000000000n;class on extends Error{constructor(t,n){super(t),this.code=n}}const xr=!0;function r_(e){const t={},n=e._getSqliteFree(),r=e._malloc(8),i=[r,r+4];function o(y){if(typeof y!="string")return 0;const C=e.lengthBytesUTF8(y),h=e._sqlite3_malloc(C+1);return e.stringToUTF8(y,h,C+1),h}function s(y,C){return BigInt(C)<<32n|BigInt(y)&0xffffffffn}const l=function(){const y=BigInt(Number.MAX_SAFE_INTEGER)>>32n,C=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(h,g){return g>y||g<C?s(h,g):g*4294967296+(h&2147483647)-(h&2147483648)}}(),a=new Set;function c(y){if(!a.has(y))throw new on("not a database",Tr)}const d=new Map;function m(y){if(!d.has(y))throw new on("not a statement",Tr)}t.bind_collection=function(y,C){m(y);const h=Array.isArray(C),g=t.bind_parameter_count(y);for(let S=1;S<=g;++S){const T=h?S-1:t.bind_parameter_name(y,S),P=C[T];P!==void 0&&t.bind(y,S,P)}return ae},t.bind=function(y,C,h){switch(m(y),typeof h){case"number":return h===(h|0)?t.bind_int(y,C,h):t.bind_double(y,C,h);case"string":return t.bind_text(y,C,h);default:if(h instanceof Uint8Array||Array.isArray(h))return t.bind_blob(y,C,h);if(h===null)return t.bind_null(y,C);if(typeof h=="bigint")return t.bind_int64(y,C,h);if(h===void 0)return Vv;throw new Error("Unknown binding type "+typeof h)}},t.bind_blob=function(){const y="sqlite3_bind_blob",C=e.cwrap(y,...X("nnnnn:n"));return function(h,g,S){m(h);const T=S.byteLength??S.length,P=e._sqlite3_malloc(T);e.HEAPU8.subarray(P).set(S);const M=C(h,g,P,T,n);return w(y,M,d.get(h))}}(),t.bind_parameter_count=function(){const y="sqlite3_bind_parameter_count",C=e.cwrap(y,...X("n:n"));return function(h){return m(h),C(h)}}(),t.bind_double=function(){const y="sqlite3_bind_double",C=e.cwrap(y,...X("nnn:n"));return function(h,g,S){m(h);const T=C(h,g,S);return w(y,T,d.get(h))}}(),t.bind_int=function(){const y="sqlite3_bind_int",C=e.cwrap(y,...X("nnn:n"));return function(h,g,S){if(m(h),S>2147483647||S<-2147483648)return fl;const T=C(h,g,S);return w(y,T,d.get(h))}}(),t.bind_int64=function(){const y="sqlite3_bind_int64",C=e.cwrap(y,...X("nnnn:n"));return function(h,g,S){if(m(h),S>cp||S<fp)return fl;const T=S&0xffffffffn,P=S>>32n,M=C(h,g,Number(T),Number(P));return w(y,M,d.get(h))}}(),t.bind_null=function(){const y="sqlite3_bind_null",C=e.cwrap(y,...X("nn:n"));return function(h,g){m(h);const S=C(h,g);return w(y,S,d.get(h))}}(),t.bind_parameter_name=function(){const y="sqlite3_bind_parameter_name",C=e.cwrap(y,...X("n:s"));return function(h,g){return m(h),C(h,g)}}(),t.bind_text=function(){const y="sqlite3_bind_text",C=e.cwrap(y,...X("nnnnn:n"));return function(h,g,S){m(h);const T=o(S),P=C(h,g,T,-1,n);return w(y,P,d.get(h))}}(),t.changes=function(){const y="sqlite3_changes",C=e.cwrap(y,...X("n:n"));return function(h){return c(h),C(h)}}(),t.close=function(){const y="sqlite3_close",C=e.cwrap(y,...X("n:n"),{async:xr});return async function(h){c(h);const g=await C(h);return a.delete(h),w(y,g,h)}}(),t.column=function(y,C){m(y);const h=t.column_type(y,C);switch(h){case lp:return t.column_blob(y,C);case sp:return t.column_double(y,C);case op:const g=t.column_int(y,C),S=e.getTempRet0();return l(g,S);case up:return null;case ap:return t.column_text(y,C);default:throw new on("unknown type",h)}},t.column_blob=function(){const y="sqlite3_column_blob",C=e.cwrap(y,...X("nn:n"));return function(h,g){m(h);const S=t.column_bytes(h,g),T=C(h,g),P=e.HEAPU8.subarray(T,T+S),M=new ArrayBuffer(P.byteLength),z=new Uint8Array(M);return z.set(P),z}}(),t.column_bytes=function(){const y="sqlite3_column_bytes",C=e.cwrap(y,...X("nn:n"));return function(h,g){return m(h),C(h,g)}}(),t.column_count=function(){const y="sqlite3_column_count",C=e.cwrap(y,...X("n:n"));return function(h){return m(h),C(h)}}(),t.column_double=function(){const y="sqlite3_column_double",C=e.cwrap(y,...X("nn:n"));return function(h,g){return m(h),C(h,g)}}(),t.column_int=function(){const y="sqlite3_column_int64",C=e.cwrap(y,...X("nn:n"));return function(h,g){return m(h),C(h,g)}}(),t.column_int64=function(){const y="sqlite3_column_int64",C=e.cwrap(y,...X("nn:n"));return function(h,g){m(h);const S=C(h,g),T=e.getTempRet0();return s(S,T)}}(),t.column_name=function(){const y="sqlite3_column_name",C=e.cwrap(y,...X("nn:s"));return function(h,g){return m(h),C(h,g)}}(),t.column_names=function(y){const C=[],h=t.column_count(y);for(let g=0;g<h;++g)C.push(t.column_name(y,g));return C},t.column_text=function(){const y="sqlite3_column_text",C=e.cwrap(y,...X("nn:s"));return function(h,g){return m(h),C(h,g)}}(),t.column_type=function(){const y="sqlite3_column_type",C=e.cwrap(y,...X("nn:n"));return function(h,g){return m(h),C(h,g)}}(),t.update_hook=function(y,C){return c(y),e.updateHook(y,C),ae},t.create_function=function(y,C,h,g,S,T,P,M){if(c(y),T&&!P&&!M){const z=e.createFunction(y,C,h,g,S,T);return w("sqlite3_create_function",z,y)}if(!T&&P&&M){const z=e.createAggregate(y,C,h,g,S,P,M);return w("sqlite3_create_function",z,y)}throw new on("invalid function combination",Tr)},t.create_module=function(y,C,h,g){c(y);const S=e.createModule(y,C,h,g);return w("sqlite3_create_module",S,y)},t.data_count=function(){const y="sqlite3_data_count",C=e.cwrap(y,...X("n:n"));return function(h){return m(h),C(h)}}(),t.exec=async function(y,C,h){for await(const g of t.statements(y,C)){let S;for(;await t.step(g)===Gr;)if(h){S=S??t.column_names(g);const T=t.row(g);await h(T,S)}}return ae},t.finalize=function(){const y="sqlite3_finalize",C=e.cwrap(y,...X("n:n"),{async:xr});return async function(h){m(h);const g=await C(h),S=d.get(h);return d.delete(h),w(y,g,S)}}(),t.get_autocommit=function(){const y="sqlite3_get_autocommit",C=e.cwrap(y,...X("n:n"));return function(h){return C(h)}}(),t.libversion=function(){const y="sqlite3_libversion",C=e.cwrap(y,...X(":s"));return function(){return C()}}(),t.libversion_number=function(){const y="sqlite3_libversion_number",C=e.cwrap(y,...X(":n"));return function(){return C()}}(),t.open_v2=function(){const y="sqlite3_open_v2",C=e.cwrap(y,...X("snnn:n"),{async:xr});return async function(h,g,S){g=g||hc|Km,S=o(S);const T=await C(h,i[0],g,S),P=e.getValue(i[0],"i32");return a.add(P),e._sqlite3_free(S),w(y,T),P}}(),t.prepare_v2=function(){const y="sqlite3_prepare_v2",C=e.cwrap(y,...X("nnnnn:n"),{async:xr});return async function(h,g){const S=await C(h,g,-1,i[0],i[1]);w(y,S,h);const T=e.getValue(i[0],"i32");return T?(d.set(T,h),{stmt:T,sql:e.getValue(i[1],"i32")}):null}}(),t.reset=function(){const y="sqlite3_reset",C=e.cwrap(y,...X("n:n"),{async:xr});return async function(h){m(h);const g=await C(h);return w(y,g,d.get(h))}}(),t.result=function(y,C){switch(typeof C){case"number":C===(C|0)?t.result_int(y,C):t.result_double(y,C);break;case"string":t.result_text(y,C);break;default:if(C instanceof Uint8Array||Array.isArray(C))t.result_blob(y,C);else if(C===null)t.result_null(y);else{if(typeof C=="bigint")return t.result_int64(y,C);console.warn("unknown result converted to null",C),t.result_null(y)}break}},t.result_blob=function(){const y="sqlite3_result_blob",C=e.cwrap(y,...X("nnnn:n"));return function(h,g){const S=g.byteLength??g.length,T=e._sqlite3_malloc(S);e.HEAPU8.subarray(T).set(g),C(h,T,S,n)}}(),t.result_double=function(){const y="sqlite3_result_double",C=e.cwrap(y,...X("nn:n"));return function(h,g){C(h,g)}}(),t.result_int=function(){const y="sqlite3_result_int",C=e.cwrap(y,...X("nn:n"));return function(h,g){C(h,g)}}(),t.result_int64=function(){const y="sqlite3_result_int64",C=e.cwrap(y,...X("nnn:n"));return function(h,g){if(g>cp||g<fp)return fl;const S=g&0xffffffffn,T=g>>32n;C(h,Number(S),Number(T))}}(),t.result_null=function(){const y="sqlite3_result_null",C=e.cwrap(y,...X("n:n"));return function(h){C(h)}}(),t.result_text=function(){const y="sqlite3_result_text",C=e.cwrap(y,...X("nnnn:n"));return function(h,g){const S=o(g);C(h,S,-1,n)}}(),t.row=function(y){const C=[],h=t.data_count(y);for(let g=0;g<h;++g){const S=t.column(y,g);C.push((S==null?void 0:S.buffer)===e.HEAP8.buffer?S.slice():S)}return C},t.sql=function(){const y="sqlite3_sql",C=e.cwrap(y,...X("n:s"));return function(h){return m(h),C(h)}}(),t.statements=function(y,C){return async function*(){const h=t.str_new(y,C);let g={stmt:null,sql:t.str_value(h)};try{for(;g=await t.prepare_v2(y,g.sql);)yield g.stmt,t.finalize(g.stmt),g.stmt=null}finally{g!=null&&g.stmt&&t.finalize(g.stmt),t.str_finish(h)}}()},t.step=function(){const y="sqlite3_step",C=e.cwrap(y,...X("n:n"),{async:xr});return async function(h){m(h);const g=await C(h);return w(y,g,d.get(h),[Gr,Hv])}}();let v=0;const k=new Map;t.str_new=function(y,C=""){const h=e.lengthBytesUTF8(C),g=v++&4294967295,S={offset:e._sqlite3_malloc(h+1),bytes:h};return k.set(g,S),e.stringToUTF8(C,S.offset,S.bytes+1),g},t.str_appendall=function(y,C){if(!k.has(y))throw new on("not a string",Tr);const h=k.get(y),g=e.lengthBytesUTF8(C),S=h.bytes+g,T=e._sqlite3_malloc(S+1);e.HEAP8.subarray(T,T+S+1).set(e.HEAP8.subarray(h.offset,h.offset+h.bytes)),e.stringToUTF8(C,T+h.bytes,g+1),e._sqlite3_free(h.offset),h.offset=T,h.bytes=S,k.set(y,h)},t.str_finish=function(y){if(!k.has(y))throw new on("not a string",Tr);const C=k.get(y);k.delete(y),e._sqlite3_free(C.offset)},t.str_value=function(y){if(!k.has(y))throw new on("not a string",Tr);return k.get(y).offset},t.user_data=function(y){return e.getFunctionUserData(y)},t.value=function(y){const C=t.value_type(y);switch(C){case lp:return t.value_blob(y);case sp:return t.value_double(y);case op:const h=t.value_int(y),g=e.getTempRet0();return l(h,g);case up:return null;case ap:return t.value_text(y);default:throw new on("unknown type",C)}},t.value_blob=function(){const y="sqlite3_value_blob",C=e.cwrap(y,...X("n:n"));return function(h){const g=t.value_bytes(h),S=C(h);return e.HEAPU8.subarray(S,S+g)}}(),t.value_bytes=function(){const y="sqlite3_value_bytes",C=e.cwrap(y,...X("n:n"));return function(h){return C(h)}}(),t.value_double=function(){const y="sqlite3_value_double",C=e.cwrap(y,...X("n:n"));return function(h){return C(h)}}(),t.value_int=function(){const y="sqlite3_value_int64",C=e.cwrap(y,...X("n:n"));return function(h){return C(h)}}(),t.value_int64=function(){const y="sqlite3_value_int64",C=e.cwrap(y,...X("n:n"));return function(h){const g=C(h),S=e.getTempRet0();return s(g,S)}}(),t.value_text=function(){const y="sqlite3_value_text",C=e.cwrap(y,...X("n:s"));return function(h){return C(h)}}(),t.value_type=function(){const y="sqlite3_value_type",C=e.cwrap(y,...X("n:n"));return function(h){return C(h)}}(),t.vfs_register=function(y,C){const h=e.registerVFS(y,C);return w("sqlite3_vfs_register",h)};function w(y,C,h=null,g=[ae]){if(g.includes(C))return C;const S=h?e.ccall("sqlite3_errmsg","string",["number"],[h]):y;throw new on(S,C)}return t}function X(e){const t=[],n=e.match(/([ns@]*):([ns@])/);switch(n[2]){case"n":t.push("number");break;case"s":t.push("string");break}const r=[];for(let i of n[1])switch(i){case"n":r.push("number");break;case"s":r.push("string");break}return t.push(r),t}class i_{constructor(){q(this,"mxPathName",64)}xClose(t){return Oe}xRead(t,n,r){return Oe}xWrite(t,n,r){return Oe}xTruncate(t,n){return Oe}xSync(t,n){return ae}xFileSize(t,n){return Oe}xLock(t,n){return ae}xUnlock(t,n){return ae}xCheckReservedLock(t,n){return n.set(0),ae}xFileControl(t,n,r){return Gm}xSectorSize(t){return 512}xDeviceCharacteristics(t){return 0}xOpen(t,n,r,i){return Qm}xDelete(t,n){return Oe}xAccess(t,n,r){return Oe}handleAsync(t){return t()}}const o_=br|ir|gs|Yv|ys;var Ue,Kr,ao,lo,uu,Zs,Jm,ea,Ym;class s_{constructor(){ee(this,lo);ee(this,Zs);ee(this,ea);ee(this,Ue,br);q(this,"timeoutMillis",0);ee(this,Kr,new Map);ee(this,ao,Promise.resolve(0))}get state(){return O(this,Ue)}async lock(t){return Ce(this,lo,uu).call(this,Ce(this,Zs,Jm),t)}async unlock(t){return Ce(this,lo,uu).call(this,Ce(this,ea,Ym),t)}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(t,n){return new Promise(async(r,i)=>{try{await navigator.locks.request(t,n,o=>{if(r(o),o)return new Promise(s=>O(this,Kr).set(t,s))})}catch(o){i(o)}})}_releaseWebLock(t){var n;(n=O(this,Kr).get(t))==null||n(),O(this,Kr).delete(t)}_getTimeoutSignal(){if(this.timeoutMillis){const t=new AbortController;return setTimeout(()=>t.abort(),this.timeoutMillis),t.signal}}}Ue=new WeakMap,Kr=new WeakMap,ao=new WeakMap,lo=new WeakSet,uu=async function(t,n){const r=n&o_;try{const i=()=>t.call(this,r);return await ye(this,ao,O(this,ao).then(i,i)),ye(this,Ue,r),ae}catch(i){return i.name==="AbortError"?qv:(console.error(i),Wv)}},Zs=new WeakSet,Jm=async function(t){if(t===O(this,Ue))return ae;switch(O(this,Ue)){case br:switch(t){case ir:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}case ir:switch(t){case gs:return this._SHAREDtoRESERVED();case ys:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}case gs:switch(t){case ys:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}},ea=new WeakSet,Ym=async function(t){if(t===O(this,Ue))return ae;switch(O(this,Ue)){case ys:switch(t){case ir:return this._EXCLUSIVEtoSHARED();case br:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}case gs:switch(t){case ir:return this._RESERVEDtoSHARED();case br:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}case ir:switch(t){case br:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}default:throw new Error(`unexpected transition ${O(this,Ue)} -> ${t}`)}};class a_ extends s_{constructor(t){super(),this._lockName=t+"-outer"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}const l_=new Set(["TransactionInactiveError","InvalidStateError"]);let u_=0;const dp=new WeakMap;function an(...e){}var Jr,uo,ft,co,ur,fo,ta,Xm,na,Zm;class c_{constructor(t,n={durability:"default"}){ee(this,ta);ee(this,na);ee(this,Jr,void 0);ee(this,uo,void 0);ee(this,ft,null);ee(this,co,null);ee(this,ur,null);ee(this,fo,Promise.resolve());ye(this,Jr,Promise.resolve(t)),ye(this,uo,n)}async close(){(await O(this,Jr)).close()}async run(t,n){return ye(this,fo,O(this,fo).then(()=>Ce(this,ta,Xm).call(this,t,n)))}async sync(){return await new Promise(t=>this.run("readwrite",t)),O(this,co)}}Jr=new WeakMap,uo=new WeakMap,ft=new WeakMap,co=new WeakMap,ur=new WeakMap,fo=new WeakMap,ta=new WeakSet,Xm=async function(t,n){var o,s;const r=await O(this,Jr),i=Array.from(r.objectStoreNames);t!=="readonly"&&((o=O(this,ft))==null?void 0:o.mode)==="readonly"?ye(this,ft,null):((s=O(this,ur))==null?void 0:s.readyState)==="pending"&&await new Promise(l=>{O(this,ur).addEventListener("success",l),O(this,ur).addEventListener("error",l)});for(let l=0;l<2;++l){O(this,ft)||(ye(this,ft,r.transaction(i,t,O(this,uo))),ye(this,co,new Promise(a=>{O(this,ft).addEventListener("complete",c=>{O(this,ft)===c.target&&ye(this,ft,null),a(),an(`transaction ${dp.get(c.target)} complete`)})})),dp.set(O(this,ft),u_++));try{const a=Object.fromEntries(i.map(c=>{const d=O(this,ft).objectStore(c),m=new f_(d,v=>Ce(this,na,Zm).call(this,v));return[c,m]}));return await n(a)}catch(a){if(l||!l_.has(a.name)){try{O(this,ft).abort()}catch{}throw a}ye(this,ft,null)}}},na=new WeakSet,Zm=function(t){return ye(this,ur,t),new Promise((n,r)=>{t.onsuccess=()=>n(t.result),t.onerror=()=>r(t.error)})};class f_{constructor(t,n){this.store=t,this.addRequest=n}get(t){an(`get ${this.store.name}`,t);const n=this.store.get(t);return this.addRequest(n)}getAll(t,n){an(`getAll ${this.store.name}`,t,n);const r=this.store.getAll(t,n);return this.addRequest(r)}getKey(t){an(`getKey ${this.store.name}`,t);const n=this.store.getKey(t);return this.addRequest(n)}getAllKeys(t,n){an(`getAllKeys ${this.store.name}`,t,n);const r=this.store.getAllKeys(t,n);return this.addRequest(r)}put(t,n){an(`put ${this.store.name}`,t,n);const r=this.store.put(t,n);return this.addRequest(r)}delete(t){an(`delete ${this.store.name}`,t);const n=this.store.delete(t);return this.addRequest(n)}clear(){an(`clear ${this.store.name}`);const t=this.store.clear();return this.addRequest(t)}index(t){return new d_(this.store.index(t),n=>this.addRequest(n))}}class d_{constructor(t,n){this.index=t,this.addRequest=n}getAllKeys(t,n){an(`IDBIndex.getAllKeys ${this.index.objectStore.name}<${this.index.name}>`,t,n);const r=this.index.getAllKeys(t,n);return this.addRequest(r)}}const p_=512,pp={durability:"default",purge:"deferred",purgeAtLeast:16};function Rt(...e){}var On,nt,ve,cr,ra,eg,Ln,Rr,ia,tg;class h_ extends i_{constructor(n="wa-sqlite",r=pp){super();ee(this,ra);ee(this,Ln);ee(this,ia);ee(this,On,void 0);ee(this,nt,new Map);ee(this,ve,void 0);ee(this,cr,new Set);this.name=n,ye(this,On,Object.assign({},pp,r)),ye(this,ve,new c_(m_(n),{durability:O(this,On).durability}))}async close(){var n;for(const r of O(this,nt).keys())await this.xClose(r);(n=O(this,ve))==null||n.close(),ye(this,ve,null)}xOpen(n,r,i,o){return this.handleAsync(async()=>{n===null&&(n=`null_${r}`),Rt(`xOpen ${n} 0x${r.toString(16)} 0x${i.toString(16)}`);try{const s=new URL(n,"http://localhost/"),l={path:s.pathname,flags:i,block0:null,locks:new a_(s.pathname)};if(O(this,nt).set(r,l),l.block0=await O(this,ve).run("readonly",({blocks:a})=>a.get(Ce(this,Ln,Rr).call(this,l,0))),!l.block0)if(i&hc)l.block0={path:l.path,offset:0,version:0,data:new Int8Array(0),fileSize:0},O(this,ve).run("readwrite",({blocks:a})=>a.put(l.block0)),await O(this,ve).sync();else throw new Error(`file not found: ${l.path}`);return o.set(i&Qv),ae}catch(s){return console.error(s),Qm}})}xClose(n){return this.handleAsync(async()=>{try{const r=O(this,nt).get(n);return r&&(Rt(`xClose ${r.path}`),O(this,nt).delete(n),r.flags&Kv&&O(this,ve).run("readwrite",({blocks:i})=>{i.delete(IDBKeyRange.bound([r.path],[r.path,[]]))})),ae}catch(r){return console.error(r),Oe}})}xRead(n,r,i){return this.handleAsync(async()=>{const o=O(this,nt).get(n);Rt(`xRead ${o.path} ${r.value.length} ${i}`);try{return await O(this,ve).run("readonly",async({blocks:l})=>{let a=0;for(;a<r.value.length;){const c=i+a,d=c<o.block0.data.length?o.block0:await l.get(Ce(this,Ln,Rr).call(this,o,-c));if(!d||d.data.length-d.offset<=c)return r.value.fill(0,a),Gv;const m=r.value.subarray(a),v=c+d.offset,k=Math.min(Math.max(d.data.length-v,0),m.length);m.set(d.data.subarray(v,v+k)),a+=k}return ae})}catch(s){return console.error(s),Oe}})}xWrite(n,r,i){const o=O(this,nt).get(n);Rt(`xWrite ${o.path} ${r.value.length} ${i}`);try{const s=o.block0.fileSize;o.block0.fileSize=Math.max(o.block0.fileSize,i+r.value.length);const l=i===0?o.block0:{path:o.path,offset:-i,version:o.block0.version,data:null};return l.data=r.value.slice(),o.changedPages?(s===o.block0.fileSize&&o.changedPages.add(-i),i!==0&&O(this,ve).run("readwrite",({blocks:a})=>a.put(l))):O(this,ve).run("readwrite",({blocks:a})=>a.put(l)),ae}catch(s){return console.error(s),Oe}}xTruncate(n,r){const i=O(this,nt).get(n);Rt(`xTruncate ${i.path} ${r}`);try{Object.assign(i.block0,{fileSize:r,data:i.block0.data.slice(0,r)});const o=Object.assign({},i.block0);return O(this,ve).run("readwrite",({blocks:s})=>{s.delete(Ce(this,Ln,Rr).call(this,i,-1/0,-r)),s.put(o)}),ae}catch(o){return console.error(o),Oe}}xSync(n,r){const i=O(this,nt).get(n);Rt(`xSync ${i.path} ${r}`);try{return O(this,On).durability!=="relaxed"?this.handleAsync(async()=>(await O(this,ve).sync(),ae)):ae}catch(o){return console.error(o),Oe}}xFileSize(n,r){const i=O(this,nt).get(n);return Rt(`xFileSize ${i.path}`),r.set(i.block0.fileSize),ae}xLock(n,r){return this.handleAsync(async()=>{const i=O(this,nt).get(n);Rt(`xLock ${i.path} ${r}`);try{const o=await i.locks.lock(r);return o===ae&&i.locks.state===ir&&(i.block0=await O(this,ve).run("readonly",({blocks:s})=>s.get(Ce(this,Ln,Rr).call(this,i,0)))),o}catch(o){return console.error(o),Oe}})}xUnlock(n,r){return this.handleAsync(async()=>{const i=O(this,nt).get(n);Rt(`xUnlock ${i.path} ${r}`);try{return i.locks.unlock(r)}catch(o){return console.error(o),Oe}})}xSectorSize(n){return p_}xDeviceCharacteristics(n){return t_|Xv|Zv|e_}xFileControl(n,r,i){const o=O(this,nt).get(n);switch(Rt(`xFileControl ${o.path} ${r}`),r){case 11:return o.overwrite=!0,ae;case 21:if(o.overwrite)try{return this.handleAsync(async()=>(await Ce(this,ia,tg).call(this,o),ae))}catch(s){return console.error(s),Oe}return ae;case 22:return o.overwrite=!1,ae;case 31:return this.handleAsync(async()=>{try{return o.block0.version--,o.changedPages=new Set,O(this,ve).run("readwrite",async({blocks:s})=>{const l=await s.index("version").getAllKeys(IDBKeyRange.bound([o.path],[o.path,o.block0.version]));for(const a of l)s.delete(a)}),ae}catch(s){return console.error(s),Oe}});case 32:try{const s=Object.assign({},o.block0);s.data=s.data.slice();const l=o.changedPages;return o.changedPages=null,O(this,ve).run("readwrite",async({blocks:a})=>{a.put(s);const c=await a.get([o.path,"purge",0])??{path:o.path,offset:"purge",version:0,data:new Map,count:0};c.count+=l.size;for(const d of l)c.data.set(d,s.version);a.put(c),Ce(this,ra,eg).call(this,o.path,c.count)}),ae}catch(s){return console.error(s),Oe}case 33:return this.handleAsync(async()=>{try{return o.changedPages=null,o.block0=await O(this,ve).run("readonly",({blocks:s})=>s.get([o.path,0,o.block0.version+1])),ae}catch(s){return console.error(s),Oe}});default:return Gm}}xAccess(n,r,i){return this.handleAsync(async()=>{try{const o=new URL(n,"file://localhost/").pathname;Rt(`xAccess ${o} ${r}`);const s=await O(this,ve).run("readonly",({blocks:l})=>l.getKey(Ce(this,Ln,Rr).call(this,{path:o},0)));return i.set(s?1:0),ae}catch(o){return console.error(o),Oe}})}xDelete(n,r){return this.handleAsync(async()=>{const i=new URL(n,"file://localhost/").pathname;try{return O(this,ve).run("readwrite",({blocks:o})=>o.delete(IDBKeyRange.bound([i],[i,[]]))),r&&await O(this,ve).sync(),ae}catch(o){return console.error(o),Oe}})}async purge(n){const r=Date.now();await O(this,ve).run("readwrite",async({blocks:i})=>{const o=await i.get([n,"purge",0]);if(o){for(const[s,l]of o.data)i.delete(IDBKeyRange.bound([n,s,l],[n,s,1/0],!0,!1));await i.delete([n,"purge",0])}Rt(`purge ${n} ${(o==null?void 0:o.data.size)??0} pages in ${Date.now()-r} ms`)})}}On=new WeakMap,nt=new WeakMap,ve=new WeakMap,cr=new WeakMap,ra=new WeakSet,eg=function(n,r){O(this,On).purge==="manual"||O(this,cr).has(n)||r<O(this,On).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(n),O(this,cr).delete(n)}):setTimeout(()=>{this.purge(n),O(this,cr).delete(n)}),O(this,cr).add(n))},Ln=new WeakSet,Rr=function(n,r,i=0){const o=!r||-r<n.block0.data.length?-1/0:n.block0.version;return IDBKeyRange.bound([n.path,r,o],[n.path,i,1/0])},ia=new WeakSet,tg=async function(n){const r=n.block0.data.length;if(r<18)return;const i=new DataView(n.block0.data.buffer,n.block0.data.byteOffset);let o=i.getUint16(16);if(o===1&&(o=65536),o===r)return;const s=Math.max(r,o),l=s/r,a=s/o,d=i.getUint32(28)*o,m=n.block0.version;await O(this,ve).run("readwrite",async({blocks:v})=>{const k=await v.index("version").getAllKeys(IDBKeyRange.bound([n.path,m+1],[n.path,1/0]));for(const w of k)v.delete(w);v.delete([n.path,"purge",0]);for(let w=0;w<d;w+=s){const y=await v.getAll(IDBKeyRange.lowerBound([n.path,-(w+s),1/0]),l);for(const C of y)v.delete([C.path,C.offset,C.version]);if(a===1){const C=new Int8Array(o);for(const g of y)C.set(g.data,-(w+g.offset));const h={path:n.path,offset:-w,version:m,data:C};h.offset===0&&(h.fileSize=d,n.block0=h),v.put(h)}else{const C=y[0];for(let h=0;h<a;++h){const g=-(w+h*o);if(-g>=d)break;const S={path:C.path,offset:g,version:m,data:C.data.subarray(h*o,(h+1)*o)};S.offset===0&&(S.fileSize=d,n.block0=S),v.put(S)}}}})};function m_(e){return new Promise((t,n)=>{const r=globalThis.indexedDB.open(e,5);r.addEventListener("upgradeneeded",function(){r.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),r.addEventListener("success",()=>{t(r.result)}),r.addEventListener("error",()=>{n(r.error)})})}var Yr,Xr;class ng{constructor(){ee(this,Yr,0);ee(this,Xr,Promise.resolve())}add(t){const n=new Error("Invoked from");let r=O(this,Yr);const i=O(this,Xr).then(t).catch(o=>{throw r===O(this,Yr)&&(++Qf(this,Yr)._,ye(this,Xr,Promise.resolve())),new AggregateError([o,n],o.message)});return ye(this,Xr,i),i}}Yr=new WeakMap,Xr=new WeakMap;let Zo=null;const g_=globalThis.__vlcn_wa_crsqlite_dbg;function vs(...e){g_&&console.log("wa-crsqlite: ",...e)}const y_=new ng;function Ct(e,t,n){if(t===null)vs("Cache clear"),e==null||e.clear();else if(t!==void 0){const i=e==null?void 0:e.get(t);if(i)return vs("Cache hit",t),i}vs("Enqueueing query ",t);const r=y_.add(n);return t&&(e==null||e.set(t,r),r.finally(()=>e==null?void 0:e.delete(t))),r}const v_=new ng;function __(e){return v_.add(e)}class S_{constructor(t){q(this,"base");this.base=t}open(t,n="c"){return Ct(null,void 0,()=>this.base.open_v2(t||":memory:",hc|Km|Jv,t!=null?"idb-batch-atomic":void 0)).then(r=>{const i=new E_(this.base,r);return i.execA("select quote(crsql_siteid());").then(o=>(i._setSiteid(o[0][0].replace(/'|X/g,"")),i))})}}const C_=/insert\s|update\s|delete\s/;function Qr(e,t,n){const r=e.toLowerCase();return C_.exec(r)!=null?(vs("received write"),null):n!=null?r+"|"+t+"|"+n.map(o=>o!=null?o.toString():"null").join("|"):r}var Zr,cn,po,fn,rr,oa;class E_{constructor(t,n){ee(this,fn);q(this,"api");q(this,"db");q(this,"stmtFinalizer",new Map);ee(this,Zr,null);q(this,"cache",new Map);ee(this,cn,null);ee(this,po,!1);ee(this,oa,(t,n,r,i)=>{O(this,cn)!=null&&O(this,cn).forEach(o=>{try{o(t,n,r,i)}catch(s){console.error("Failed notifying a DB update listener"),console.error(s)}})});this.api=t,this.db=n}get siteid(){return O(this,Zr)}_setSiteid(t){if(O(this,Zr))throw new Error("Site id already set");ye(this,Zr,t)}execMany(t){return Ct(this.cache,null,()=>this.api.exec(this.db,t.join("")))}exec(t,n){return Ce(this,fn,rr).call(this),Ct(this.cache,Qr(t,"a",n),()=>this.statements(t,!1,n))}onUpdate(t){return O(this,cn)==null&&(this.api.update_hook(this.db,O(this,oa)),ye(this,cn,new Set)),O(this,cn).add(t),()=>{var n;return(n=O(this,cn))==null?void 0:n.delete(t)}}execO(t,n){return Ce(this,fn,rr).call(this),Ct(this.cache,Qr(t,"o",n),()=>this.statements(t,!0,n))}execA(t,n){return Ce(this,fn,rr).call(this),Ct(this.cache,Qr(t,"a",n),()=>this.statements(t,!1,n))}prepare(t){return Ce(this,fn,rr).call(this),Ct(this.cache,void 0,async()=>{const n=this.api.str_new(this.db,t),r=await this.api.prepare_v2(this.db,this.api.str_value(n));if(r==null)throw this.api.str_finish(n),new Error(`Could not prepare ${t}`);return new w_(this.stmtFinalizer,this.cache,this.api,r.stmt,n,t)})}async close(){for(const t of this.stmtFinalizer.values()){const n=t.deref();n&&await n.finalize()}return this.exec("SELECT crsql_finalize()").then(()=>(ye(this,po,!0),Ct(this.cache,void 0,()=>this.api.close(this.db))))}createFunction(t,n,r){Ce(this,fn,rr).call(this),this.api.create_function(this.db,t,n.length,n_,0,(i,o)=>{const s=[];for(let a=0;a<n.length;++a)s.push(this.api.value(o[a]));const l=n(...s);l!==void 0&&this.api.result(i,l)})}async savepoint(t){throw new Error("do not use me yet")}transaction(t){return Ce(this,fn,rr).call(this),__(async()=>{await this.exec("BEGIN");try{await t()}catch{await this.exec("ROLLBACK");return}await this.exec("COMMIT")})}async statements(t,n,r){const i=[];for await(const l of this.api.statements(this.db,t)){const a=[],c=this.api.column_names(l);for(r&&this.bind(l,r);await this.api.step(l)===Gr;){const d=this.api.row(l);a.push(d)}c.length&&i.push({columns:c,rows:a})}const o=i[0];if(o==null)return null;if(!n)return o.rows;const s=[];for(const l of o.rows){const a={};for(let c=0;c<o.columns.length;++c)a[o.columns[c]]=l[c];s.push(a)}return s}bind(t,n){for(let r=0;r<n.length;++r){const i=n[r];this.api.bind(t,r+1,typeof i=="boolean"?i&&1||0:i)}}}Zr=new WeakMap,cn=new WeakMap,po=new WeakMap,fn=new WeakSet,rr=function(){if(O(this,po))throw new Error("The DB is closed")},oa=new WeakMap;class w_{constructor(t,n,r,i,o,s){q(this,"cache");q(this,"api");q(this,"base");q(this,"str");q(this,"sql");q(this,"mode","o");q(this,"finalized",!1);q(this,"bindings",[]);this.cache=n,this.api=r,this.base=i,this.str=o,this.sql=s,t.set(i,new WeakRef(this))}run(...t){return Ct(this.cache,Qr(this.sql,this.mode,t.length>0?t:this.bindings),()=>(t.length>0&&this.bind(t),this.api.step(this.base).then(()=>this.api.reset(this.base))))}get(...t){return Ct(this.cache,Qr(this.sql,this.mode,t.length>0?t:this.bindings),async()=>{t.length>0&&this.bind(t);let n=null,r=this.mode==="o"?this.api.column_names(this.base):null;if(await this.api.step(this.base)==Gr){const i=this.api.row(this.base);if(r!=null){const o={};for(let s=0;s<r.length;++s)o[r[s]]=i[s];n=o}else n=i}return await this.api.reset(this.base),n})}all(...t){return Ct(this.cache,Qr(this.sql,this.mode,t.length>0?t:this.bindings),async()=>{t.length>0&&this.bind(t);const n=[];let r=this.mode==="o"?this.api.column_names(this.base):null;for(;await this.api.step(this.base)==Gr;)if(r!=null){const i={};for(let o=0;o<r.length;++o)i[r[o]]=this.api.column(this.base,o);n.push(i)}else{n.push(this.api.row(this.base));continue}return await this.api.reset(this.base),n})}async*iterate(...t){for(this.bind(t);await Ct(this.cache,void 0,()=>this.api.step(this.base))==Gr;)yield this.api.row(this.base);await Ct(this.cache,void 0,()=>this.api.reset(this.base))}raw(t){return t?this.mode="a":this.mode="o",this}bind(t){this.bindings=t;for(let n=0;n<t.length;++n)this.api.bind(this.base,n+1,t[n]);return this}finalize(){return Ct(this.cache,void 0,()=>{if(!this.finalized)return this.finalized=!0,this.api.str_finish(this.str),this.api.finalize(this.base)})}}async function k_(e){if(Zo!=null)return Zo;const t=await $v({locateFile(r){return e?e(r):new URL(r,import.meta.url).href}}),n=r_(t);return n.vfs_register(new h_("idb-batch-atomic",{durability:"relaxed"})),Zo=new S_(n),Zo}var Nn,An,fr,dn,dr,ho,cu,sa,rg;class T_{constructor(t){ee(this,ho);ee(this,sa);q(this,"db");ee(this,Nn,new Map);ee(this,An,new Map);ee(this,fr,new Set);ee(this,dn,null);ee(this,dr,void 0);this.db=t,ye(this,dr,new BroadcastChannel(t.siteid)),O(this,dr).onmessage=n=>{Ce(this,ho,cu).call(this,n.data)},this.db.onUpdate((n,r,i,o)=>{i.indexOf("__crsql")===-1&&Ce(this,sa,rg).call(this,n,i,o)})}onRange(t,n){for(const r of t){let i=O(this,An).get(r);i==null&&(i=[],O(this,An).set(r,i)),i.push(n)}return()=>{for(const r of t){const i=O(this,An).get(r);if(i!=null){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}}onPoint(t,n,r){let i=O(this,Nn).get(t);i==null&&(i=new Map,O(this,Nn).set(t,i));let o=i.get(n);return o==null&&(o=[],i.set(n,o)),o.push(r),()=>{const s=O(this,Nn).get(t);if(s!=null){const l=s.get(n);if(l!=null){const a=l.indexOf(r);a!==-1&&l.splice(a,1),l.length===0&&s.delete(n)}}}}onAny(t){return O(this,fr).add(t),()=>{O(this,fr).delete(t)}}dispose(){O(this,An).clear(),O(this,Nn).clear(),O(this,fr).clear(),O(this,dr).close(),this.db.close()}}Nn=new WeakMap,An=new WeakMap,fr=new WeakMap,dn=new WeakMap,dr=new WeakMap,ho=new WeakSet,cu=function(t){const n=new Map;for(const[r,i,o]of t){const s=O(this,An).get(i);if(s!=null)for(const a of s){let c=n.get(a);c==null&&(c=[],n.set(a,c)),c.indexOf(r)===-1&&c.push(r)}const l=O(this,Nn).get(i);if(l!=null){const a=l.get(o);if(a!=null)for(const c of a){let d=n.get(c);d==null&&(d=[],n.set(c,d)),d.indexOf(r)===-1&&d.push(r)}}}for(const r of O(this,fr))n.set(r,[]);for(const[r,i]of n)r(i)},sa=new WeakSet,rg=function(t,n,r){if(O(this,dn)!=null){O(this,dn).push([t,n,r]);return}ye(this,dn,[]),O(this,dn).push([t,n,r]),queueMicrotask(()=>{const i=O(this,dn);ye(this,dn,null),Ce(this,ho,cu).call(this,i),O(this,dr).postMessage(i)})};function x_(e){return new T_(e)}const b_="/assets/wa-sqlite-async-de4a6e2a.wasm",R_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ig(e){return typeof e=="string"&&R_.test(e)}const je=[];for(let e=0;e<256;++e)je.push((e+256).toString(16).slice(1));function P_(e,t=0){return(je[e[t+0]]+je[e[t+1]]+je[e[t+2]]+je[e[t+3]]+"-"+je[e[t+4]]+je[e[t+5]]+"-"+je[e[t+6]]+je[e[t+7]]+"-"+je[e[t+8]]+je[e[t+9]]+"-"+je[e[t+10]]+je[e[t+11]]+je[e[t+12]]+je[e[t+13]]+je[e[t+14]]+je[e[t+15]]).toLowerCase()}function Qs(e,t=0){const n=P_(e,t);if(!ig(n))throw TypeError("Stringified UUID is invalid");return n}function Ci(e){if(!ig(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}const I_=globalThis.__vlcn_whole_db_dbg;function Ei(...e){I_&&console.log("whole-db: ",...e)}const D_={async install(e,t,n){const r=new O_(e,t,n);return await r._init(),r}};class O_{constructor(t,n,r){q(this,"db");q(this,"network");q(this,"crrs",[]);q(this,"pendingNotification",!1);q(this,"siteId");q(this,"siteIdWire");q(this,"poked",async(t,n)=>{Ei("received a poke from ",t);const r=await this.db.execA("SELECT version FROM __crsql_wdbreplicator_peers WHERE site_id = ?",[Ci(t)]);let i=0n;r!=null&&r.length>0&&(i=BigInt(r[0][0]||0)),!(n<=i)&&(Ei("requesting changes from ",t),this.network.requestChanges(t,i))});q(this,"newConnection",t=>{this.db.exec("INSERT OR IGNORE INTO __crsql_wdbreplicator_peers VALUES (?, ?)",[Ci(t),0]),this.crrChanged()});q(this,"changesReceived",async(t,n)=>{await this.db.transaction(async()=>{let r=0n;Ei("inserting changesets in tx",n);const i=await this.db.prepare('INSERT INTO crsql_changes ("table", "pk", "cid", "val", "col_version", "db_version", "site_id") VALUES (?, ?, ?, ?, ?, ?, ?)');try{for(const o of n){const s=BigInt(o[5]);r=s>r?s:r,await i.run(o[0],o[1],o[2],o[3],BigInt(o[4]),s,o[6]?Ci(o[6]):0)}}catch(o){throw console.error(o),o}finally{i.finalize()}await this.db.exec("INSERT OR REPLACE INTO __crsql_wdbreplicator_peers (site_id, version) VALUES (?, ?)",[Ci(t),r])})});q(this,"changesRequested",async(t,n)=>{const r=Ci(t),i=await this.db.execA('SELECT "table", "pk", "cid", "val", "col_version", "db_version", "site_id" FROM crsql_changes WHERE site_id != ? AND db_version > ?',[r,n]);i.forEach(o=>o[6]=Qs(o[6])),i.length!=0&&(Ei("pushing changesets across the network",i),this.network.pushChanges(t,i))});this.db=n,this.network=r,this.db=n,n.createFunction("crsql_wdbreplicator",()=>this.crrChanged()),this.siteId=t,this.siteIdWire=Qs(this.siteId),this.network.onPoked(this.poked),this.network.onNewConnection(this.newConnection),this.network.onChangesReceived(this.changesReceived),this.network.onChangesRequested(this.changesRequested)}async _init(){await this.installTriggers(),await this.createPeerTrackingTable()}dispose(){this.crrs.forEach(t=>{["INSERT","UPDATE","DELETE"].forEach(n=>this.db.exec(`DROP TRIGGER IF EXISTS "${t}__crsql_wdbreplicator_${n.toLowerCase()}";`))})}schemaChanged(){return this.installTriggers()}async installTriggers(){const n=(await this.db.execA("SELECT name FROM sqlite_master WHERE name LIKE '%__crsql_clock'")).map(r=>{const i=r[0],o=i.substring(0,i.lastIndexOf("__crsql_clock"));return["INSERT","UPDATE","DELETE"].map(s=>{this.db.exec(`CREATE TEMP TRIGGER IF NOT EXISTS "${o}__crsql_wdbreplicator_${s.toLowerCase()}" AFTER ${s} ON "${o}"
          BEGIN
            select crsql_wdbreplicator() WHERE crsql_internal_sync_bit() = 0;
          END;
        `)}),o});this.crrs=n}async createPeerTrackingTable(){await this.db.exec("CREATE TABLE IF NOT EXISTS __crsql_wdbreplicator_peers (site_id BLOB primary key, version INTEGER) STRICT")}crrChanged(){this.pendingNotification||(this.pendingNotification=!0,queueMicrotask(async()=>{const n=(await this.db.execA("SELECT crsql_dbversion()"))[0][0];this.pendingNotification=!1,Ei("poking across the network"),this.network.poke(this.siteIdWire,BigInt(n))}))}}var Ks={},L_={get exports(){return Ks},set exports(e){Ks=e}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function r(){this._pieces=[],this._parts=[]}r.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},r.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new n,o=0,s=this._parts.length;o<s;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=r})(L_);var N_=Ks.BufferBuilder,hp=Ks.binaryFeatures,A_={unpack:function(e){var t=new He(e);return t.unpack()},pack:function(e){var t=new We;t.pack(e);var n=t.getBuffer();return n}},mp=A_;function He(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}He.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};He.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};He.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};He.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};He.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};He.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};He.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};He.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};He.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};He.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};He.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,r="",i,o;n<e;)i=t[n],i<128?(r+=String.fromCharCode(i),n++):(i^192)<32?(o=(i^192)<<6|t[n+1]&63,r+=String.fromCharCode(o),n+=2):(o=(i&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,r+=String.fromCharCode(o),n+=3);return this.index+=e,r};He.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};He.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t};He.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*Math.pow(2,n-23)};He.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,r-20)+t*Math.pow(2,r-52);return(n===0?1:-1)*o};He.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function We(){this.bufferBuilder=new N_}We.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};We.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)hp.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)hp.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};We.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};We.prototype.pack_string=function(e){var t=z_(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};We.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};We.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};We.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)};We.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))};We.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};We.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};We.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};We.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};We.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};We.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};We.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};We.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function M_(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function z_(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,M_).length}let og=!0,sg=!0;function Ii(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ci(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const a=c=>{const d=n(c);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,a),i.apply(this,[s,a])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const a=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,a])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function F_(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(og=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function j_(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(sg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function mc(){if(typeof window=="object"){if(og)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function wa(e,t){sg&&console.warn(e+" is deprecated, please use "+t+" instead.")}function U_(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Ii(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Ii(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=Ii(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Ii(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function gp(e){return Object.prototype.toString.call(e)==="[object Object]"}function ag(e){return gp(e)?Object.keys(e).reduce(function(t,n){const r=gp(e[n]),i=r?ag(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function fu(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?fu(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{fu(e,e.get(i),n)})}))}function yp(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===r&&l.trackId===s.id&&fu(e,l,i)})}),i}const vp=mc;function lg(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof l[c]=="object"?l[c]:{ideal:l[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const m=function(v,k){return v?v+k.charAt(0).toUpperCase()+k.slice(1):k==="deviceId"?"sourceId":k};if(d.ideal!==void 0){a.optional=a.optional||[];let v={};typeof d.ideal=="number"?(v[m("min",c)]=d.ideal,a.optional.push(v),v={},v[m("max",c)]=d.ideal,a.optional.push(v)):(v[m("",c)]=d.ideal,a.optional.push(v))}d.exact!==void 0&&typeof d.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[m("",c)]=d.exact):["min","max"].forEach(v=>{d[v]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[m(v,c)]=d[v])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},i=function(l,a){if(t.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(d,m,v){m in d&&!(v in d)&&(d[v]=d[m],delete d[m])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete l.video.facingMode;let m;if(c.exact==="environment"||c.ideal==="environment"?m=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(m=["front"]),m)return n.mediaDevices.enumerateDevices().then(v=>{v=v.filter(w=>w.kind==="videoinput");let k=v.find(w=>m.some(y=>w.label.toLowerCase().includes(y)));return!k&&v.length&&m.includes("back")&&(k=v[v.length-1]),k&&(l.video.deviceId=c.exact?{exact:k.deviceId}:{ideal:k.deviceId}),l.video=r(l.video),vp("chrome: "+JSON.stringify(l)),a(l)})}l.video=r(l.video)}return vp("chrome: "+JSON.stringify(l)),a(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,a,c){i(l,d=>{n.webkitGetUserMedia(d,a,m=>{c&&c(o(m))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return i(a,c=>l(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(o(d))))}}}function B_(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,l=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(r)})}}}function ug(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function cg(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ci(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function fg(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(a=>a.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function dg(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const s=function(a){const c={};return a.result().forEach(m=>{const v={id:m.id,timestamp:m.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[m.type]||m.type};m.names().forEach(k=>{v[k]=m.stat(k)}),c[v.id]=v}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){i(l(s(c)))};return t.apply(this,[a,r])}return new Promise((a,c)=>{t.apply(this,[function(d){a(l(s(d)))},c])}).then(i,o)}}function pg(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>yp(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),ci(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>yp(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function hg(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(m=>m.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(a)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(s);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function mg(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return hg(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(m=>this._reverseStreams[m.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(m=>{if(this.getSenders().find(k=>k.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const m=new e.MediaStream(d.getTracks());this._streams[d.id]=m,this._reverseStreams[m.id]=d,d=m}r.apply(this,[d])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const v=[].slice.call(arguments,1);if(v.length!==1||!v[0].getTracks().find(y=>y===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const w=this._streams[m.id];if(w)w.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new e.MediaStream([d]);this._streams[m.id]=y,this._reverseStreams[y.id]=m,this.addStream(y)}return this.getSenders().find(y=>y.track===d)};function o(c,d){let m=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(v=>{const k=c._reverseStreams[v],w=c._streams[k.id];m=m.replace(new RegExp(w.id,"g"),k.id)}),new RTCSessionDescription({type:d.type,sdp:m})}function s(c,d){let m=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(v=>{const k=c._reverseStreams[v],w=c._streams[k.id];m=m.replace(new RegExp(k.id,"g"),w.id)}),new RTCSessionDescription({type:d.type,sdp:m})}["createOffer","createAnswer"].forEach(function(c){const d=e.RTCPeerConnection.prototype[c],m={[c](){const v=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[w=>{const y=o(this,w);v[0].apply(null,[y])},w=>{v[1]&&v[1].apply(null,w)},arguments[2]]):d.apply(this,arguments).then(w=>o(this,w))}};e.RTCPeerConnection.prototype[c]=m[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let v;Object.keys(this._streams).forEach(k=>{this._streams[k].getTracks().find(y=>d.track===y)&&(v=this._streams[k])}),v&&(v.getTracks().length===1?this.removeStream(this._reverseStreams[v.id]):v.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function du(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function gg(e,t){ci(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const _p=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:gg,shimAddTrackRemoveTrack:mg,shimAddTrackRemoveTrackWithNative:hg,shimGetDisplayMedia:B_,shimGetSendersWithDtmf:fg,shimGetStats:dg,shimGetUserMedia:lg,shimMediaStream:ug,shimOnTrack:cg,shimPeerConnection:du,shimSenderReceiverGetStats:pg},Symbol.toStringTag,{value:"Module"}));function $_(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&wa("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(s=>{if(s.indexOf("stun:")===0)return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}var Js={},q_={get exports(){return Js},set exports(e){Js=e}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(r){return r.trim()})},t.splitSections=function(n){var r=n.split(`
m=`);return r.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(n){var r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){var r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(function(i){return i.indexOf(r)===0})},t.parseCandidate=function(n){var r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");for(var i={foundation:r[0],component:parseInt(r[1],10),protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]},o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]=r[o+1];break}return i},t.writeCandidate=function(n){var r=[];r.push(n.foundation),r.push(n.component),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);var i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var r=n.substr(9).split(" "),i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){var r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);var i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){var r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var r={},i,o=n.substr(n.indexOf(" ")+1).split(";"),s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){var r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var o=[];Object.keys(n.parameters).forEach(function(s){n.parameters[s]?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){var r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){var r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(o){r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){var r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substr(r+1,o-r-1),i.value=n.substr(o+1)):i.attribute=n.substr(r+1),i},t.parseSsrcGroup=function(n){var r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(function(i){return parseInt(i,10)})}},t.getMid=function(n){var r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(n){var r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1]}},t.getDtlsParameters=function(n,r){var i=t.matchPrefix(n+r,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){var i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){var r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){var i=t.matchPrefix(n+r,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(n,r){var i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n),o=i[0].split(" "),s=3;s<o.length;s++){var l=o[s],a=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(a){var c=t.parseRtpMap(a),d=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(c.parameters=d.length?t.parseFmtp(d[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(m){r.headerExtensions.push(t.parseExtmap(m))}),r},t.writeRtpDescription=function(n,r){var i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(function(s){i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});var o=0;return r.codecs.forEach(function(s){s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,r.headerExtensions&&r.headerExtensions.forEach(function(s){i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){var r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(function(v){return t.parseSsrcMedia(v)}).filter(function(v){return v.attribute==="cname"}),a=l.length>0&&l[0].ssrc,c,d=t.matchPrefix(n,"a=ssrc-group:FID").map(function(v){var k=v.substr(17).split(" ");return k.map(function(w){return parseInt(w,10)})});d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),i.codecs.forEach(function(v){if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){var k={ssrc:a,codecPayloadType:parseInt(v.parameters.apt,10)};a&&c&&(k.rtx={ssrc:c}),r.push(k),o&&(k=JSON.parse(JSON.stringify(k)),k.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},r.push(k))}}),r.length===0&&a&&r.push({ssrc:a});var m=t.matchPrefix(n,"b=");return m.length&&(m[0].indexOf("b=TIAS:")===0?m=parseInt(m[0].substr(7),10):m[0].indexOf("b=AS:")===0?m=parseInt(m[0].substr(5),10)*1e3*.95-50*40*8:m=void 0,r.forEach(function(v){v.maxBitrate=m})),r},t.parseRtcpParameters=function(n){var r={},i=t.matchPrefix(n,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);var o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;var s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.parseMsid=function(n){var r,i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};var o=t.matchPrefix(n,"a=ssrc:").map(function(s){return t.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){var r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:r.fmt,maxMessageSize:o};var l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){var a=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){var i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,r,i){var o,s=r!==void 0?r:2;n?o=n:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,r,i,o){var s=t.writeRtpDescription(n.kind,r);if(s+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),s+="a=mid:"+n.mid+`\r
`,n.direction?s+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var l="msid:"+o.id+" "+n.rtpSender.track.id+`\r
`;s+="a="+l,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+l,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),s},t.getDirection=function(n,r){for(var i=t.splitLines(n),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){var r=t.splitLines(n),i=r[0].split(" ");return i[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var r=t.splitLines(n),i=r[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){var r=t.matchPrefix(n,"o=")[0],i=r.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var r=t.splitLines(n),i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(q_);const _s=Js;var Q=Js;function V_(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Sp(e,t,n,r,i){var o=Q.writeRtpDescription(e.kind,t);if(o+=Q.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=Q.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(r?r.id:"-")+" "+s+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+Q.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+Q.localCName+`\r
`),o}function H_(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(r){if(r&&(r.urls||r.url)){var i=r.urls||r.url;r.url&&!r.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(s){var l=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!n;return l?(n=!0,!0):s.indexOf("stun:")===0&&t>=14393&&s.indexOf("?transport=udp")===-1}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}function es(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(o,s){o=parseInt(o,10);for(var l=0;l<s.length;l++)if(s[l].payloadType===o||s[l].preferredPayloadType===o)return s[l]},i=function(o,s,l,a){var c=r(o.parameters.apt,l),d=r(s.parameters.apt,a);return c&&d&&c.name.toLowerCase()===d.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var l=t.codecs[s];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),n.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(a){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===a.type&&o.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var s=0;s<t.headerExtensions.length;s++){var l=t.headerExtensions[s];if(o.uri===l.uri){n.headerExtensions.push(l);break}}}),n}function Cp(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function dl(e,t){var n=e.getRemoteCandidates().find(function(r){return t.foundation===r.foundation&&t.ip===r.ip&&t.port===r.port&&t.priority===r.priority&&t.protocol===r.protocol&&t.type===r.type});return n||e.addRemoteCandidate(t),!n}function Xe(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var W_=function(e,t){function n(a,c){c.addTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:a}))}function r(a,c){c.removeTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:a}))}function i(a,c,d,m){var v=new Event("track");v.track=c,v.receiver=d,v.transceiver={receiver:d},v.streams=m,e.setTimeout(function(){a._dispatchEvent("track",v)})}var o=function(a){var c=this,d=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(v){c[v]=d[v].bind(d)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle=a.bundlePolicy==="max-bundle",a.rtcpMuxPolicy==="negotiate")throw Xe("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all";break}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced";break}if(a.iceServers=H_(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var m=a.iceCandidatePoolSize;m>0;m--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=Q.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(a,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+a]=="function"&&this["on"+a](c))},o.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(a,c){var d=this.transceivers.length>0,m={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&d)m.iceTransport=this.transceivers[0].iceTransport,m.dtlsTransport=this.transceivers[0].dtlsTransport;else{var v=this._createIceAndDtlsTransports();m.iceTransport=v.iceTransport,m.dtlsTransport=v.dtlsTransport}return c||this.transceivers.push(m),m},o.prototype.addTrack=function(a,c){if(this._isClosed)throw Xe("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var d=this.transceivers.find(function(k){return k.track===a});if(d)throw Xe("InvalidAccessError","Track already exists.");for(var m,v=0;v<this.transceivers.length;v++)!this.transceivers[v].track&&this.transceivers[v].kind===a.kind&&(m=this.transceivers[v]);return m||(m=this._createTransceiver(a.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),m.track=a,m.stream=c,m.rtpSender=new e.RTCRtpSender(a,m.dtlsTransport),m.rtpSender},o.prototype.addStream=function(a){var c=this;if(t>=15025)a.getTracks().forEach(function(m){c.addTrack(m,a)});else{var d=a.clone();a.getTracks().forEach(function(m,v){var k=d.getTracks()[v];m.addEventListener("enabled",function(w){k.enabled=w.enabled})}),d.getTracks().forEach(function(m){c.addTrack(m,d)})}},o.prototype.removeTrack=function(a){if(this._isClosed)throw Xe("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(v){return v.rtpSender===a});if(!c)throw Xe("InvalidAccessError","Sender was not created by this connection.");var d=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var m=this.transceivers.map(function(v){return v.stream});m.indexOf(d)===-1&&this.localStreams.indexOf(d)>-1&&this.localStreams.splice(this.localStreams.indexOf(d),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(d){var m=c.getSenders().find(function(v){return v.track===d});m&&c.removeTrack(m)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},o.prototype._createIceGatherer=function(a,c){var d=this;if(c&&a>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var m=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(m,"state",{value:"new",writable:!0}),this.transceivers[a].bufferedCandidateEvents=[],this.transceivers[a].bufferCandidates=function(v){var k=!v.candidate||Object.keys(v.candidate).length===0;m.state=k?"completed":"gathering",d.transceivers[a].bufferedCandidateEvents!==null&&d.transceivers[a].bufferedCandidateEvents.push(v)},m.addEventListener("localcandidate",this.transceivers[a].bufferCandidates),m},o.prototype._gather=function(a,c){var d=this,m=this.transceivers[c].iceGatherer;if(!m.onlocalcandidate){var v=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,m.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),m.onlocalcandidate=function(k){if(!(d.usingBundle&&c>0)){var w=new Event("icecandidate");w.candidate={sdpMid:a,sdpMLineIndex:c};var y=k.candidate,C=!y||Object.keys(y).length===0;if(C)(m.state==="new"||m.state==="gathering")&&(m.state="completed");else{m.state==="new"&&(m.state="gathering"),y.component=1,y.ufrag=m.getLocalParameters().usernameFragment;var h=Q.writeCandidate(y);w.candidate=Object.assign(w.candidate,Q.parseCandidate(h)),w.candidate.candidate=h,w.candidate.toJSON=function(){return{candidate:w.candidate.candidate,sdpMid:w.candidate.sdpMid,sdpMLineIndex:w.candidate.sdpMLineIndex,usernameFragment:w.candidate.usernameFragment}}}var g=Q.getMediaSections(d._localDescription.sdp);C?g[w.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:g[w.candidate.sdpMLineIndex]+="a="+w.candidate.candidate+`\r
`,d._localDescription.sdp=Q.getDescription(d._localDescription.sdp)+g.join("");var S=d.transceivers.every(function(T){return T.iceGatherer&&T.iceGatherer.state==="completed"});d.iceGatheringState!=="gathering"&&(d.iceGatheringState="gathering",d._emitGatheringStateChange()),C||d._dispatchEvent("icecandidate",w),S&&(d._dispatchEvent("icecandidate",new Event("icecandidate")),d.iceGatheringState="complete",d._emitGatheringStateChange())}},e.setTimeout(function(){v.forEach(function(k){m.onlocalcandidate(k)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var a=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState(),a._updateConnectionState()};var d=new e.RTCDtlsTransport(c);return d.ondtlsstatechange=function(){a._updateConnectionState()},d.onerror=function(){Object.defineProperty(d,"state",{value:"failed",writable:!0}),a._updateConnectionState()},{iceTransport:c,dtlsTransport:d}},o.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);var d=this.transceivers[a].iceTransport;d&&(delete d.onicestatechange,delete this.transceivers[a].iceTransport);var m=this.transceivers[a].dtlsTransport;m&&(delete m.ondtlsstatechange,delete m.onerror,delete this.transceivers[a].dtlsTransport)},o.prototype._transceive=function(a,c,d){var m=es(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(m.encodings=a.sendEncodingParameters,m.rtcp={cname:Q.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(m.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(m)),d&&a.rtpReceiver&&m.codecs.length>0&&(a.kind==="video"&&a.recvEncodingParameters&&t<15019&&a.recvEncodingParameters.forEach(function(v){delete v.rtx}),a.recvEncodingParameters.length?m.encodings=a.recvEncodingParameters:m.encodings=[{}],m.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(m.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(m.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(m))},o.prototype.setLocalDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Xe("TypeError",'Unsupported type "'+a.type+'"'));if(!Cp("setLocalDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Xe("InvalidStateError","Can not set local "+a.type+" in state "+c.signalingState));var d,m;if(a.type==="offer")d=Q.splitSections(a.sdp),m=d.shift(),d.forEach(function(k,w){var y=Q.parseRtpParameters(k);c.transceivers[w].localCapabilities=y}),c.transceivers.forEach(function(k,w){c._gather(k.mid,w)});else if(a.type==="answer"){d=Q.splitSections(c._remoteDescription.sdp),m=d.shift();var v=Q.matchPrefix(m,"a=ice-lite").length>0;d.forEach(function(k,w){var y=c.transceivers[w],C=y.iceGatherer,h=y.iceTransport,g=y.dtlsTransport,S=y.localCapabilities,T=y.remoteCapabilities,P=Q.isRejected(k)&&Q.matchPrefix(k,"a=bundle-only").length===0;if(!P&&!y.rejected){var M=Q.getIceParameters(k,m),z=Q.getDtlsParameters(k,m);v&&(z.role="server"),(!c.usingBundle||w===0)&&(c._gather(y.mid,w),h.state==="new"&&h.start(C,M,v?"controlling":"controlled"),g.state==="new"&&g.start(z));var B=es(S,T);c._transceive(y,B.codecs.length>0,!1)}})}return c._localDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Xe("TypeError",'Unsupported type "'+a.type+'"'));if(!Cp("setRemoteDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Xe("InvalidStateError","Can not set remote "+a.type+" in state "+c.signalingState));var d={};c.remoteStreams.forEach(function(h){d[h.id]=h});var m=[],v=Q.splitSections(a.sdp),k=v.shift(),w=Q.matchPrefix(k,"a=ice-lite").length>0,y=Q.matchPrefix(k,"a=group:BUNDLE ").length>0;c.usingBundle=y;var C=Q.matchPrefix(k,"a=ice-options:")[0];return C?c.canTrickleIceCandidates=C.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,v.forEach(function(h,g){var S=Q.splitLines(h),T=Q.getKind(h),P=Q.isRejected(h)&&Q.matchPrefix(h,"a=bundle-only").length===0,M=S[0].substr(2).split(" ")[2],z=Q.getDirection(h,k),B=Q.parseMsid(h),G=Q.getMid(h)||Q.generateIdentifier();if(P||T==="application"&&(M==="DTLS/SCTP"||M==="UDP/DTLS/SCTP")){c.transceivers[g]={mid:G,kind:T,protocol:M,rejected:!0};return}!P&&c.transceivers[g]&&c.transceivers[g].rejected&&(c.transceivers[g]=c._createTransceiver(T,!0));var j,Ne,W,ne,Ge,tn,Vt,bt,U,K=Q.parseRtpParameters(h),Y,ue;P||(Y=Q.getIceParameters(h,k),ue=Q.getDtlsParameters(h,k),ue.role="client"),Vt=Q.parseRtpEncodingParameters(h);var oe=Q.parseRtcpParameters(h),vt=Q.matchPrefix(h,"a=end-of-candidates",k).length>0,ce=Q.matchPrefix(h,"a=candidate:").map(function(Qe){return Q.parseCandidate(Qe)}).filter(function(Qe){return Qe.component===1});if((a.type==="offer"||a.type==="answer")&&!P&&y&&g>0&&c.transceivers[g]&&(c._disposeIceAndDtlsTransports(g),c.transceivers[g].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[g].iceTransport=c.transceivers[0].iceTransport,c.transceivers[g].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[g].rtpSender&&c.transceivers[g].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[g].rtpReceiver&&c.transceivers[g].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),a.type==="offer"&&!P){j=c.transceivers[g]||c._createTransceiver(T),j.mid=G,j.iceGatherer||(j.iceGatherer=c._createIceGatherer(g,y)),ce.length&&j.iceTransport.state==="new"&&(vt&&(!y||g===0)?j.iceTransport.setRemoteCandidates(ce):ce.forEach(function(Qe){dl(j.iceTransport,Qe)})),bt=e.RTCRtpReceiver.getCapabilities(T),t<15019&&(bt.codecs=bt.codecs.filter(function(Qe){return Qe.name!=="rtx"})),tn=j.sendEncodingParameters||[{ssrc:(2*g+2)*1001}];var Ht=!1;if(z==="sendrecv"||z==="sendonly"){if(Ht=!j.rtpReceiver,Ge=j.rtpReceiver||new e.RTCRtpReceiver(j.dtlsTransport,T),Ht){var pe;U=Ge.track,B&&B.stream==="-"||(B?(d[B.stream]||(d[B.stream]=new e.MediaStream,Object.defineProperty(d[B.stream],"id",{get:function(){return B.stream}})),Object.defineProperty(U,"id",{get:function(){return B.track}}),pe=d[B.stream]):(d.default||(d.default=new e.MediaStream),pe=d.default)),pe&&(n(U,pe),j.associatedRemoteMediaStreams.push(pe)),m.push([U,Ge,pe])}}else j.rtpReceiver&&j.rtpReceiver.track&&(j.associatedRemoteMediaStreams.forEach(function(Qe){var J=Qe.getTracks().find(function(Se){return Se.id===j.rtpReceiver.track.id});J&&r(J,Qe)}),j.associatedRemoteMediaStreams=[]);j.localCapabilities=bt,j.remoteCapabilities=K,j.rtpReceiver=Ge,j.rtcpParameters=oe,j.sendEncodingParameters=tn,j.recvEncodingParameters=Vt,c._transceive(c.transceivers[g],!1,Ht)}else if(a.type==="answer"&&!P){j=c.transceivers[g],Ne=j.iceGatherer,W=j.iceTransport,ne=j.dtlsTransport,Ge=j.rtpReceiver,tn=j.sendEncodingParameters,bt=j.localCapabilities,c.transceivers[g].recvEncodingParameters=Vt,c.transceivers[g].remoteCapabilities=K,c.transceivers[g].rtcpParameters=oe,ce.length&&W.state==="new"&&((w||vt)&&(!y||g===0)?W.setRemoteCandidates(ce):ce.forEach(function(Qe){dl(j.iceTransport,Qe)})),(!y||g===0)&&(W.state==="new"&&W.start(Ne,Y,"controlling"),ne.state==="new"&&ne.start(ue));var nn=es(j.localCapabilities,j.remoteCapabilities),Co=nn.codecs.filter(function(Qe){return Qe.name.toLowerCase()==="rtx"}).length;!Co&&j.sendEncodingParameters[0].rtx&&delete j.sendEncodingParameters[0].rtx,c._transceive(j,z==="sendrecv"||z==="recvonly",z==="sendrecv"||z==="sendonly"),Ge&&(z==="sendrecv"||z==="sendonly")?(U=Ge.track,B?(d[B.stream]||(d[B.stream]=new e.MediaStream),n(U,d[B.stream]),m.push([U,Ge,d[B.stream]])):(d.default||(d.default=new e.MediaStream),n(U,d.default),m.push([U,Ge,d.default]))):delete j.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=a.type==="offer"?"active":"passive"),c._remoteDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(d).forEach(function(h){var g=d[h];if(g.getTracks().length){if(c.remoteStreams.indexOf(g)===-1){c.remoteStreams.push(g);var S=new Event("addstream");S.stream=g,e.setTimeout(function(){c._dispatchEvent("addstream",S)})}m.forEach(function(T){var P=T[0],M=T[1];g.id===T[2].id&&i(c,P,M,[g])})}}),m.forEach(function(h){h[2]||i(c,h[0],h[1],[])}),e.setTimeout(function(){c&&c.transceivers&&c.transceivers.forEach(function(h){h.iceTransport&&h.iceTransport.state==="new"&&h.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),h.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(a){this.signalingState=a;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var a=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var a,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(m){m.iceTransport&&!m.rejected&&c[m.iceTransport.state]++}),a="new",c.failed>0?a="failed":c.checking>0?a="checking":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0?a="connected":c.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var d=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",d)}},o.prototype._updateConnectionState=function(){var a,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(m){m.iceTransport&&m.dtlsTransport&&!m.rejected&&(c[m.iceTransport.state]++,c[m.dtlsTransport.state]++)}),c.connected+=c.completed,a="new",c.failed>0?a="failed":c.connecting>0?a="connecting":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var d=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",d)}},o.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(Xe("InvalidStateError","Can not call createOffer after close"));var c=a.transceivers.filter(function(w){return w.kind==="audio"}).length,d=a.transceivers.filter(function(w){return w.kind==="video"}).length,m=arguments[0];if(m){if(m.mandatory||m.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");m.offerToReceiveAudio!==void 0&&(m.offerToReceiveAudio===!0?c=1:m.offerToReceiveAudio===!1?c=0:c=m.offerToReceiveAudio),m.offerToReceiveVideo!==void 0&&(m.offerToReceiveVideo===!0?d=1:m.offerToReceiveVideo===!1?d=0:d=m.offerToReceiveVideo)}for(a.transceivers.forEach(function(w){w.kind==="audio"?(c--,c<0&&(w.wantReceive=!1)):w.kind==="video"&&(d--,d<0&&(w.wantReceive=!1))});c>0||d>0;)c>0&&(a._createTransceiver("audio"),c--),d>0&&(a._createTransceiver("video"),d--);var v=Q.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(w,y){var C=w.track,h=w.kind,g=w.mid||Q.generateIdentifier();w.mid=g,w.iceGatherer||(w.iceGatherer=a._createIceGatherer(y,a.usingBundle));var S=e.RTCRtpSender.getCapabilities(h);t<15019&&(S.codecs=S.codecs.filter(function(P){return P.name!=="rtx"})),S.codecs.forEach(function(P){P.name==="H264"&&P.parameters["level-asymmetry-allowed"]===void 0&&(P.parameters["level-asymmetry-allowed"]="1"),w.remoteCapabilities&&w.remoteCapabilities.codecs&&w.remoteCapabilities.codecs.forEach(function(M){P.name.toLowerCase()===M.name.toLowerCase()&&P.clockRate===M.clockRate&&(P.preferredPayloadType=M.payloadType)})}),S.headerExtensions.forEach(function(P){var M=w.remoteCapabilities&&w.remoteCapabilities.headerExtensions||[];M.forEach(function(z){P.uri===z.uri&&(P.id=z.id)})});var T=w.sendEncodingParameters||[{ssrc:(2*y+1)*1001}];C&&t>=15019&&h==="video"&&!T[0].rtx&&(T[0].rtx={ssrc:T[0].ssrc+1}),w.wantReceive&&(w.rtpReceiver=new e.RTCRtpReceiver(w.dtlsTransport,h)),w.localCapabilities=S,w.sendEncodingParameters=T}),a._config.bundlePolicy!=="max-compat"&&(v+="a=group:BUNDLE "+a.transceivers.map(function(w){return w.mid}).join(" ")+`\r
`),v+=`a=ice-options:trickle\r
`,a.transceivers.forEach(function(w,y){v+=Sp(w,w.localCapabilities,"offer",w.stream,a._dtlsRole),v+=`a=rtcp-rsize\r
`,w.iceGatherer&&a.iceGatheringState!=="new"&&(y===0||!a.usingBundle)&&(w.iceGatherer.getLocalCandidates().forEach(function(C){C.component=1,v+="a="+Q.writeCandidate(C)+`\r
`}),w.iceGatherer.state==="completed"&&(v+=`a=end-of-candidates\r
`))});var k=new e.RTCSessionDescription({type:"offer",sdp:v});return Promise.resolve(k)},o.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(Xe("InvalidStateError","Can not call createAnswer after close"));if(!(a.signalingState==="have-remote-offer"||a.signalingState==="have-local-pranswer"))return Promise.reject(Xe("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var c=Q.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(c+="a=group:BUNDLE "+a.transceivers.map(function(v){return v.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var d=Q.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach(function(v,k){if(!(k+1>d)){if(v.rejected){v.kind==="application"?v.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+v.protocol+` webrtc-datachannel\r
`:v.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:v.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+v.mid+`\r
`;return}if(v.stream){var w;v.kind==="audio"?w=v.stream.getAudioTracks()[0]:v.kind==="video"&&(w=v.stream.getVideoTracks()[0]),w&&t>=15019&&v.kind==="video"&&!v.sendEncodingParameters[0].rtx&&(v.sendEncodingParameters[0].rtx={ssrc:v.sendEncodingParameters[0].ssrc+1})}var y=es(v.localCapabilities,v.remoteCapabilities),C=y.codecs.filter(function(h){return h.name.toLowerCase()==="rtx"}).length;!C&&v.sendEncodingParameters[0].rtx&&delete v.sendEncodingParameters[0].rtx,c+=Sp(v,y,"answer",v.stream,a._dtlsRole),v.rtcpParameters&&v.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var m=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(m)},o.prototype.addIceCandidate=function(a){var c=this,d;return a&&!(a.sdpMLineIndex!==void 0||a.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(m,v){if(c._remoteDescription)if(!a||a.candidate==="")for(var k=0;k<c.transceivers.length&&!(!c.transceivers[k].rejected&&(c.transceivers[k].iceTransport.addRemoteCandidate({}),d=Q.getMediaSections(c._remoteDescription.sdp),d[k]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=Q.getDescription(c._remoteDescription.sdp)+d.join(""),c.usingBundle));k++);else{var w=a.sdpMLineIndex;if(a.sdpMid){for(var y=0;y<c.transceivers.length;y++)if(c.transceivers[y].mid===a.sdpMid){w=y;break}}var C=c.transceivers[w];if(C){if(C.rejected)return m();var h=Object.keys(a.candidate).length>0?Q.parseCandidate(a.candidate):{};if(h.protocol==="tcp"&&(h.port===0||h.port===9)||h.component&&h.component!==1)return m();if((w===0||w>0&&C.iceTransport!==c.transceivers[0].iceTransport)&&!dl(C.iceTransport,h))return v(Xe("OperationError","Can not add ICE candidate"));var g=a.candidate.trim();g.indexOf("a=")===0&&(g=g.substr(2)),d=Q.getMediaSections(c._remoteDescription.sdp),d[w]+="a="+(h.type?g:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=Q.getDescription(c._remoteDescription.sdp)+d.join("")}else return v(Xe("OperationError","Can not add ICE candidate"))}else return v(Xe("InvalidStateError","Can not add ICE candidate without a remote description"));m()})},o.prototype.getStats=function(a){if(a&&a instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(m){m.rtpSender&&m.rtpSender.track===a?c=m.rtpSender:m.rtpReceiver&&m.rtpReceiver.track===a&&(c=m.rtpReceiver)}),!c)throw Xe("InvalidAccessError","Invalid selector.");return c.getStats()}var d=[];return this.transceivers.forEach(function(m){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(v){m[v]&&d.push(m[v].getStats())})}),Promise.all(d).then(function(m){var v=new Map;return m.forEach(function(k){k.forEach(function(w){v.set(w.id,w)})}),v})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(a){var c=e[a];if(c&&c.prototype&&c.prototype.getStats){var d=c.prototype.getStats;c.prototype.getStats=function(){return d.apply(this).then(function(m){var v=new Map;return Object.keys(m).forEach(function(k){m[k].type=V_(m[k]),v.set(k,m[k])}),v})}}});var l=["createOffer","createAnswer"];return l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var d=arguments;return typeof d[0]=="function"||typeof d[1]=="function"?c.apply(this,[arguments[2]]).then(function(m){typeof d[0]=="function"&&d[0].apply(null,[m])},function(m){typeof d[1]=="function"&&d[1].apply(null,[m])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var d=arguments;return typeof d[1]=="function"||typeof d[2]=="function"?c.apply(this,arguments).then(function(){typeof d[1]=="function"&&d[1].apply(null)},function(m){typeof d[2]=="function"&&d[2].apply(null,[m])}):c.apply(this,arguments)}}),["getStats"].forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var d=arguments;return typeof d[1]=="function"?c.apply(this,arguments).then(function(){typeof d[1]=="function"&&d[1].apply(null)}):c.apply(this,arguments)}}),o};function yg(e){const t=e&&e.navigator,n=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(n(o)))}}function vg(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function pu(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=W_(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=$_(i.iceServers,t.version),mc("ICE servers after filtering:",i.iceServers)),new n(i)},e.RTCPeerConnection.prototype=n.prototype}function _g(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const Ep=Object.freeze(Object.defineProperty({__proto__:null,shimGetDisplayMedia:vg,shimGetUserMedia:yg,shimPeerConnection:pu,shimReplaceTrack:_g},Symbol.toStringTag,{value:"Module"}));function Sg(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){wa("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,a){l in s&&!(a in s)&&(s[a]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function G_(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Cg(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function hu(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(a=>{if(t.version<53&&!s)try{a.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((d,m)=>{a.set(m,Object.assign({},d,{type:n[d.type]||d.type}))})}return a}).then(s,l)}}function Eg(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function wg(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),ci(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function kg(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){wa("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Tg(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function xg(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r.sendEncodings,s.sendEncodings=r.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function bg(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Rg(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Pg(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const wp=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:xg,shimCreateAnswer:Pg,shimCreateOffer:Rg,shimGetDisplayMedia:G_,shimGetParameters:bg,shimGetUserMedia:Sg,shimOnTrack:Cg,shimPeerConnection:hu,shimRTCDataChannel:Tg,shimReceiverGetStats:wg,shimRemoveStream:kg,shimSenderGetStats:Eg},Symbol.toStringTag,{value:"Module"}));function Ig(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function Dg(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function Og(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,d){const m=arguments.length>=2?arguments[2]:arguments[0],v=n.apply(this,[m]);return d?(v.then(c,d),Promise.resolve()):v},t.createAnswer=function(c,d){const m=arguments.length>=2?arguments[2]:arguments[0],v=r.apply(this,[m]);return d?(v.then(c,d),Promise.resolve()):v};let l=function(a,c,d){const m=i.apply(this,[a]);return d?(m.then(c,d),Promise.resolve()):m};t.setLocalDescription=l,l=function(a,c,d){const m=o.apply(this,[a]);return d?(m.then(c,d),Promise.resolve()):m},t.setRemoteDescription=l,l=function(a,c,d){const m=s.apply(this,[a]);return d?(m.then(c,d),Promise.resolve()):m},t.addIceCandidate=l}function Lg(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(Ng(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function Ng(e){return e&&e.video!==void 0?Object.assign({},e,{video:ag(e.video)}):e}function Ag(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(wa("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Mg(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zg(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function Fg(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const kp=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Fg,shimCallbacksAPI:Og,shimConstraints:Ng,shimCreateOfferLegacy:zg,shimGetUserMedia:Lg,shimLocalStreamsAPI:Ig,shimRTCIceServerUrls:Ag,shimRemoteStreamsAPI:Dg,shimTrackEventTransceiver:Mg},Symbol.toStringTag,{value:"Module"}));function Ss(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new t(r),o=_s.parseCandidate(r.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,ci(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Di(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const a=_s.splitSections(l.sdp);return a.shift(),a.some(c=>{const d=_s.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},i=function(l){let a=65536;return t.browser==="firefox"&&(t.version<57?l===-1?a=16384:a=2147483637:t.version<60?a=t.version===57?65535:65536:a=2147483637),a},o=function(l,a){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const d=_s.matchPrefix(l.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substr(19),10):t.browser==="firefox"&&a!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=r(arguments[0]),c=i(a),d=o(arguments[0],a);let m;c===0&&d===0?m=Number.POSITIVE_INFINITY:c===0||d===0?m=Math.max(c,d):m=Math.min(c,d);const v={};Object.defineProperty(v,"maxMessageSize",{get(){return m}}),this._sctp=v}return s.apply(this,arguments)}}function Oi(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},ci(e,"datachannel",r=>(t(r.channel,r.target),r))}function mu(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function gu(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Cs(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Q_=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:gu,shimAddIceCandidateNullOrEmpty:Cs,shimConnectionState:mu,shimMaxMessageSize:Di,shimRTCIceCandidate:Ss,shimSendThrowTypeError:Oi},Symbol.toStringTag,{value:"Module"}));function K_({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=mc,r=U_(e),i={browserDetails:r,commonShim:Q_,extractVersion:Ii,disableLog:F_,disableWarnings:j_};switch(r.browser){case"chrome":if(!_p||!du||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=_p,Cs(e,r),lg(e,r),ug(e),du(e,r),cg(e),mg(e,r),fg(e),dg(e),pg(e),gg(e,r),Ss(e),mu(e),Di(e,r),Oi(e),gu(e,r);break;case"firefox":if(!wp||!hu||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=wp,Cs(e,r),Sg(e,r),hu(e,r),Cg(e),kg(e),Eg(e),wg(e),Tg(e),xg(e),bg(e),Rg(e),Pg(e),Ss(e),mu(e),Di(e,r),Oi(e);break;case"edge":if(!Ep||!pu||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=Ep,yg(e),vg(e),pu(e,r),_g(e),Di(e,r),Oi(e);break;case"safari":if(!kp||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=kp,Cs(e,r),Ag(e),zg(e),Og(e),Ig(e),Dg(e),Mg(e),Lg(e),Fg(e),Ss(e),Di(e,r),Oi(e),gu(e,r);break;default:n("Unsupported browser!");break}return i}const Tp=K_({window:typeof window>"u"?void 0:window});function en(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var pl=Tp.default||Tp,wi=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),r=this.supportedBrowsers.includes(t);return r?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return pl.browserDetails.browser},e.prototype.getVersion=function(){return pl.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=pl.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),xp={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},J_=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=xp,this.browser=wi.getBrowser(),this.browserVersion=wi.getVersion(),this.supports=function(){var t={browser:wi.isBrowserSupported(),webRTC:wi.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(xp),t.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!wi.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=mp.pack,this.unpack=mp.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],r=t.size,i=Math.ceil(r/ie.chunkedMTU),o=0,s=0;s<r;){var l=Math.min(r,s+ie.chunkedMTU),a=t.slice(s,l),c={__peerData:this._dataCount,n:o,data:a,total:i};n.push(c),s=l,o++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),ie=new J_,jg={};en(jg,"Peer",()=>zp,e=>zp=e);var So={},Y_=Object.prototype.hasOwnProperty,ot="~";function so(){}Object.create&&(so.prototype=Object.create(null),new so().__proto__||(ot=!1));function X_(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Ug(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new X_(n,r||e,i),s=ot?ot+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Es(e,t){--e._eventsCount===0?e._events=new so:delete e._events[t]}function tt(){this._events=new so,this._eventsCount=0}tt.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Y_.call(n,r)&&t.push(ot?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};tt.prototype.listeners=function(t){var n=ot?ot+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};tt.prototype.listenerCount=function(t){var n=ot?ot+t:t,r=this._events[n];return r?r.fn?1:r.length:0};tt.prototype.emit=function(t,n,r,i,o,s){var l=ot?ot+t:t;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,d,m;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,i),!0;case 5:return a.fn.call(a.context,n,r,i,o),!0;case 6:return a.fn.call(a.context,n,r,i,o,s),!0}for(m=1,d=new Array(c-1);m<c;m++)d[m-1]=arguments[m];a.fn.apply(a.context,d)}else{var v=a.length,k;for(m=0;m<v;m++)switch(a[m].once&&this.removeListener(t,a[m].fn,void 0,!0),c){case 1:a[m].fn.call(a[m].context);break;case 2:a[m].fn.call(a[m].context,n);break;case 3:a[m].fn.call(a[m].context,n,r);break;case 4:a[m].fn.call(a[m].context,n,r,i);break;default:if(!d)for(k=1,d=new Array(c-1);k<c;k++)d[k-1]=arguments[k];a[m].fn.apply(a[m].context,d)}}return!0};tt.prototype.on=function(t,n,r){return Ug(this,t,n,r,!1)};tt.prototype.once=function(t,n,r){return Ug(this,t,n,r,!0)};tt.prototype.removeListener=function(t,n,r,i){var o=ot?ot+t:t;if(!this._events[o])return this;if(!n)return Es(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&Es(this,o);else{for(var l=0,a=[],c=s.length;l<c;l++)(s[l].fn!==n||i&&!s[l].once||r&&s[l].context!==r)&&a.push(s[l]);a.length?this._events[o]=a.length===1?a[0]:a:Es(this,o)}return this};tt.prototype.removeAllListeners=function(t){var n;return t?(n=ot?ot+t:t,this._events[n]&&Es(this,n)):(this._events=new so,this._eventsCount=0),this};tt.prototype.off=tt.prototype.removeListener;tt.prototype.addListener=tt.prototype.on;tt.prefixed=ot;tt.EventEmitter=tt;So=tt;var V={};en(V,"LogLevel",()=>dt,e=>dt=e);en(V,"default",()=>bp,e=>bp=e);var Zn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},er=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Z_="PeerJS: ",dt;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(dt||(dt={}));var e1=function(){function e(){this._logLevel=dt.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=dt.All&&this._print.apply(this,er([dt.All],Zn(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=dt.Warnings&&this._print.apply(this,er([dt.Warnings],Zn(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=dt.Errors&&this._print.apply(this,er([dt.Errors],Zn(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=er([Z_],Zn(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=dt.All?console.log.apply(console,er([],Zn(i),!1)):t>=dt.Warnings?console.warn.apply(console,er(["WARNING"],Zn(i),!1)):t>=dt.Errors&&console.error.apply(console,er(["ERROR"],Zn(i),!1))},e}(),bp=new e1,Bg={};en(Bg,"Socket",()=>Rp,e=>Rp=e);var Ut;(function(e){e.Data="data",e.Media="media"})(Ut||(Ut={}));var Re;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(Re||(Re={}));var ln;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(ln||(ln={}));var mn;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(mn||(mn={}));var $e;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})($e||($e={}));var gc={};gc=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var t1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n1=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},r1=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},i1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rp=function(e){t1(t,e);function t(n,r,i,o,s,l){l===void 0&&(l=5e3);var a=e.call(this)||this;a.pingInterval=l,a._disconnected=!0,a._messagesQueue=[];var c=n?"wss://":"ws://";return a._baseUrl=c+r+":"+i+o+"peerjs?key="+s,a}return t.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+gc.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),V.default.log("Server message received:",l)}catch{V.default.log("Invalid server message",s.data);return}i.emit(mn.Message,l)},this._socket.onclose=function(s){i._disconnected||(V.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(mn.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),V.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){V.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:$e.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,r,i=r1([],n1(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=i1(i),s=o.next();!s.done;s=o.next()){var l=s.value;this.send(l)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(mn.Error,"Invalid message");return}if(this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(So.EventEmitter),yu={};en(yu,"MediaConnection",()=>Dp,e=>Dp=e);var yc={};en(yc,"Negotiator",()=>Pp,e=>Pp=e);var Ys=function(){return Ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ys.apply(this,arguments)},ts=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(d){try{c(r.next(d))}catch(m){s(m)}}function a(d){try{c(r.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},ns=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(d){return a([c,d])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Pp=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Ut.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===Ut.Data){var r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){V.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;V.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(V.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),s.socket.send({type:$e.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":V.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":V.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":V.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=ie.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},V.default.log("Listening for data channel"),t.ondatachannel=function(l){V.default.log("Received data channel");var a=l.channel,c=s.getConnection(r,i);c.initialize(a)},V.default.log("Listening for remote stream"),t.ontrack=function(l){V.default.log("Received remote stream");var a=l.streams[0],c=s.getConnection(r,i);if(c.type===Ut.Media){var d=c;n._addStreamToMediaConnection(a,d)}}},e.prototype.cleanup=function(){V.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",r=!1;if(this.connection.type===Ut.Data){var i=this.connection,o=i.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed")}(n||r)&&t.close()}},e.prototype._makeOffer=function(){return ts(this,void 0,Promise,function(){var t,n,r,i,o,s,l;return ns(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=a.sent(),V.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return a.sent(),V.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:ie.browser},this.connection.type===Ut.Data&&(o=this.connection,i=Ys(Ys({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:$e.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return s=a.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Re.WebRTC,s),V.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=a.sent(),n.emitError(Re.WebRTC,l),V.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return ts(this,void 0,Promise,function(){var t,n,r,i,o;return ns(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=s.sent(),V.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return s.sent(),V.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:$e.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:ie.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),n.emitError(Re.WebRTC,i),V.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),n.emitError(Re.WebRTC,o),V.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return ts(this,void 0,Promise,function(){var r,i,o,s;return ns(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,V.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),V.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(Re.WebRTC,s),V.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return ts(this,void 0,Promise,function(){var n,r,i,o,s,l;return ns(this,function(a){switch(a.label){case 0:V.default.log("handleCandidate:",t),n=t.candidate,r=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return a.sent(),V.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=a.sent(),s.emitError(Re.WebRTC,l),V.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(V.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return V.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(r){n.addTrack(r,t)})},e.prototype._addStreamToMediaConnection=function(t,n){V.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),vc={};en(vc,"BaseConnection",()=>Ip,e=>Ip=e);var o1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ip=function(e){o1(t,e);function t(n,r,i){var o=e.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(So.EventEmitter),s1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xs=function(){return Xs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xs.apply(this,arguments)},a1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dp=function(e){s1(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+ie.randomToken(),o._negotiator=new yc.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Ut.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){V.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case $e.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case $e.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:V.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,r){var i,o;if(r===void 0&&(r={}),this._localStream){V.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(Xs(Xs({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var l=a1(s),a=l.next();!a.done;a=l.next()){var c=a.value;this.handleMessage(c)}}catch(d){i={error:d}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(vc.BaseConnection),vu={};en(vu,"DataConnection",()=>Lp,e=>Lp=e);var $g={};en($g,"EncodingQueue",()=>Op,e=>Op=e);var l1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Op=function(e){l1(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){V.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(So.EventEmitter),u1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),c1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lp=function(e){u1(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new $g.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+ie.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||ln.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){V.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new yc.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Ut.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!ie.supports.binaryBlob||ie.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){V.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){V.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){V.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,s=this.serialization===ln.Binary||this.serialization===ln.BinaryUTF8,l=i;if(s){if(o===Blob){ie.blobToArrayBuffer(i,function(c){var d=ie.unpack(c);r.emit("data",d)});return}else if(o===ArrayBuffer)l=ie.unpack(i);else if(o===String){var a=ie.binaryStringToArrayBuffer(i);l=ie.unpack(a)}}else this.serialization===ln.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,r){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===ln.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===ln.Binary||this.serialization===ln.BinaryUTF8){var i=ie.pack(n);if(!r&&i.size>ie.chunkedMTU){this._sendChunks(i);return}ie.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return V.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var r,i,o=ie.chunk(n);V.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=c1(o),l=s.next();!l.done;l=s.next()){var a=l.value;this.send(a,!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case $e.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case $e.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:V.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(vc.BaseConnection),qg={};en(qg,"API",()=>Mp,e=>Mp=e);var Np=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(d){try{c(r.next(d))}catch(m){s(m)}}function a(d){try{c(r.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},Ap=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(d){return a([c,d])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Mp=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",r=this._options,i=r.host,o=r.port,s=r.path,l=r.key,a=new URL("".concat(n,"://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(t));return a.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),a.searchParams.set("version",gc.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return Np(this,void 0,Promise,function(){var t,n,r;return Ap(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=i.sent(),V.default.error("Error retrieving ID",n),r="",this._options.path==="/"&&this._options.host!==ie.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return Np(this,void 0,Promise,function(){var t,n,r;return Ap(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===ie.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw r=i.sent(),V.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},e}(),f1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$i=function(){return $i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$i.apply(this,arguments)},ki=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d1=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zp=function(e){f1(t,e);function t(n,r){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=$i({debug:0,host:ie.CLOUD_HOST,port:ie.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:ie.randomToken(),config:ie.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==ie.CLOUD_HOST?i._options.secure=ie.isSecure():i._options.host==ie.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&V.default.setLogFunction(i._options.logFunction),V.default.logLevel=i._options.debug||0,i._api=new qg.API(r),i._socket=i._createServerConnection(),!ie.supports.audioVideo&&!ie.supports.data?(i._delayedAbort(Re.BrowserIncompatible,"The current browser does not support WebRTC"),i):o&&!ie.validateId(o)?(i._delayedAbort(Re.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(Re.ServerError,s)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=ki(this._connections),s=o.next();!s.done;s=o.next()){var l=d1(s.value,2),a=l[0],c=l[1];i[a]=c}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,r=new Bg.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(mn.Message,function(i){n._handleMessage(i)}),r.on(mn.Error,function(i){n._abort(Re.SocketError,i)}),r.on(mn.Disconnected,function(){n.disconnected||(n.emitError(Re.Network,"Lost connection to server."),n.disconnect())}),r.on(mn.Close,function(){n.disconnected||n._abort(Re.SocketClosed,"Underlying socket is already closed.")}),r},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var r,i,o=n.type,s=n.payload,l=n.src;switch(o){case $e.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case $e.Error:this._abort(Re.ServerError,s.msg);break;case $e.IdTaken:this._abort(Re.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case $e.InvalidKey:this._abort(Re.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case $e.Leave:V.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case $e.Expire:this.emitError(Re.PeerUnavailable,"Could not connect to peer ".concat(l));break;case $e.Offer:var w=s.connectionId,y=this.getConnection(l,w);if(y&&(y.close(),V.default.warn("Offer received for existing Connection ID:".concat(w))),s.type===Ut.Media){var a=new yu.MediaConnection(l,this,{connectionId:w,_payload:s,metadata:s.metadata});y=a,this._addConnection(l,y),this.emit("call",a)}else if(s.type===Ut.Data){var c=new vu.DataConnection(l,this,{connectionId:w,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});y=c,this._addConnection(l,y),this.emit("connection",c)}else{V.default.warn("Received malformed connection type:".concat(s.type));return}var d=this._getMessages(w);try{for(var m=ki(d),v=m.next();!v.done;v=m.next()){var k=v.value;y.handleMessage(k)}}catch(C){r={error:C}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}break;default:if(!s){V.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var w=s.connectionId,y=this.getConnection(l,w);y&&y.peerConnection?y.handleMessage(n):w?this._storeMessage(w,n):V.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},t.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},t.prototype.connect=function(n,r){if(r===void 0&&(r={}),this.disconnected){V.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Re.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new vu.DataConnection(n,this,r);return this._addConnection(n,i),i},t.prototype.call=function(n,r,i){if(i===void 0&&(i={}),this.disconnected){V.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Re.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){V.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new yu.MediaConnection(n,this,$i($i({},i),{_stream:r}));return this._addConnection(n,o),o},t.prototype._addConnection=function(n,r){V.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},t.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,r){var i,o,s=this._connections.get(n);if(!s)return null;try{for(var l=ki(s),a=l.next();!a.done;a=l.next()){var c=a.value;if(c.connectionId===r)return c}}catch(d){i={error:d}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},t.prototype._abort=function(n,r){V.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,r){V.default.error("Error:",r);var i;typeof r=="string"?i=new Error(r):i=r,i.type=n,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(V.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,r;try{for(var i=ki(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(o)try{for(var s=ki(o),l=s.next();!l.done;l=s.next()){var a=l.value;a.close()}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;V.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)V.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)V.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var r=this;n===void 0&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(Re.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(So.EventEmitter),p1=jg.Peer;class h1{constructor(t,n,r){q(this,"siteId");q(this,"db");q(this,"site");q(this,"establishedConnections",new Map);q(this,"pendingConnections",new Map);q(this,"replicator");q(this,"onConnectionsChanged",null);q(this,"_onPoked",null);q(this,"_onNewConnection",null);q(this,"_onChangesRequested",null);q(this,"_onChangesReceived",null);q(this,"_newConnection",t=>{const n=t.peer;this.pendingConnections.delete(t.peer),t.on("data",r=>this._dataReceived(n,r)),t.on("close",()=>{this.establishedConnections.delete(t.peer),this._connectionsChanged()}),t.on("error",r=>{console.error(r),this.establishedConnections.delete(t.peer),this._connectionsChanged()}),this.establishedConnections.set(t.peer,t),this._connectionsChanged(),this._onNewConnection&&this._onNewConnection(t.peer)});this.siteId=t,this.db=n,this.site=new p1(Qs(t),r),this.site.on("connection",i=>{i.on("open",()=>this._newConnection(i))})}async _init(){this.replicator=await D_.install(this.siteId,this.db,this)}schemaChanged(){this.replicator.schemaChanged()}connectTo(t){if(this.pendingConnections.has(t)){const r=this.pendingConnections.get(t);r==null||r.close()}const n=this.site.connect(t);this.pendingConnections.set(t,n),this._connectionsChanged(),n.on("open",()=>{this._newConnection(n)})}poke(t,n){const r={tag:"poke",version:n.toString()};this.establishedConnections.forEach(i=>{i.send(r)})}pushChanges(t,n){const r={tag:"apply-changes",changes:n},i=this.establishedConnections.get(t);i&&i.send(r)}requestChanges(t,n){const r={tag:"request-changes",since:n.toString()},i=this.establishedConnections.get(t);i&&i.send(r)}onPoked(t){this._onPoked=t}onNewConnection(t){this._onNewConnection=t}onChangesRequested(t){this._onChangesRequested=t}onChangesReceived(t){this._onChangesReceived=t}dispose(){this.replicator.dispose(),this.site.destroy()}_dataReceived(t,n){switch(n.tag){case"poke":this._onPoked&&this._onPoked(t,BigInt(n.version));break;case"apply-changes":this._onChangesReceived&&this._onChangesReceived(t,n.changes);break;case"request-changes":this._onChangesRequested&&this._onChangesRequested(t,BigInt(n.since));break}}_connectionsChanged(){this.onConnectionsChanged&&this.onConnectionsChanged(this.pendingConnections,this.establishedConnections)}}class m1{constructor(t){q(this,"wdbrtc");q(this,"listeners",new Set);q(this,"_connectionsChanged",(t,n)=>{for(const r of this.listeners)try{r([...t.keys()],[...n.keys()])}catch(i){console.error(i)}});this.wdbrtc=t,t.onConnectionsChanged=this._connectionsChanged}get siteId(){return this.wdbrtc.siteId}connectTo(t){this.wdbrtc.connectTo(t)}onConnectionsChanged(t){return this.listeners.add(t),()=>this.listeners.delete(t)}offConnectionsChanged(t){this.listeners.delete(t)}schemaChanged(){this.wdbrtc.schemaChanged()}dispose(){this.wdbrtc.dispose()}}async function g1(e,t){const n=(await e.execA("SELECT crsql_siteid();"))[0][0],r=new h1(n,e,t);return await r._init(),new m1(r)}const y1="crd-tweet-1";async function v1(e){const n=await(await k_(()=>b_)).open(e);window.db=n,await n.execMany(["CREATE TABLE IF NOT EXISTS users(id primary key, username, site_id);","CREATE TABLE IF NOT EXISTS tweets (id primary key, user_id, text, created_at);","CREATE TABLE IF NOT EXISTS follows (id primary key, user_id, follower_id, is_deleted);","CREATE TABLE IF NOT EXISTS likes (id primary key, user_id, tweet_id, is_deleted);"]),await n.exec("SELECT crsql_as_crr('users')"),await n.exec("SELECT crsql_as_crr('tweets')"),await n.exec("SELECT crsql_as_crr('follows')");const r=await n.execA("SELECT crsql_siteid()"),i=Qs(r[0][0]);e||await n.execMany(["INSERT INTO users VALUES ('u-1', 'user-1', 'site-1');","INSERT INTO users VALUES ('u-2', 'user-2', 'site-1');","INSERT INTO users VALUES ('u-3', 'user-3', 'site-1');","INSERT INTO tweets VALUES ('t-1', 'u-1', 'test message', '0000');","INSERT INTO tweets VALUES ('t-2', 'u-1', 'another message', '0001');","INSERT INTO tweets VALUES ('t-3', 'u-2', 'first tweet', '0002');","INSERT INTO follows VALUES ('f-1', 'u-1', 'u-2', 0);","INSERT INTO follows VALUES ('f-2', 'u-2', 'u-3', 0);"]);const o=await x_(n),s=await g1(n,window.location.hostname==="localhost"?{host:"localhost",port:9e3,path:"/examples"}:void 0);window.onbeforeunload=()=>{s.dispose(),n.close()};const l={db:n,siteid:i,rx:o,rtc:s};hl.createRoot(document.getElementById("root")).render(fe(Uv,{ctx:l}))}v1(y1);
